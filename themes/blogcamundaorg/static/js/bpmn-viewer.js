!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.BPMNViewer=a()}}(function(){var a;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a){f.call(this,a)}var e=a("inherits"),f=a("./Viewer");e(d,f),b.exports=d,d.prototype._navigationModules=[a("diagram-js/lib/navigation/zoomscroll"),a("diagram-js/lib/navigation/movecanvas")],d.prototype._modules=[].concat(d.prototype._modules,d.prototype._navigationModules)},{"./Viewer":2,"diagram-js/lib/navigation/movecanvas":185,"diagram-js/lib/navigation/zoomscroll":188,inherits:37}],2:[function(a,b,c){"use strict";function d(a){var b=/unparsable content <([^>]+)> detected([\s\S]*)$/,c=b.exec(a.message);return c&&(a.message="unparsable content <"+c[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+c[2]),a}function e(a){return a+(k(a)?"px":"")}function f(a){a=h({},t,a),this.moddle=this._createModdle(a),this.container=this._createContainer(a),g(this.container),this._init(this.container,this.moddle,a)}function g(a){var b=u.BPMNIO_LOGO,c='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100"><img src="data:image/png;base64,'+b+'"></a>',d=l(c);a.appendChild(d),v.bind(d,"click",function(a){u.open(),a.preventDefault()})}var h=a("lodash/object/assign"),i=a("lodash/object/omit"),j=a("lodash/lang/isString"),k=a("lodash/lang/isNumber"),l=a("min-dom/lib/domify"),m=a("min-dom/lib/query"),n=a("min-dom/lib/remove"),o=a("tiny-svg/lib/innerSVG"),p=a("diagram-js"),q=a("bpmn-moddle"),r=a("inherits"),s=a("./import/Importer"),t={width:"100%",height:"100%",position:"relative",container:"body"};r(f,p),b.exports=f,f.prototype.importXML=function(a,b){b=b||function(){};var c=this;a=this._emit("import.parse.start",{xml:a})||a,this.moddle.fromXML(a,"bpmn:Definitions",function(a,e,f){if(e=c._emit("import.parse.complete",{error:a,definitions:e,context:f})||e,a)return a=d(a),c._emit("import.done",{error:a}),b(a);var g=f.warnings;c.importDefinitions(e,function(a,d){var e=[].concat(g,d||[]);c._emit("import.done",{error:a,warnings:e}),b(a,e)})})},f.prototype.saveXML=function(a,b){b||(b=a,a={});var c=this.definitions;if(!c)return b(new Error("no definitions loaded"));this.moddle.toXML(c,a,b)},f.prototype.saveSVG=function(a,b){b||(b=a,a={});var c=this.get("canvas"),d=c.getDefaultLayer(),e=m("defs",c._svg),f=o(d),g=e&&e.outerHTML||"",h=d.getBBox();b(null,'<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with bpmn-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+h.width+'" height="'+h.height+'" viewBox="'+h.x+" "+h.y+" "+h.width+" "+h.height+'" version="1.1">'+g+f+"</svg>")},f.prototype.importDefinitions=function(a,b){try{this.definitions&&this.clear(),this.definitions=a,s.importBpmnDiagram(this,a,b)}catch(c){b(c)}},f.prototype.getModules=function(){return this._modules},f.prototype.destroy=function(){p.prototype.destroy.call(this),n(this.container)},f.prototype.on=function(a,b,c,d){return this.get("eventBus").on(a,b,c,d)},f.prototype.off=function(a,b){this.get("eventBus").off(a,b)},f.prototype._init=function(a,b,c){var d=c.modules||this.getModules(),e=c.additionalModules||[],f=[{bpmnjs:["value",this],moddle:["value",b]}],g=[].concat(f,d,e),j=h(i(c,"additionalModules"),{canvas:h({},c.canvas,{container:a}),modules:g});p.call(this,j)},f.prototype._emit=function(a,b){return this.get("eventBus").fire(a,b)},f.prototype._createContainer=function(a){var b,c=a.container;return c.get&&(c=c.get(0)),j(c)&&(c=m(c)),b=l('<div class="bjs-container"></div>'),h(b.style,{width:e(a.width),height:e(a.height),position:a.position}),c.appendChild(b),b},f.prototype._createModdle=function(a){var b=h({},this._moddleExtensions,a.moddleExtensions);return new q(b)},f.prototype._modules=[a("./core"),a("diagram-js/lib/i18n/translate"),a("diagram-js/lib/features/selection"),a("diagram-js/lib/features/overlays")],f.prototype._moddleExtensions={};var u=a("./util/PoweredByUtil"),v=a("min-dom/lib/event")},{"./core":3,"./import/Importer":9,"./util/PoweredByUtil":15,"bpmn-moddle":16,"diagram-js":159,"diagram-js/lib/features/overlays":176,"diagram-js/lib/features/selection":180,"diagram-js/lib/i18n/translate":181,inherits:37,"lodash/lang/isNumber":120,"lodash/lang/isString":122,"lodash/object/assign":124,"lodash/object/omit":127,"min-dom/lib/domify":134,"min-dom/lib/event":135,"min-dom/lib/query":136,"min-dom/lib/remove":137,"tiny-svg/lib/innerSVG":153}],3:[function(a,b,c){b.exports={__depends__:[a("../draw"),a("../import")]}},{"../draw":6,"../import":11}],4:[function(a,b,c){"use strict";function d(a,b,c,d){function j(a,b){W[a]=b}function k(a){return"url(#"+W[a].id+")"}function l(a){function b(b,c){var d=p({fill:"black",strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},c.attrs),e=c.ref||{x:0,y:0},f=c.scale||1;"none"===d.strokeDasharray&&(d.strokeDasharray=[1e4,1]);var g=E("marker");D(c.element,d),C(g,c.element),D(g,{id:b,viewBox:"0 0 20 20",refX:e.x,refY:e.y,markerWidth:20*f,markerHeight:20*f,orient:"auto"});var h=B("defs",a);return h||(h=E("defs"),C(a,h)),C(h,g),j(b,g)}var c=E("path");D(c,{d:"M 1 5 L 11 10 L 1 15 Z"}),b("sequenceflow-end",{element:c,ref:{x:11,y:10},scale:.5});var d=E("circle");D(d,{cx:6,cy:6,r:3.5}),b("messageflow-start",{element:d,attrs:{fill:"white",stroke:"black"},ref:{x:6,y:6}});var e=E("path");D(e,{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z"}),b("messageflow-end",{element:e,attrs:{fill:"white",stroke:"black",strokeLinecap:"butt"},ref:{x:8.5,y:5}});var f=E("path");D(f,{d:"M 11 5 L 1 10 L 11 15"}),b("association-start",{element:f,attrs:{fill:"none",stroke:"black",strokeWidth:1.5},ref:{x:1,y:10},scale:.5});var g=E("path");D(g,{d:"M 1 5 L 11 10 L 1 15"}),b("association-end",{element:g,attrs:{fill:"none",stroke:"black",strokeWidth:1.5},ref:{x:12,y:10},scale:.5});var h=E("path");D(h,{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z"}),b("conditional-flow-marker",{element:h,attrs:{fill:"white",stroke:"black"},ref:{x:-1,y:10},scale:.5});var i=E("path");D(i,{d:"M 1 4 L 5 16"}),b("conditional-default-flow-marker",{element:i,attrs:{stroke:"black"},ref:{x:-5,y:10},scale:.5})}function m(a,b,c,d,e){o(d)&&(e=d,d=0),d=d||0,e=X(e,{stroke:"black",strokeWidth:2,fill:"white"});var f=b/2,g=c/2,h=E("circle");return D(h,{cx:f,cy:g,r:Math.round((b+c)/4-d)}),D(h,e),C(a,h),h}function n(a,b,c,d,e,f){o(e)&&(f=e,e=0),e=e||0,f=X(f,{stroke:"black",strokeWidth:2,fill:"white"});var g=E("rect");return D(g,{x:e,y:e,width:b-2*e,height:c-2*e,rx:d,ry:d}),D(g,f),C(a,g),g}function r(a,b,c,d){var e=b/2,f=c/2,g=[{x:e,y:0},{x:b,y:f},{x:e,y:c},{x:0,y:f}],h=g.map(function(a){return a.x+","+a.y}).join(" ");d=X(d,{stroke:"black",strokeWidth:2,fill:"white"});var i=E("polygon");return D(i,{points:h}),D(i,d),C(a,i),i}function t(a,b,c){c=X(c,["no-fill"],{stroke:"black",strokeWidth:2,fill:"none"});var d=A(b,c);return C(a,d),d}function x(a,b,c){c=X(c,["no-fill"],{strokeWidth:2,stroke:"black"});var d=E("path");return D(d,{d:b}),D(d,c),C(a,d),d}function y(a,b,c,d){return x(b,c,p({"data-marker":a},d))}function z(a){return function(b,c){return Y[a](b,c)}}function M(a){return Y[a]}function N(a,b){var c=i(a),d=f(c);return e(c,"bpmn:MessageEventDefinition")?M("bpmn:MessageEventDefinition")(b,a,d):e(c,"bpmn:TimerEventDefinition")?M("bpmn:TimerEventDefinition")(b,a,d):e(c,"bpmn:ConditionalEventDefinition")?M("bpmn:ConditionalEventDefinition")(b,a):e(c,"bpmn:SignalEventDefinition")?M("bpmn:SignalEventDefinition")(b,a,d):e(c,"bpmn:CancelEventDefinition")&&e(c,"bpmn:TerminateEventDefinition",{parallelMultiple:!1})?M("bpmn:MultipleEventDefinition")(b,a,d):e(c,"bpmn:CancelEventDefinition")&&e(c,"bpmn:TerminateEventDefinition",{parallelMultiple:!0})?M("bpmn:ParallelMultipleEventDefinition")(b,a,d):e(c,"bpmn:EscalationEventDefinition")?M("bpmn:EscalationEventDefinition")(b,a,d):e(c,"bpmn:LinkEventDefinition")?M("bpmn:LinkEventDefinition")(b,a,d):e(c,"bpmn:ErrorEventDefinition")?M("bpmn:ErrorEventDefinition")(b,a,d):e(c,"bpmn:CancelEventDefinition")?M("bpmn:CancelEventDefinition")(b,a,d):e(c,"bpmn:CompensateEventDefinition")?M("bpmn:CompensateEventDefinition")(b,a,d):e(c,"bpmn:TerminateEventDefinition")?M("bpmn:TerminateEventDefinition")(b,a,d):null}function O(a,b,c){var d=V.createText(a,b||"",c);return F(d).add("djs-label"),d}function P(a,b,c){return O(a,i(b).name,{box:b,align:c,padding:5})}function Q(a,b){var c=i(b),d={width:90,height:30,x:b.width/2+b.x,y:b.height/2+b.y};return O(a,c.name,{box:d,style:{fontSize:"11px"}})}function R(a,b,c){var d=O(a,b,{box:{height:30,width:c.height},align:"center-middle"}),e=-1*c.height;H(d,0,-e,270)}function S(a){for(var b=a.waypoints,c="m  "+b[0].x+","+b[0].y,d=1;d<b.length;d++)c+="L"+b[d].x+","+b[d].y+" ";return c}function T(a,b,c){var d,e=i(b),f=s(c,"SubProcessMarker");d=f?{seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:{seq:-3,parallel:-6,compensation:-27,loop:0,adhoc:10},q(c,function(c){M(c)(a,b,d)}),e.isForCompensation&&M("CompensationMarker")(a,b,d),"bpmn:AdHocSubProcess"===e.$type&&M("AdhocMarker")(a,b,d);var g=e.loopCharacteristics,h=g&&g.isSequential;g&&(void 0===h&&M("LoopMarker")(a,b,d),!1===h&&M("ParallelMarker")(a,b,d),!0===h&&M("SequentialMarker")(a,b,d))}function U(a,b){var d=(b.height-16)/b.height;x(a,c.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:.451,my:d}}),{strokeWidth:2})}u.call(this,a,d);var V=new v({style:L,size:{width:100}}),W={},X=b.computeStyle,Y=this.handlers={"bpmn:Event":function(a,b,c){return m(a,b.width,b.height,c)},"bpmn:StartEvent":function(a,b){var c={};i(b).isInterrupting||(c={strokeDasharray:"6",strokeLinecap:"round"});var d=M("bpmn:Event")(a,b,c);return N(b,a),d},"bpmn:MessageEventDefinition":function(a,b,d){return x(a,c.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:b.width,containerHeight:b.height,position:{mx:.235,my:.315}}),{strokeWidth:1,fill:d?"black":"white",stroke:d?"white":"black"})},"bpmn:TimerEventDefinition":function(a,b){var d=m(a,b.width,b.height,.2*b.height,{strokeWidth:2});x(a,c.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:b.width,containerHeight:b.height,position:{mx:.5,my:.5}}),{strokeWidth:2,strokeLinecap:"square"});for(var e=0;e<12;e++){var f=c.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:b.width,containerHeight:b.height,position:{mx:.5,my:.5}}),g=b.width/2;x(a,f,{strokeWidth:1,strokeLinecap:"square",transform:"rotate("+30*e+","+b.height/2+","+g+")"})}return d},"bpmn:EscalationEventDefinition":function(a,b,d){return x(a,c.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:d?"black":"none"})},"bpmn:ConditionalEventDefinition":function(a,b){return x(a,c.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:.5,my:.222}}),{strokeWidth:1})},"bpmn:LinkEventDefinition":function(a,b,d){return x(a,c.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:.57,my:.263}}),{strokeWidth:1,fill:d?"black":"none"})},"bpmn:ErrorEventDefinition":function(a,b,d){return x(a,c.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:b.width,containerHeight:b.height,position:{mx:.2,my:.722}}),{strokeWidth:1,fill:d?"black":"none"})},"bpmn:CancelEventDefinition":function(a,b,d){var e=c.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:.638,my:-.055}}),f=d?"black":"none",g=x(a,e,{strokeWidth:1,fill:f});return G(g,45),g},"bpmn:CompensateEventDefinition":function(a,b,d){return x(a,c.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:.22,my:.5}}),{strokeWidth:1,fill:d?"black":"none"})},"bpmn:SignalEventDefinition":function(a,b,d){return x(a,c.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:b.width,containerHeight:b.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:d?"black":"none"})},"bpmn:MultipleEventDefinition":function(a,b,d){return x(a,c.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:b.width,containerHeight:b.height,position:{mx:.222,my:.36}}),{strokeWidth:1,fill:d?"black":"none"})},"bpmn:ParallelMultipleEventDefinition":function(a,b){return x(a,c.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:b.width,containerHeight:b.height,position:{mx:.458,my:.194}}),{strokeWidth:1})},"bpmn:EndEvent":function(a,b){var c=M("bpmn:Event")(a,b,{strokeWidth:4});return N(b,a,!0),c},"bpmn:TerminateEventDefinition":function(a,b){return m(a,b.width,b.height,8,{strokeWidth:4,fill:"black"})},"bpmn:IntermediateEvent":function(a,b){var c=M("bpmn:Event")(a,b,{strokeWidth:1});return m(a,b.width,b.height,K,{strokeWidth:1,fill:"none"}),N(b,a),c},"bpmn:IntermediateCatchEvent":z("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":z("bpmn:IntermediateEvent"),"bpmn:Activity":function(a,b,c){return n(a,b.width,b.height,J,c)},"bpmn:Task":function(a,b,c){var d=M("bpmn:Activity")(a,b,c);return P(a,b,"center-middle"),T(a,b),d},"bpmn:ServiceTask":function(a,b){var d=M("bpmn:Task")(a,b);return x(a,c.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}}),{strokeWidth:1,fill:"none"}),x(a,c.getScaledPath("TASK_TYPE_SERVICE_FILL",{abspos:{x:17.2,y:18}}),{strokeWidth:0,stroke:"none",fill:"white"}),x(a,c.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}}),{strokeWidth:1,fill:"white"}),d},"bpmn:UserTask":function(a,b){var d=M("bpmn:Task")(a,b),e=15,f=12;return x(a,c.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:e,y:f}}),{strokeWidth:.5,fill:"none"}),x(a,c.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:e,y:f}}),{strokeWidth:.5,fill:"none"}),x(a,c.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:e,y:f}}),{strokeWidth:.5,fill:"black"}),d},"bpmn:ManualTask":function(a,b){var d=M("bpmn:Task")(a,b);return x(a,c.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}}),{strokeWidth:.25,fill:"white",stroke:"black"}),d},"bpmn:SendTask":function(a,b){var d=M("bpmn:Task")(a,b);return x(a,c.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}}),{strokeWidth:1,fill:"black",stroke:"white"}),d},"bpmn:ReceiveTask":function(a,b){var d,e=i(b),f=M("bpmn:Task")(a,b);return e.instantiate?(m(a,28,28,4.4,{strokeWidth:1}),d=c.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):d=c.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),x(a,d,{strokeWidth:1}),f},"bpmn:ScriptTask":function(a,b){var d=M("bpmn:Task")(a,b);return x(a,c.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}}),{strokeWidth:1}),d},"bpmn:BusinessRuleTask":function(a,b){var d=M("bpmn:Task")(a,b),e=c.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}}),f=x(a,e);D(f,{strokeWidth:1,fill:"AAA"});var g=c.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}}),h=x(a,g);return D(h,{strokeWidth:1}),d},"bpmn:SubProcess":function(a,b,c){c=p({fillOpacity:.95},c);var d=M("bpmn:Activity")(a,b,c),e=w.isExpanded(b);return w.isEventSubProcess(b)&&D(d,{strokeDasharray:"1,2"}),P(a,b,e?"center-top":"center-middle"),e?T(a,b):T(a,b,["SubProcessMarker"]),d},"bpmn:AdHocSubProcess":function(a,b){return M("bpmn:SubProcess")(a,b)},"bpmn:Transaction":function(a,c){var d=M("bpmn:SubProcess")(a,c),e=b.style(["no-fill","no-events"]);return n(a,c.width,c.height,J-2,K,e),d},"bpmn:CallActivity":function(a,b){return M("bpmn:SubProcess")(a,b,{strokeWidth:5})},"bpmn:Participant":function(a,b){var c=M("bpmn:Lane")(a,b,{fillOpacity:.95,fill:"White"});w.isExpanded(b)?(t(a,[{x:30,y:0},{x:30,y:b.height}]),R(a,i(b).name,b)):O(a,i(b).name,{box:b,align:"center-middle"});return!!i(b).participantMultiplicity&&M("ParticipantMultiplicityMarker")(a,b),c},"bpmn:Lane":function(a,b,c){var d=n(a,b.width,b.height,0,c||{fill:"none"}),e=i(b);if("bpmn:Lane"===e.$type){R(a,e.name,b)}return d},"bpmn:InclusiveGateway":function(a,b){var c=r(a,b.width,b.height);return m(a,b.width,b.height,.24*b.height,{strokeWidth:2.5,fill:"none"}),c},"bpmn:ExclusiveGateway":function(a,b){var d=r(a,b.width,b.height),e=c.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:b.width,containerHeight:b.height,position:{mx:.32,my:.3}});return h(b).isMarkerVisible&&x(a,e,{strokeWidth:1,fill:"black"}),d},"bpmn:ComplexGateway":function(a,b){var d=r(a,b.width,b.height);return x(a,c.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:b.width,containerHeight:b.height,position:{mx:.46,my:.26}}),{strokeWidth:1,fill:"black"}),d},"bpmn:ParallelGateway":function(a,b){var d=r(a,b.width,b.height);return x(a,c.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:b.width,containerHeight:b.height,position:{mx:.46,my:.2}}),{strokeWidth:1,fill:"black"}),d},"bpmn:EventBasedGateway":function(a,b){function d(){var d=c.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:b.width,containerHeight:b.height,position:{mx:.36,my:.44}});x(a,d,{strokeWidth:2,fill:"none"})}var e=i(b),f=r(a,b.width,b.height);m(a,b.width,b.height,.2*b.height,{strokeWidth:1,fill:"none"});var g=e.eventGatewayType,h=!!e.instantiate;if("Parallel"===g){var j=c.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:b.width,containerHeight:b.height,position:{mx:.474,my:.296}}),k=x(a,j);D(k,{strokeWidth:1,fill:"none"})}else if("Exclusive"===g){if(!h){var l=m(a,b.width,b.height,.26*b.height);D(l,{strokeWidth:1,fill:"none"})}d()}return f},"bpmn:Gateway":function(a,b){return r(a,b.width,b.height)},"bpmn:SequenceFlow":function(a,b){var c=S(b),d=x(a,c,{strokeLinejoin:"round",markerEnd:k("sequenceflow-end")}),e=i(b),f=b.source.businessObject;return e.conditionExpression&&f.$instanceOf("bpmn:Activity")&&D(d,{markerStart:k("conditional-flow-marker")}),f.default&&(f.$instanceOf("bpmn:Gateway")||f.$instanceOf("bpmn:Activity"))&&f.default===e&&D(d,{markerStart:k("conditional-default-flow-marker")}),d},"bpmn:Association":function(a,b,c){var d=i(b);return c=p({strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round"},c||{}),"One"!==d.associationDirection&&"Both"!==d.associationDirection||(c.markerEnd=k("association-end")),"Both"===d.associationDirection&&(c.markerStart=k("association-start")),t(a,b.waypoints,c)},"bpmn:DataInputAssociation":function(a,b){return M("bpmn:Association")(a,b,{markerEnd:k("association-end")})},"bpmn:DataOutputAssociation":function(a,b){return M("bpmn:Association")(a,b,{markerEnd:k("association-end")})},"bpmn:MessageFlow":function(a,b){var d=i(b),e=h(b),f=S(b),g=x(a,f,{markerEnd:k("messageflow-end"),markerStart:k("messageflow-start"),strokeDasharray:"10, 12",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5px"});if(d.messageRef){var j=g.getPointAtLength(g.getTotalLength()/2),l=c.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:j.x,y:j.y}}),m={strokeWidth:1};"initiating"===e.messageVisibleKind?(m.fill="white",m.stroke="black"):(m.fill="#888",m.stroke="white"),x(a,l,m)}return g},"bpmn:DataObject":function(a,b){var d=c.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:.474,my:.296}}),e=x(a,d,{fill:"white"});return g(i(b))&&U(a,b),e},"bpmn:DataObjectReference":z("bpmn:DataObject"),"bpmn:DataInput":function(a,b){var d=c.getRawPath("DATA_ARROW"),e=M("bpmn:DataObject")(a,b);return x(a,d,{strokeWidth:1}),e},"bpmn:DataOutput":function(a,b){var d=c.getRawPath("DATA_ARROW"),e=M("bpmn:DataObject")(a,b);return x(a,d,{strokeWidth:1,fill:"black"}),e},"bpmn:DataStoreReference":function(a,b){return x(a,c.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:0,my:.133}}),{strokeWidth:2,fill:"white"})},"bpmn:BoundaryEvent":function(a,b){var c=i(b),d=c.cancelActivity,e={strokeWidth:1};d||(e.strokeDasharray="6",e.strokeLinecap="round");var f=M("bpmn:Event")(a,b,e);return m(a,b.width,b.height,K,p(e,{fill:"none"})),N(b,a),f},"bpmn:Group":function(a,b){return n(a,b.width,b.height,J,{strokeWidth:1,strokeDasharray:"8,3,1,3",fill:"none",pointerEvents:"none"})},label:function(a,b){var c,d=Q(a,b);try{c=d.getBBox()}catch(e){c={width:0,height:0,x:0}}return b.x=Math.ceil(b.x+b.width/2)-Math.ceil(c.width/2),b.width=Math.ceil(c.width),b.height=Math.ceil(c.height),D(d,{transform:"translate("+-1*c.x+",0)"}),d},"bpmn:TextAnnotation":function(a,b){var d={fill:"none",stroke:"none"},e=n(a,b.width,b.height,0,0,d);return x(a,c.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:0,my:0}})),O(a,i(b).text||"",{box:b,align:"left-middle",padding:5}),e},ParticipantMultiplicityMarker:function(a,b){y("participant-multiplicity",a,c.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:b.width/2/b.width,my:(b.height-15)/b.height}}))},SubProcessMarker:function(a,b){var d=n(a,14,14,0,{strokeWidth:1});I(d,b.width/2-7.5,b.height-20),y("sub-process",a,c.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2-7.5)/b.width,my:(b.height-20)/b.height}}))},ParallelMarker:function(a,b,d){y("parallel",a,c.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2+d.parallel)/b.width,my:(b.height-20)/b.height}}))},SequentialMarker:function(a,b,d){y("sequential",a,c.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2+d.seq)/b.width,my:(b.height-19)/b.height}}))},CompensationMarker:function(a,b,d){y("compensation",a,c.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2+d.compensation)/b.width,my:(b.height-13)/b.height}}),{strokeWidth:1})},LoopMarker:function(a,b,d){y("loop",a,c.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2+d.loop)/b.width,my:(b.height-7)/b.height}}),{strokeWidth:1,fill:"none",strokeLinecap:"round",strokeMiterlimit:.5})},AdhocMarker:function(a,b,d){y("adhoc",a,c.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2+d.adhoc)/b.width,my:(b.height-15)/b.height}}),{strokeWidth:1,fill:"black"})}};a.on("canvas.init",function(a){l(a.svg)})}function e(a,b,c){function d(a,b){return r(b,function(b,c){return a[c]==b})}return t(a.eventDefinitions,function(e){return e.$type===b&&d(a,c)})}function f(a){return"bpmn:IntermediateThrowEvent"===a.$type||"bpmn:EndEvent"===a.$type}function g(a){return a.isCollection||a.elementObjectRef&&a.elementObjectRef.isCollection}function h(a){return a.businessObject.di}function i(a){return a.businessObject}function j(a){var b=a.x+a.width/2,c=a.y+a.height/2,d=a.width/2;return z([["M",b,c],["m",0,-d],["a",d,d,0,1,1,0,2*d],["a",d,d,0,1,1,0,-2*d],["z"]])}function k(a,b){var c=a.x,d=a.y,e=a.width,f=a.height;return z([["M",c+b,d],["l",e-2*b,0],["a",b,b,0,0,1,b,b],["l",0,f-2*b],["a",b,b,0,0,1,-b,b],["l",2*b-e,0],["a",b,b,0,0,1,-b,-b],["l",0,2*b-f],["a",b,b,0,0,1,b,-b],["z"]])}function l(a){var b=a.width,c=a.height,d=a.x,e=a.y,f=b/2,g=c/2;return z([["M",d+f,e],["l",f,g],["l",-f,g],["l",-f,-g],["z"]])}function m(a){var b=a.x,c=a.y,d=a.width,e=a.height;return z([["M",b,c],["l",d,0],["l",0,e],["l",-d,0],["z"]])}var n=a("inherits"),o=a("lodash/lang/isObject"),p=a("lodash/object/assign"),q=a("lodash/collection/forEach"),r=a("lodash/collection/every"),s=a("lodash/collection/includes"),t=a("lodash/collection/some"),u=a("diagram-js/lib/draw/BaseRenderer"),v=a("diagram-js/lib/util/Text"),w=a("../util/DiUtil"),x=a("../util/ModelUtil").is,y=a("diagram-js/lib/util/RenderUtil"),z=y.componentsToPath,A=y.createLine,B=a("min-dom/lib/query"),C=a("tiny-svg/lib/append"),D=a("tiny-svg/lib/attr"),E=a("tiny-svg/lib/create"),F=a("tiny-svg/lib/classes"),G=a("diagram-js/lib/util/SvgTransformUtil").rotate,H=a("diagram-js/lib/util/SvgTransformUtil").transform,I=a("diagram-js/lib/util/SvgTransformUtil").translate,J=10,K=3,L={fontFamily:"Arial, sans-serif",fontSize:12};n(d,u),d.$inject=["eventBus","styles","pathMap"],b.exports=d,d.prototype.canRender=function(a){return x(a,"bpmn:BaseElement")},d.prototype.drawShape=function(a,b){var c=b.type;return(0,this.handlers[c])(a,b)},d.prototype.drawConnection=function(a,b){var c=b.type;return(0,this.handlers[c])(a,b)},d.prototype.getShapePath=function(a){return x(a,"bpmn:Event")?j(a):x(a,"bpmn:Activity")?k(a,J):x(a,"bpmn:Gateway")?l(a):m(a)}},{"../util/DiUtil":12,"../util/ModelUtil":14,"diagram-js/lib/draw/BaseRenderer":167,"diagram-js/lib/util/RenderUtil":199,"diagram-js/lib/util/SvgTransformUtil":200,"diagram-js/lib/util/Text":201,inherits:37,"lodash/collection/every":39,"lodash/collection/forEach":42,"lodash/collection/includes":43,"lodash/collection/some":46,"lodash/lang/isObject":121,"lodash/object/assign":124,"min-dom/lib/query":136,"tiny-svg/lib/append":147,"tiny-svg/lib/attr":149,"tiny-svg/lib/classes":150,"tiny-svg/lib/create":152}],5:[function(a,b,c){"use strict";function d(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m {mx}, {my} m  0 15  l 0 -15 m  4 15  l 0 -15 m  4 15  l 0 -15 ",height:61,width:51,heightElements:[12],widthElements:[1,6,12,15]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{
d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(a){return this.pathMap[a].d},this.getScaledPath=function(a,b){var c,d,e=this.pathMap[a];b.abspos?(c=b.abspos.x,d=b.abspos.y):(c=b.containerWidth*b.position.mx,d=b.containerHeight*b.position.my);var g={};if(b.position){for(var h=b.containerHeight/e.height*b.yScaleFactor,i=b.containerWidth/e.width*b.xScaleFactor,j=0;j<e.heightElements.length;j++)g["y"+j]=e.heightElements[j]*h;for(var k=0;k<e.widthElements.length;k++)g["x"+k]=e.widthElements[k]*i}return f(e.d,{mx:c,my:d,e:g})}}function e(a,b,c){var d=c;return b.replace(h,function(a,b,c,e,f){b=b||e,d&&(b in d&&(d=d[b]),"function"==typeof d&&f&&(d=d()))}),d=(null==d||d==c?a:d)+""}function f(a,b){return String(a).replace(g,function(a,c){return e(a,c,b)})}b.exports=d;var g=/\{([^\}]+)\}/g,h=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g},{}],6:[function(a,b,c){b.exports={__init__:["bpmnRenderer"],bpmnRenderer:["type",a("./BpmnRenderer")],pathMap:["type",a("./PathMap")]}},{"./BpmnRenderer":4,"./PathMap":5}],7:[function(a,b,c){"use strict";function d(a,b){return h({id:a.id,type:a.$type,businessObject:a},b)}function e(a){return i(a,function(a){return{x:a.x,y:a.y}})}function f(a,b,c,d){return new Error(a("element {element} referenced by {referenced}#{property} not yet drawn",{element:o(c),referenced:o(b),property:d}))}function g(a,b,c,d,e){this._eventBus=a,this._canvas=b,this._elementFactory=c,this._elementRegistry=d,this._translate=e}var h=a("lodash/object/assign"),i=a("lodash/collection/map"),j=a("../util/LabelUtil"),k=a("../util/ModelUtil").is,l=j.hasExternalLabel,m=j.getExternalLabelBounds,n=a("../util/DiUtil").isExpanded,o=a("./Util").elementToString;g.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate"],b.exports=g,g.prototype.add=function(a,b){var c,f,g=a.di,h=this._translate;if(k(g,"bpmndi:BPMNPlane"))c=this._elementFactory.createRoot(d(a)),this._canvas.setRootElement(c);else if(k(g,"bpmndi:BPMNShape")){var i=!n(a);f=b&&(b.hidden||b.collapsed);var j=a.di.bounds;c=this._elementFactory.createShape(d(a,{collapsed:i,hidden:f,x:Math.round(j.x),y:Math.round(j.y),width:Math.round(j.width),height:Math.round(j.height)})),k(a,"bpmn:BoundaryEvent")&&this._attachBoundary(a,c),this._canvas.addShape(c,b)}else{if(!k(g,"bpmndi:BPMNEdge"))throw new Error(h("unknown di {di} for element {semantic}",{di:o(g),semantic:o(a)}));var m=this._getSource(a),p=this._getTarget(a);f=b&&(b.hidden||b.collapsed),c=this._elementFactory.createConnection(d(a,{hidden:f,source:m,target:p,waypoints:e(a.di.waypoint)})),(k(a,"bpmn:DataInputAssociation")||k(a,"bpmn:DataOutputAssociation"))&&(b=null),this._canvas.addConnection(c,b)}return l(a)&&this.addLabel(a,c),this._eventBus.fire("bpmnElement.added",{element:c}),c},g.prototype._attachBoundary=function(a,b){var c=this._translate,d=a.attachedToRef;if(!d)throw new Error(c("missing {semantic}#attachedToRef",{semantic:o(a)}));var e=this._elementRegistry.get(d.id),g=e&&e.attachers;if(!e)throw f(c,a,d,"attachedToRef");b.host=e,g||(e.attachers=g=[]),-1===g.indexOf(b)&&g.push(b)},g.prototype.addLabel=function(a,b){var c=m(a,b),e=this._elementFactory.createLabel(d(a,{id:a.id+"_label",labelTarget:b,type:"label",hidden:b.hidden||!a.name,x:Math.round(c.x),y:Math.round(c.y),width:Math.round(c.width),height:Math.round(c.height)}));return this._canvas.addShape(e,b.parent)},g.prototype._getEnd=function(a,b){var c,d,e=a.$type,g=this._translate;if(d=a[b+"Ref"],"source"===b&&"bpmn:DataInputAssociation"===e&&(d=d&&d[0]),("source"===b&&"bpmn:DataOutputAssociation"===e||"target"===b&&"bpmn:DataInputAssociation"===e)&&(d=a.$parent),c=d&&this._getElement(d))return c;throw d?f(g,a,d,b+"Ref"):new Error(g("{semantic}#{side} Ref not specified",{semantic:o(a),side:b}))},g.prototype._getSource=function(a){return this._getEnd(a,"source")},g.prototype._getTarget=function(a){return this._getEnd(a,"target")},g.prototype._getElement=function(a){return this._elementRegistry.get(a.id)}},{"../util/DiUtil":12,"../util/LabelUtil":13,"../util/ModelUtil":14,"./Util":10,"lodash/collection/map":44,"lodash/object/assign":124}],8:[function(a,b,c){"use strict";function d(a,b){return a.$instanceOf(b)}function e(a){return h(a.rootElements,function(a){return d(a,"bpmn:Process")||d(a,"bpmn:Collaboration")})}function f(a,b){function c(a,b){return function(c){a(c,b)}}function f(a){S[a.id]=a}function h(a){return S[a.id]}function j(c,d){if(c.gfx)throw new Error(b("already rendered {element}",{element:k(c)}));return a.element(c,d)}function m(b,c){return a.root(b,c)}function n(a,c){try{var d=a.di&&j(a,c);return f(a),d}catch(e){o(e.message,{element:a,error:e}),console.error(b("failed to import {element}",{element:k(a)})),console.error(e)}}function o(b,c){a.error(b,c)}function p(a){var c=a.bpmnElement;c?c.di?o(b("multiple DI elements defined for {element}",{element:k(c)}),{element:c}):(l.bind(c,"di"),c.di=a):o(b("no bpmnElement referenced in {element}",{element:k(a)}),{element:a})}function q(a){r(a.plane)}function r(a){p(a),i(a.planeElement,s)}function s(a){p(a)}function t(a,c){var f=a.diagrams;if(c&&-1===f.indexOf(c))throw new Error(b("diagram not part of bpmn:Definitions"));if(!c&&f&&f.length&&(c=f[0]),!c)throw new Error(b("no diagram to display"));q(c);var g=c.plane;if(!g)throw new Error(b("no plane for {element}",{element:k(c)}));var h=g.bpmnElement;if(!h){if(!(h=e(a)))throw new Error(b("no process or collaboration to display"));o(b("correcting missing bpmnElement on {plane} to {rootElement}",{plane:k(g),rootElement:k(h)})),g.bpmnElement=h,p(g)}var i=m(h,g);if(d(h,"bpmn:Process"))v(h,i);else{if(!d(h,"bpmn:Collaboration"))throw new Error(b("unsupported bpmnElement for {plane}: {rootElement}",{plane:k(g),rootElement:k(h)}));Q(h,i),w(a.rootElements,i)}u(T)}function u(a){i(a,function(a){a()})}function v(a,b){N(a,b),E(a.ioSpecification,b),D(a.artifacts,b),f(a)}function w(a){g(a,function(a){return!h(a)&&d(a,"bpmn:Process")&&a.laneSets}).forEach(c(v))}function x(a,b){n(a,b)}function y(a,b){i(a,c(x,b))}function z(a,b){n(a,b)}function A(a,b){n(a,b)}function B(a,b){n(a,b)}function C(a,b){n(a,b)}function D(a,b){i(a,function(a){d(a,"bpmn:Association")?T.push(function(){C(a,b)}):C(a,b)})}function E(a,b){a&&(i(a.dataInputs,c(A,b)),i(a.dataOutputs,c(B,b)))}function F(a,b){N(a,b),D(a.artifacts,b)}function G(a,b){var e=n(a,b);d(a,"bpmn:SubProcess")&&F(a,e||b),d(a,"bpmn:Activity")&&E(a.ioSpecification,b),T.push(function(){i(a.dataInputAssociations,c(z,b)),i(a.dataOutputAssociations,c(z,b))})}function H(a,b){n(a,b)}function I(a,b){n(a,b)}function J(a,b){n(a,b)}function K(a,b){var c=n(a,b);a.childLaneSet&&L(a.childLaneSet,c||b),R(a)}function L(a,b){i(a.lanes,c(K,b))}function M(a,b){i(a,c(L,b))}function N(a,b){a.laneSets&&M(a.laneSets,b),O(a.flowElements,b)}function O(a,c){i(a,function(a){d(a,"bpmn:SequenceFlow")?T.push(function(){H(a,c)}):d(a,"bpmn:BoundaryEvent")?T.unshift(function(){J(a,c)}):d(a,"bpmn:FlowNode")?G(a,c):d(a,"bpmn:DataObject")||(d(a,"bpmn:DataStoreReference")?I(a,c):d(a,"bpmn:DataObjectReference")?I(a,c):o(b("unrecognized flowElement {element} in context {context}",{element:k(a),context:c?k(c.businessObject):"null"}),{element:a,context:c}))})}function P(a,b){var c=n(a,b),d=a.processRef;d&&v(d,c||b)}function Q(a){i(a.participants,c(P)),D(a.artifacts),T.push(function(){y(a.messageFlows)})}function R(a){i(a.flowNodeRef,function(b){var c=b.get("lanes");c&&c.push(a)})}var S={},T=[];return{handleDefinitions:t}}var g=a("lodash/collection/filter"),h=a("lodash/collection/find"),i=a("lodash/collection/forEach"),j=a("object-refs"),k=a("./Util").elementToString,l=new j({name:"bpmnElement",enumerable:!0},{name:"di"});b.exports=f},{"./Util":10,"lodash/collection/filter":40,"lodash/collection/find":41,"lodash/collection/forEach":42,"object-refs":144}],9:[function(a,b,c){"use strict";function d(a,b,c){function d(a){new e({root:function(a){return g.add(a)},element:function(a,b){return g.add(a,b)},error:function(a,b){j.push({message:a,context:b})}},i).handleDefinitions(a)}var f,g=a.get("bpmnImporter"),h=a.get("eventBus"),i=a.get("translate"),j=[];h.fire("import.render.start",{definitions:b});try{d(b)}catch(k){f=k}h.fire("import.render.complete",{error:f,warnings:j}),c(f,j)}var e=a("./BpmnTreeWalker");b.exports.importBpmnDiagram=d},{"./BpmnTreeWalker":8}],10:[function(a,b,c){"use strict";b.exports.elementToString=function(a){return a?"<"+a.$type+(a.id?' id="'+a.id:"")+'" />':"<null>"}},{}],11:[function(a,b,c){b.exports={__depends__:[a("diagram-js/lib/i18n/translate")],bpmnImporter:["type",a("./BpmnImporter")]}},{"./BpmnImporter":7,"diagram-js/lib/i18n/translate":181}],12:[function(a,b,c){"use strict";function d(a,b){var c=f(a),d=!1;return c.eventDefinitions&&g(c.eventDefinitions,function(a){e(a,b)&&(d=!0)}),d}var e=a("./ModelUtil").is,f=a("./ModelUtil").getBusinessObject,g=a("lodash/collection/forEach");b.exports.isExpanded=function(a){return!e(a,"bpmn:CallActivity")&&(e(a,"bpmn:SubProcess")?!!f(a).di.isExpanded:!e(a,"bpmn:Participant")||!!f(a).processRef)},b.exports.isInterrupting=function(a){return a&&!1!==f(a).isInterrupting},b.exports.isEventSubProcess=function(a){return a&&!!f(a).triggeredByEvent},b.exports.hasEventDefinition=d,b.exports.hasErrorEventDefinition=function(a){return d(a,"bpmn:ErrorEventDefinition")},b.exports.hasEscalationEventDefinition=function(a){return d(a,"bpmn:EscalationEventDefinition")},b.exports.hasCompensateEventDefinition=function(a){return d(a,"bpmn:CompensateEventDefinition")}},{"./ModelUtil":14,"lodash/collection/forEach":42}],13:[function(a,b,c){"use strict";function d(a){var b=a.length/2-1,c=a[Math.floor(b)],d=a[Math.ceil(b+.01)],f=e(a),g=Math.atan((d.y-c.y)/(d.x-c.x)),h=f.x,i=f.y;return Math.abs(g)<Math.PI/2?i-=j:h+=j,{x:h,y:i}}function e(a){var b=a.length/2-1,c=a[Math.floor(b)],d=a[Math.ceil(b+.01)];return{x:c.x+(d.x-c.x)/2,y:c.y+(d.y-c.y)/2}}function f(a){return a.waypoints?d(a.waypoints):{x:a.x+a.width/2,y:a.y+a.height+i.height/2}}var g=a("lodash/object/assign"),h=a("./ModelUtil").is,i=b.exports.DEFAULT_LABEL_SIZE={width:90,height:20},j=b.exports.FLOW_LABEL_INDENT=15;b.exports.hasExternalLabel=function(a){return h(a,"bpmn:Event")||h(a,"bpmn:Gateway")||h(a,"bpmn:DataStoreReference")||h(a,"bpmn:DataObjectReference")||h(a,"bpmn:SequenceFlow")||h(a,"bpmn:MessageFlow")},b.exports.getFlowLabelPosition=d,b.exports.getWaypointsMid=e,b.exports.getExternalLabelMid=f,b.exports.getExternalLabelBounds=function(a,b){var c,d,e,h=a.di,j=h.label;return j&&j.bounds?(e=j.bounds,d={width:Math.max(i.width,e.width),height:e.height},c={x:e.x+e.width/2,y:e.y+e.height/2}):(c=f(b),d=i),g({x:c.x-d.width/2,y:c.y-d.height/2},d)}},{"./ModelUtil":14,"lodash/object/assign":124}],14:[function(a,b,c){"use strict";function d(a,b){var c=e(a);return c&&"function"==typeof c.$instanceOf&&c.$instanceOf(b)}function e(a){return a&&a.businessObject||a}b.exports.is=d,b.exports.getBusinessObject=e},{}],15:[function(a,b,c){"use strict";function d(a){return a.join(";")}function e(){f||(f=g(m),h.bind(f,".backdrop","click",function(a){document.body.removeChild(f)})),document.body.appendChild(f)}var f,g=a("min-dom/lib/domify"),h=a("min-dom/lib/delegate"),i=b.exports.BPMNIO_LOGO="iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBQTFRFiMte9PrwldFwfcZPqtqN0+zEyOe1XLgjvuKncsJAZ70y6fXh3vDT////UrQV////G2zN+AAAABB0Uk5T////////////////////AOAjXRkAAAHDSURBVHjavJZJkoUgDEBJmAX8979tM8u3E6x20VlYJfFFMoL4vBDxATxZcakIOJTWSmxvKWVIkJ8jHvlRv1F2LFrVISCZI+tCtQx+XfewgVTfyY3plPiQEAzI3zWy+kR6NBhFBYeBuscJLOUuA2WVLpCjVIaFzrNQZArxAZKUQm6gsj37L9Cb7dnIBUKxENaaMJQqMpDXvSL+ktxdGRm2IsKgJGGPg7atwUG5CcFUEuSv+CwQqizTrvDTNXdMU2bMiDWZd8d7QIySWVRsb2vBBioxOFt4OinPBapL+neAb5KL5IJ8szOza2/DYoipUCx+CjO0Bpsv0V6mktNZ+k8rlABlWG0FrOpKYVo8DT3dBeLEjUBAj7moDogVii7nSS9QzZnFcOVBp1g2PyBQ3Vr5aIapN91VJy33HTJLC1iX2FY6F8gRdaAeIEfVONgtFCzZTmoLEdOjBDfsIOA6128gw3eu1shAajdZNAORxuQDJN5A5PbEG6gNIu24QJD5iNyRMZIr6bsHbCtCU/OaOaSvgkUyDMdDa1BXGf5HJ1To+/Ym6mCKT02Y+/Sa126ZKyd3jxhzpc1r8zVL6YM1Qy/kR4ABAFJ6iQUnivhAAAAAAElFTkSuQmCC",j=d(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"]),k=d(["width: 100%","height: 100%","background: rgba(0,0,0,0.2)"]),l=d(["position: absolute","left: 50%","top: 40%","margin: 0 -130px","width: 260px","padding: 10px","background: white","border: solid 1px #AAA","border-radius: 3px","font-family: Helvetica, Arial, sans-serif","font-size: 14px","line-height: 1.2em"]),m='<div class="bjs-powered-by-lightbox" style="'+j+'"><div class="backdrop" style="'+k+'"></div><div class="notice" style="'+l+'"><a href="http://bpmn.io" target="_blank" style="float: left; margin-right: 10px"><img src="data:image/png;base64,'+i+'"></a>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="http://bpmn.io" target="_blank">bpmn.io</a>.</div></div>';b.exports.open=e},{"min-dom/lib/delegate":133,"min-dom/lib/domify":134}],16:[function(a,b,c){b.exports=a("./lib/simple")},{"./lib/simple":18}],17:[function(a,b,c){"use strict";function d(a,b){h.call(this,a,b)}var e=a("lodash/lang/isString"),f=a("lodash/lang/isFunction"),g=a("lodash/object/assign"),h=a("moddle"),i=a("moddle-xml/lib/reader"),j=a("moddle-xml/lib/writer");d.prototype=Object.create(h.prototype),b.exports=d,d.prototype.fromXML=function(a,b,c,d){e(b)||(d=c,c=b,b="bpmn:Definitions"),f(c)&&(d=c,c={});var h=new i(g({model:this,lax:!0},c)),j=h.handler(b);h.fromXML(a,j,d)},d.prototype.toXML=function(a,b,c){f(b)&&(c=b,b={});var d=new j(b);try{var e=d.toXML(a);c(null,e)}catch(g){c(g)}}},{"lodash/lang/isFunction":118,"lodash/lang/isString":122,"lodash/object/assign":124,moddle:24,"moddle-xml/lib/reader":20,"moddle-xml/lib/writer":21}],18:[function(a,b,c){"use strict";var d=a("lodash/object/assign"),e=a("./bpmn-moddle"),f={bpmn:a("../resources/bpmn/json/bpmn.json"),bpmndi:a("../resources/bpmn/json/bpmndi.json"),dc:a("../resources/bpmn/json/dc.json"),di:a("../resources/bpmn/json/di.json")};b.exports=function(a,b){return new e(d({},f,a),b)}},{"../resources/bpmn/json/bpmn.json":33,"../resources/bpmn/json/bpmndi.json":34,"../resources/bpmn/json/dc.json":35,"../resources/bpmn/json/di.json":36,"./bpmn-moddle":17,"lodash/object/assign":124}],19:[function(a,b,c){"use strict";function d(a){return a.charAt(0).toUpperCase()+a.slice(1)}function e(a){return a.charAt(0).toLowerCase()+a.slice(1)}function f(a){return a.xml&&"lowerCase"===a.xml.tagAlias}function g(a){return a.xml&&a.xml.serialize}b.exports.aliasToName=function(a,b){return f(b)?d(a):a},b.exports.nameToAlias=function(a,b){return f(b)?e(a):a},b.exports.DEFAULT_NS_MAP={xsi:"http://www.w3.org/2001/XMLSchema-instance"};var h=b.exports.XSI_TYPE="xsi:type";b.exports.serializeAsType=function(a){return g(a)===h},b.exports.serializeAsProperty=function(a){return"property"===g(a)}},{}],20:[function(a,b,c){"use strict";function d(a){var b=a.attributes;return s(b,function(a,b,c){var d,e;return b.local?(e=A(b.name,b.prefix),d=e.name):d=b.prefix,a[d]=b.value,a},{})}function e(a,b,c){var d,e=A(b.value),f=a.ns[e.prefix||""],g=e.localName,h=f&&c.getPackage(f);h&&(d=h.xml&&h.xml.typePrefix,d&&0===g.indexOf(d)&&(g=g.slice(d.length)),b.value=h.prefix+":"+g)}function f(a,b,c){var d,g;if(d=a.uri||c){var h=b.getPackage(d);g=h?h.prefix:a.prefix,a.prefix=g,a.uri=d}t(a.attributes,function(c){c.uri===G&&"type"===c.local&&e(a,c,b),f(c,b,null)})}function g(a){return new Error(a)}function h(a){return a.$descriptor}function i(a){v(this,a),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(a){this.references.push(a)},this.addElement=function(a){if(!a)throw g("expected element");var b,c=this.elementsById,d=h(a),e=d.idProperty;if(e&&(b=a.get(e.name))){if(c[b])throw g("duplicate ID <"+b+">");c[b]=a}},this.addWarning=function(a){this.warnings.push(a)}}function j(){}function k(){}function l(){}function m(a,b){this.property=a,this.context=b}function n(a,b){this.element=b,this.propertyDesc=a}function o(){}function p(a,b,c){this.model=a,this.type=a.getType(b),this.context=c}function q(a,b,c){this.model=a,this.context=c}function r(a){a instanceof z&&(a={model:a}),v(this,{lax:!1},a)}var s=a("lodash/collection/reduce"),t=a("lodash/collection/forEach"),u=a("lodash/collection/find"),v=a("lodash/object/assign"),w=a("lodash/function/defer"),x=a("tiny-stack"),y=a("sax").parser,z=a("moddle"),A=a("moddle/lib/ns").parseName,B=a("moddle/lib/types"),C=B.coerceType,D=B.isSimple,E=a("./common"),F=E.XSI_TYPE,G=E.DEFAULT_NS_MAP.xsi,H=E.serializeAsType,I=E.aliasToName;j.prototype.handleEnd=function(){},j.prototype.handleText=function(){},j.prototype.handleNode=function(){},k.prototype=new j,k.prototype.handleNode=function(){return this},l.prototype=new j,l.prototype.handleText=function(a){this.body=(this.body||"")+a},m.prototype=new l,m.prototype.handleNode=function(a){if(this.element)throw g("expected no sub nodes");return this.element=this.createReference(a),this},m.prototype.handleEnd=function(){this.element.id=this.body},m.prototype.createReference=function(a){return{property:this.property.ns.name,id:""}},n.prototype=new l,n.prototype.handleEnd=function(){var a=this.body,b=this.element,c=this.propertyDesc;a=C(c.type,a),c.isMany?b.get(c.name).push(a):b.set(c.name,a)},o.prototype=Object.create(l.prototype),o.prototype.handleNode=function(a){var b=this,c=this.element;return c?b=this.handleChild(a):(c=this.element=this.createElement(a),this.context.addElement(c)),b},p.prototype=new o,p.prototype.addReference=function(a){this.context.addReference(a)},p.prototype.handleEnd=function(){var a=this.body,b=this.element,c=h(b),d=c.bodyProperty;d&&void 0!==a&&(a=C(d.type,a),b.set(d.name,a))},p.prototype.createElement=function(a){var b=d(a),c=this.type,e=h(c),f=this.context,g=new c({});return t(b,function(a,b){var c,d=e.propertiesByName[b];d&&d.isReference?d.isMany?(c=a.split(" "),t(c,function(a){f.addReference({element:g,property:d.ns.name,id:a})})):f.addReference({element:g,property:d.ns.name,id:a}):(d&&(a=C(d.type,a)),g.set(b,a))}),g},p.prototype.getPropertyForNode=function(a){var b,c,d,e=A(a.local,a.prefix),f=this.type,i=this.model,j=h(f),k=e.name,l=j.propertiesByName[k];if(l)return H(l)&&(d=a.attributes[F])?(b=d.value,c=i.getType(b),v({},l,{effectiveType:h(c).name})):l;if(i.getPackage(e.prefix)){if(b=e.prefix+":"+I(e.localName,j.$pkg),c=i.getType(b),l=u(j.properties,function(a){return!a.isVirtual&&!a.isReference&&!a.isAttribute&&c.hasType(a.type)}))return v({},l,{effectiveType:h(c).name})}else if(l=u(j.properties,function(a){return!a.isReference&&!a.isAttribute&&"Element"===a.type}))return l;throw g("unrecognized element <"+e.name+">")},p.prototype.toString=function(){return"ElementDescriptor["+h(this.type).name+"]"},p.prototype.valueHandler=function(a,b){return new n(a,b)},p.prototype.referenceHandler=function(a){return new m(a,this.context)},p.prototype.handler=function(a){return"Element"===a?new q(this.model,a,this.context):new p(this.model,a,this.context)},p.prototype.handleChild=function(a){var b,c,d,e;if(b=this.getPropertyForNode(a),d=this.element,c=b.effectiveType||b.type,D(c))return this.valueHandler(b,d);e=b.isReference?this.referenceHandler(b).handleNode(a):this.handler(c).handleNode(a);var f=e.element;return void 0!==f&&(b.isMany?d.get(b.name).push(f):d.set(b.name,f),b.isReference?(v(f,{element:d}),this.context.addReference(f)):f.$parent=d),e},q.prototype=Object.create(o.prototype),q.prototype.createElement=function(a){var b=a.name,c=a.prefix,d=a.ns[c],e=a.attributes;return this.model.createAny(b,d,e)},q.prototype.handleChild=function(a){var b,c=new q(this.model,"Element",this.context).handleNode(a),d=this.element,e=c.element;return void 0!==e&&(b=d.$children=d.$children||[],b.push(e),e.$parent=d),c},q.prototype.handleText=function(a){this.body=this.body||""+a},q.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},r.prototype.fromXML=function(a,b,c){function d(){var a,b,c=q.elementsById,d=q.references;for(a=0;b=d[a];a++){var e=b.element,f=c[b.id],g=h(e).propertiesByName[b.property];if(f||q.addWarning({message:"unresolved reference <"+b.id+">",element:b.element,property:b.property,value:b.id}),g.isMany){var i=e.get(g.name),j=i.indexOf(b);-1===j&&(j=i.length),f?i[j]=f:i.splice(j,1)}else e.set(g.name,f)}}function e(a){s.pop().handleEnd()}function j(a){var b=s.peek();f(a,n);try{s.push(b.handleNode(a))}catch(h){var c=this.line,d=this.column,e="unparsable content <"+a.name+"> detected\n\tline: "+c+"\n\tcolumn: "+d+"\n\tnested error: "+h.message;if(!o)throw console.error("could not parse document"),console.error(h),g(e);q.addWarning({message:e,error:h}),console.warn("could not parse node"),console.warn(h),s.push(new k)}}function l(a){s.peek().handleText(a)}var m=b.rootHandler;b instanceof p?(m=b,b={}):"string"==typeof b?(m=this.handler(b),b={}):"string"==typeof m&&(m=this.handler(m));var n=this.model,o=this.lax,q=new i(v({},b,{rootHandler:m})),r=new y(!0,{xmlns:!0,trim:!0}),s=new x;m.context=q,s.push(m),r.onopentag=j,r.oncdata=r.ontext=l,r.onclosetag=e,r.onend=d,w(function(){var b;try{r.write(a).close()}catch(d){b=d}c(b,b?void 0:m.element,q)})},r.prototype.handler=function(a){return new p(this.model,a)},b.exports=r,b.exports.ElementHandler=p},{"./common":19,"lodash/collection/find":41,"lodash/collection/forEach":42,"lodash/collection/reduce":45,"lodash/function/defer":47,"lodash/object/assign":124,moddle:24,"moddle/lib/ns":29,"moddle/lib/types":32,sax:22,"tiny-stack":23}],21:[function(a,b,c){"use strict";function d(a){return v(a)?a:(a.prefix?a.prefix+":":"")+a.localName}function e(a){function b(b){return a.used[b.uri]}function c(a){return{name:"xmlns"+(a.prefix?":"+a.prefix:""),value:a.uri}}var d=[].concat(a.wellknown,a.custom);return t(w(d,b),c)}function f(a,b){return b.isGeneric?b.name:x({localName:B(b.ns.localName,b.$pkg)},a)}function g(a,b){return x({localName:b.ns.localName},a)}function h(a){var b=a.$descriptor;return w(b.properties,function(b){var c=b.name;if(b.isVirtual)return!1;if(!a.hasOwnProperty(c))return!1;var d=a[c];return d!==b.default&&(null!==d&&(!b.isMany||d.length))})}function i(a){return a=v(a)?a:""+a,a.replace(F,function(a){return"&#"+I[a]+";"})}function j(a){return w(a,function(a){return a.isAttr})}function k(a){return w(a,function(a){return!a.isAttr})}function l(a,b){this.ns=b}function m(){}function n(a){this.ns=a}function o(a,b){this.body=[],this.attrs=[],this.parent=a,this.ns=b}function p(a,b){o.call(this,a,b)}function q(){this.value="",this.write=function(a){this.value+=a}}function r(a,b){var c=[""];this.append=function(b){return a.write(b),this},this.appendNewLine=function(){return b&&a.write("\n"),this},this.appendIndent=function(){return b&&a.write(c.join("  ")),this},this.indent=function(){return c.push(""),this},this.unindent=function(){return c.pop(),this}}function s(a){function b(b,c){var d=c||new q,e=new r(d,a.format);if(a.preamble&&e.append(E),(new o).build(b).serializeTo(e),!c)return d.value}return a=x({format:!1,preamble:!0},a||{}),{toXML:b}}var t=a("lodash/collection/map"),u=a("lodash/collection/forEach"),v=a("lodash/lang/isString"),w=a("lodash/collection/filter"),x=a("lodash/object/assign"),y=a("moddle/lib/types"),z=a("moddle/lib/ns").parseName,A=a("./common"),B=A.nameToAlias,C=A.serializeAsType,D=A.serializeAsProperty,E='<?xml version="1.0" encoding="UTF-8"?>\n',F=/(<|>|'|"|&|\n\r|\n)/g,G=A.DEFAULT_NS_MAP,H=A.XSI_TYPE,I={"\n":"10","\n\r":"10",'"':"34","'":"39","<":"60",">":"62","&":"38"};l.prototype.build=function(a){return this.element=a,this},l.prototype.serializeTo=function(a){a.appendIndent().append("<"+d(this.ns)+">"+this.element.id+"</"+d(this.ns)+">").appendNewLine()},m.prototype.serializeValue=m.prototype.serializeTo=function(a){var b=this.escape;b&&a.append("<![CDATA["),a.append(this.value),b&&a.append("]]>")},m.prototype.build=function(a,b){return this.value=b,"String"===a.type&&-1!==b.search(F)&&(this.escape=!0),this},n.prototype=new m,n.prototype.serializeTo=function(a){a.appendIndent().append("<"+d(this.ns)+">"),this.serializeValue(a),a.append("</"+d(this.ns)+">").appendNewLine()},o.prototype.build=function(a){this.element=a;var b=this.parseNsAttributes(a);if(this.ns||(this.ns=this.nsTagName(a.$descriptor)),a.$descriptor.isGeneric)this.parseGeneric(a);else{var c=h(a);this.parseAttributes(j(c)),this.parseContainments(k(c)),this.parseGenericAttributes(a,b)}return this},o.prototype.nsTagName=function(a){return f(this.logNamespaceUsed(a.ns),a)},o.prototype.nsPropertyTagName=function(a){return g(this.logNamespaceUsed(a.ns),a)},o.prototype.isLocalNs=function(a){return a.uri===this.ns.uri},o.prototype.nsAttributeName=function(a){var b;if(b=v(a)?z(a):a.ns,a.inherited)return{localName:b.localName};var c=this.logNamespaceUsed(b);return this.isLocalNs(c)?{localName:b.localName}:x({localName:b.localName},c)},o.prototype.parseGeneric=function(a){var b=this,c=this.body,d=this.attrs;u(a,function(a,e){"$body"===e?c.push((new m).build({type:"String"},a)):"$children"===e?u(a,function(a){c.push(new o(b).build(a))}):0!==e.indexOf("$")&&d.push({name:e,value:i(a)})})},o.prototype.parseNsAttributes=function(a){var b=this,c=a.$attrs,d=a.$model,e=[];return u(c,function(a,c){var f,g=z(c);"xmlns"===g.prefix&&(f={prefix:g.localName,uri:a}),g.prefix||"xmlns"!==g.localName||(f={uri:a}),f?d.getPackage(a)?b.logNamespace(f,!0):b.logNamespaceUsed(f):e.push({name:c,value:a})}),e},o.prototype.parseGenericAttributes=function(a,b){var c=this;u(b,function(b){if(b.name!==H)try{c.addAttribute(c.nsAttributeName(b.name),b.value)}catch(d){console.warn("missing namespace information for ",b.name,"=",b.value,"on",a,d)}})},o.prototype.parseContainments=function(a){var b=this,c=this.body,d=this.element;u(a,function(a){var e=d.get(a.name),f=a.isReference,g=a.isMany,h=b.nsPropertyTagName(a);if(g||(e=[e]),a.isBody)c.push((new m).build(a,e[0]));else if(y.isSimple(a.type))u(e,function(b){c.push(new n(h).build(a,b))});else if(f)u(e,function(a){c.push(new l(b,h).build(a))});else{var i=C(a),j=D(a);u(e,function(a){var d;d=i?new p(b,h):j?new o(b,h):new o(b),c.push(d.build(a))})}})},o.prototype.getNamespaces=function(){var a=this.namespaces,b=this.parent;return a||(a=this.namespaces=b?b.getNamespaces():{prefixMap:{},uriMap:{},used:{},wellknown:[],custom:[]}),a},o.prototype.logNamespace=function(a,b){var c=this.getNamespaces(),d=a.uri;return c.uriMap[d]||(c.uriMap[d]=a,b?c.wellknown.push(a):c.custom.push(a)),c.prefixMap[a.prefix]=d,a},o.prototype.logNamespaceUsed=function(a){var b=this.element,c=b.$model,d=this.getNamespaces(),e=a.prefix,f=G[e]||c&&(c.getPackage(e)||{}).uri,g=a.uri||d.prefixMap[e]||f;if(!g)throw new Error("no namespace uri given for prefix <"+a.prefix+">");return a=d.uriMap[g],a||(a=this.logNamespace({prefix:e,uri:g},f)),d.used[a.uri]||(d.used[a.uri]=a),a},o.prototype.parseAttributes=function(a){var b=this,c=this.element;u(a,function(a){var d=c.get(a.name);if(a.isReference)if(a.isMany){var e=[];u(d,function(a){e.push(a.id)}),d=e.join(" ")}else d=d.id;b.addAttribute(b.nsAttributeName(a),d)})},o.prototype.addAttribute=function(a,b){var c=this.attrs;v(b)&&(b=i(b)),c.push({name:a,value:b})},o.prototype.serializeAttributes=function(a){var b=this.attrs;!this.parent&&(b=e(this.namespaces).concat(b)),u(b,function(b){
a.append(" ").append(d(b.name)).append('="').append(b.value).append('"')})},o.prototype.serializeTo=function(a){var b=this.body.length,c=!(1===this.body.length&&this.body[0]instanceof m);a.appendIndent().append("<"+d(this.ns)),this.serializeAttributes(a),a.append(b?">":" />"),b&&(c&&a.appendNewLine().indent(),u(this.body,function(b){b.serializeTo(a)}),c&&a.unindent().appendIndent(),a.append("</"+d(this.ns)+">")),a.appendNewLine()},p.prototype=new o,p.prototype.build=function(a){var b=a.$descriptor;this.element=a,this.typeNs=this.nsTagName(b);var c=this.typeNs,d=a.$model.getPackage(c.uri),e=d.xml&&d.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(H),(c.prefix?c.prefix+":":"")+e+b.ns.localName),o.prototype.build.call(this,a)},p.prototype.isLocalNs=function(a){return a.uri===this.typeNs.uri},b.exports=s},{"./common":19,"lodash/collection/filter":40,"lodash/collection/forEach":42,"lodash/collection/map":44,"lodash/lang/isString":122,"lodash/object/assign":124,"moddle/lib/ns":29,"moddle/lib/types":32}],22:[function(a,b,c){(function(b){!function(c){function d(a,b){if(!(this instanceof d))return new d(a,b);var e=this;f(e),e.q=e.c="",e.bufferCheckPosition=c.MAX_BUFFER_LENGTH,e.opt=b||{},e.opt.lowercase=e.opt.lowercase||e.opt.lowercasetags,e.looseCase=e.opt.lowercase?"toLowerCase":"toUpperCase",e.tags=[],e.closed=e.closedRoot=e.sawRoot=!1,e.tag=e.error=null,e.strict=!!a,e.noscript=!(!a&&!e.opt.noscript),e.state=R.BEGIN,e.ENTITIES=Object.create(c.ENTITIES),e.attribList=[],e.opt.xmlns&&(e.ns=Object.create(O)),e.trackPosition=!1!==e.opt.position,e.trackPosition&&(e.position=e.line=e.column=0),n(e,"onready")}function e(a){for(var b=Math.max(c.MAX_BUFFER_LENGTH,10),d=0,e=0,f=B.length;e<f;e++){var g=a[B[e]].length;if(g>b)switch(B[e]){case"textNode":p(a);break;case"cdata":o(a,"oncdata",a.cdata),a.cdata="";break;case"script":o(a,"onscript",a.script),a.script="";break;default:r(a,"Max buffer length exceeded: "+B[e])}d=Math.max(d,g)}a.bufferCheckPosition=c.MAX_BUFFER_LENGTH-d+a.position}function f(a){for(var b=0,c=B.length;b<c;b++)a[B[b]]=""}function g(a){p(a),""!==a.cdata&&(o(a,"oncdata",a.cdata),a.cdata=""),""!==a.script&&(o(a,"onscript",a.script),a.script="")}function h(a,b){return new i(a,b)}function i(a,b){if(!(this instanceof i))return new i(a,b);C.apply(this),this._parser=new d(a,b),this.writable=!0,this.readable=!0;var c=this;this._parser.onend=function(){c.emit("end")},this._parser.onerror=function(a){c.emit("error",a),c._parser.error=null},this._decoder=null,D.forEach(function(a){Object.defineProperty(c,"on"+a,{get:function(){return c._parser["on"+a]},set:function(b){if(!b)return c.removeAllListeners(a),c._parser["on"+a]=b;c.on(a,b)},enumerable:!0,configurable:!1})})}function j(a){return a.split("").reduce(function(a,b){return a[b]=!0,a},{})}function k(a){return"[object RegExp]"===Object.prototype.toString.call(a)}function l(a,b){return k(a)?!!b.match(a):a[b]}function m(a,b){return!l(a,b)}function n(a,b,c){a[b]&&a[b](c)}function o(a,b,c){a.textNode&&p(a),n(a,b,c)}function p(a){a.textNode=q(a.opt,a.textNode),a.textNode&&n(a,"ontext",a.textNode),a.textNode=""}function q(a,b){return a.trim&&(b=b.trim()),a.normalize&&(b=b.replace(/\s+/g," ")),b}function r(a,b){return p(a),a.trackPosition&&(b+="\nLine: "+a.line+"\nColumn: "+a.column+"\nChar: "+a.c),b=new Error(b),a.error=b,n(a,"onerror",b),a}function s(a){return a.closedRoot||t(a,"Unclosed root tag"),a.state!==R.BEGIN&&a.state!==R.TEXT&&r(a,"Unexpected end"),p(a),a.c="",a.closed=!0,n(a,"onend"),d.call(a,a.strict,a.opt),a}function t(a,b){if("object"!=typeof a||!(a instanceof d))throw new Error("bad call to strictFail");a.strict&&r(a,b)}function u(a){a.strict||(a.tagName=a.tagName[a.looseCase]());var b=a.tags[a.tags.length-1]||a,c=a.tag={name:a.tagName,attributes:{}};a.opt.xmlns&&(c.ns=b.ns),a.attribList.length=0}function v(a,b){var c=a.indexOf(":"),d=c<0?["",a]:a.split(":"),e=d[0],f=d[1];return b&&"xmlns"===a&&(e="xmlns",f=""),{prefix:e,local:f}}function w(a){if(a.strict||(a.attribName=a.attribName[a.looseCase]()),-1!==a.attribList.indexOf(a.attribName)||a.tag.attributes.hasOwnProperty(a.attribName))return a.attribName=a.attribValue="";if(a.opt.xmlns){var b=v(a.attribName,!0),c=b.prefix,d=b.local;if("xmlns"===c)if("xml"===d&&a.attribValue!==M)t(a,"xml: prefix must be bound to "+M+"\nActual: "+a.attribValue);else if("xmlns"===d&&a.attribValue!==N)t(a,"xmlns: prefix must be bound to "+N+"\nActual: "+a.attribValue);else{var e=a.tag,f=a.tags[a.tags.length-1]||a;e.ns===f.ns&&(e.ns=Object.create(f.ns)),e.ns[d]=a.attribValue}a.attribList.push([a.attribName,a.attribValue])}else a.tag.attributes[a.attribName]=a.attribValue,o(a,"onattribute",{name:a.attribName,value:a.attribValue});a.attribName=a.attribValue=""}function x(a,b){if(a.opt.xmlns){var c=a.tag,d=v(a.tagName);c.prefix=d.prefix,c.local=d.local,c.uri=c.ns[d.prefix]||"",c.prefix&&!c.uri&&(t(a,"Unbound namespace prefix: "+JSON.stringify(a.tagName)),c.uri=d.prefix);var e=a.tags[a.tags.length-1]||a;c.ns&&e.ns!==c.ns&&Object.keys(c.ns).forEach(function(b){o(a,"onopennamespace",{prefix:b,uri:c.ns[b]})});for(var f=0,g=a.attribList.length;f<g;f++){var h=a.attribList[f],i=h[0],j=h[1],k=v(i,!0),l=k.prefix,m=k.local,n=""==l?"":c.ns[l]||"",p={name:i,value:j,prefix:l,local:m,uri:n};l&&"xmlns"!=l&&!n&&(t(a,"Unbound namespace prefix: "+JSON.stringify(l)),p.uri=l),a.tag.attributes[i]=p,o(a,"onattribute",p)}a.attribList.length=0}a.tag.isSelfClosing=!!b,a.sawRoot=!0,a.tags.push(a.tag),o(a,"onopentag",a.tag),b||(a.noscript||"script"!==a.tagName.toLowerCase()?a.state=R.TEXT:a.state=R.SCRIPT,a.tag=null,a.tagName=""),a.attribName=a.attribValue="",a.attribList.length=0}function y(a){if(!a.tagName)return t(a,"Weird empty close tag."),a.textNode+="</>",void(a.state=R.TEXT);if(a.script){if("script"!==a.tagName)return a.script+="</"+a.tagName+">",a.tagName="",void(a.state=R.SCRIPT);o(a,"onscript",a.script),a.script=""}var b=a.tags.length,c=a.tagName;a.strict||(c=c[a.looseCase]());for(var d=c;b--;){if(a.tags[b].name===d)break;t(a,"Unexpected close tag")}if(b<0)return t(a,"Unmatched closing tag: "+a.tagName),a.textNode+="</"+a.tagName+">",void(a.state=R.TEXT);a.tagName=c;for(var e=a.tags.length;e-- >b;){var f=a.tag=a.tags.pop();a.tagName=a.tag.name,o(a,"onclosetag",a.tagName);var g={};for(var h in f.ns)g[h]=f.ns[h];var i=a.tags[a.tags.length-1]||a;a.opt.xmlns&&f.ns!==i.ns&&Object.keys(f.ns).forEach(function(b){var c=f.ns[b];o(a,"onclosenamespace",{prefix:b,uri:c})})}0===b&&(a.closedRoot=!0),a.tagName=a.attribValue=a.attribName="",a.attribList.length=0,a.state=R.TEXT}function z(a){var b,c=a.entity,d=c.toLowerCase(),e="";return a.ENTITIES[c]?a.ENTITIES[c]:a.ENTITIES[d]?a.ENTITIES[d]:(c=d,"#"===c.charAt(0)&&("x"===c.charAt(1)?(c=c.slice(2),b=parseInt(c,16),e=b.toString(16)):(c=c.slice(1),b=parseInt(c,10),e=b.toString(10))),c=c.replace(/^0+/,""),e.toLowerCase()!==c?(t(a,"Invalid character entity"),"&"+a.entity+";"):String.fromCodePoint(b))}function A(a){var b=this;if(this.error)throw this.error;if(b.closed)return r(b,"Cannot write after close. Assign an onready handler.");if(null===a)return s(b);for(var c=0,d="";b.c=d=a.charAt(c++);)switch(b.trackPosition&&(b.position++,"\n"===d?(b.line++,b.column=0):b.column++),b.state){case R.BEGIN:"<"===d?(b.state=R.OPEN_WAKA,b.startTagPosition=b.position):m(E,d)&&(t(b,"Non-whitespace before first tag."),b.textNode=d,b.state=R.TEXT);continue;case R.TEXT:if(b.sawRoot&&!b.closedRoot){for(var f=c-1;d&&"<"!==d&&"&"!==d;)(d=a.charAt(c++))&&b.trackPosition&&(b.position++,"\n"===d?(b.line++,b.column=0):b.column++);b.textNode+=a.substring(f,c-1)}"<"===d?(b.state=R.OPEN_WAKA,b.startTagPosition=b.position):(!m(E,d)||b.sawRoot&&!b.closedRoot||t(b,"Text data outside of root node."),"&"===d?b.state=R.TEXT_ENTITY:b.textNode+=d);continue;case R.SCRIPT:"<"===d?b.state=R.SCRIPT_ENDING:b.script+=d;continue;case R.SCRIPT_ENDING:"/"===d?b.state=R.CLOSE_TAG:(b.script+="<"+d,b.state=R.SCRIPT);continue;case R.OPEN_WAKA:if("!"===d)b.state=R.SGML_DECL,b.sgmlDecl="";else if(l(E,d));else if(l(P,d))b.state=R.OPEN_TAG,b.tagName=d;else if("/"===d)b.state=R.CLOSE_TAG,b.tagName="";else if("?"===d)b.state=R.PROC_INST,b.procInstName=b.procInstBody="";else{if(t(b,"Unencoded <"),b.startTagPosition+1<b.position){var g=b.position-b.startTagPosition;d=new Array(g).join(" ")+d}b.textNode+="<"+d,b.state=R.TEXT}continue;case R.SGML_DECL:(b.sgmlDecl+d).toUpperCase()===K?(o(b,"onopencdata"),b.state=R.CDATA,b.sgmlDecl="",b.cdata=""):b.sgmlDecl+d==="--"?(b.state=R.COMMENT,b.comment="",b.sgmlDecl=""):(b.sgmlDecl+d).toUpperCase()===L?(b.state=R.DOCTYPE,(b.doctype||b.sawRoot)&&t(b,"Inappropriately located doctype declaration"),b.doctype="",b.sgmlDecl=""):">"===d?(o(b,"onsgmldeclaration",b.sgmlDecl),b.sgmlDecl="",b.state=R.TEXT):l(H,d)?(b.state=R.SGML_DECL_QUOTED,b.sgmlDecl+=d):b.sgmlDecl+=d;continue;case R.SGML_DECL_QUOTED:d===b.q&&(b.state=R.SGML_DECL,b.q=""),b.sgmlDecl+=d;continue;case R.DOCTYPE:">"===d?(b.state=R.TEXT,o(b,"ondoctype",b.doctype),b.doctype=!0):(b.doctype+=d,"["===d?b.state=R.DOCTYPE_DTD:l(H,d)&&(b.state=R.DOCTYPE_QUOTED,b.q=d));continue;case R.DOCTYPE_QUOTED:b.doctype+=d,d===b.q&&(b.q="",b.state=R.DOCTYPE);continue;case R.DOCTYPE_DTD:b.doctype+=d,"]"===d?b.state=R.DOCTYPE:l(H,d)&&(b.state=R.DOCTYPE_DTD_QUOTED,b.q=d);continue;case R.DOCTYPE_DTD_QUOTED:b.doctype+=d,d===b.q&&(b.state=R.DOCTYPE_DTD,b.q="");continue;case R.COMMENT:"-"===d?b.state=R.COMMENT_ENDING:b.comment+=d;continue;case R.COMMENT_ENDING:"-"===d?(b.state=R.COMMENT_ENDED,b.comment=q(b.opt,b.comment),b.comment&&o(b,"oncomment",b.comment),b.comment=""):(b.comment+="-"+d,b.state=R.COMMENT);continue;case R.COMMENT_ENDED:">"!==d?(t(b,"Malformed comment"),b.comment+="--"+d,b.state=R.COMMENT):b.state=R.TEXT;continue;case R.CDATA:"]"===d?b.state=R.CDATA_ENDING:b.cdata+=d;continue;case R.CDATA_ENDING:"]"===d?b.state=R.CDATA_ENDING_2:(b.cdata+="]"+d,b.state=R.CDATA);continue;case R.CDATA_ENDING_2:">"===d?(b.cdata&&o(b,"oncdata",b.cdata),o(b,"onclosecdata"),b.cdata="",b.state=R.TEXT):"]"===d?b.cdata+="]":(b.cdata+="]]"+d,b.state=R.CDATA);continue;case R.PROC_INST:"?"===d?b.state=R.PROC_INST_ENDING:l(E,d)?b.state=R.PROC_INST_BODY:b.procInstName+=d;continue;case R.PROC_INST_BODY:if(!b.procInstBody&&l(E,d))continue;"?"===d?b.state=R.PROC_INST_ENDING:b.procInstBody+=d;continue;case R.PROC_INST_ENDING:">"===d?(o(b,"onprocessinginstruction",{name:b.procInstName,body:b.procInstBody}),b.procInstName=b.procInstBody="",b.state=R.TEXT):(b.procInstBody+="?"+d,b.state=R.PROC_INST_BODY);continue;case R.OPEN_TAG:l(Q,d)?b.tagName+=d:(u(b),">"===d?x(b):"/"===d?b.state=R.OPEN_TAG_SLASH:(m(E,d)&&t(b,"Invalid character in tag name"),b.state=R.ATTRIB));continue;case R.OPEN_TAG_SLASH:">"===d?(x(b,!0),y(b)):(t(b,"Forward-slash in opening tag not followed by >"),b.state=R.ATTRIB);continue;case R.ATTRIB:if(l(E,d))continue;">"===d?x(b):"/"===d?b.state=R.OPEN_TAG_SLASH:l(P,d)?(b.attribName=d,b.attribValue="",b.state=R.ATTRIB_NAME):t(b,"Invalid attribute name");continue;case R.ATTRIB_NAME:"="===d?b.state=R.ATTRIB_VALUE:">"===d?(t(b,"Attribute without value"),b.attribValue=b.attribName,w(b),x(b)):l(E,d)?b.state=R.ATTRIB_NAME_SAW_WHITE:l(Q,d)?b.attribName+=d:t(b,"Invalid attribute name");continue;case R.ATTRIB_NAME_SAW_WHITE:if("="===d)b.state=R.ATTRIB_VALUE;else{if(l(E,d))continue;t(b,"Attribute without value"),b.tag.attributes[b.attribName]="",b.attribValue="",o(b,"onattribute",{name:b.attribName,value:""}),b.attribName="",">"===d?x(b):l(P,d)?(b.attribName=d,b.state=R.ATTRIB_NAME):(t(b,"Invalid attribute name"),b.state=R.ATTRIB)}continue;case R.ATTRIB_VALUE:if(l(E,d))continue;l(H,d)?(b.q=d,b.state=R.ATTRIB_VALUE_QUOTED):(t(b,"Unquoted attribute value"),b.state=R.ATTRIB_VALUE_UNQUOTED,b.attribValue=d);continue;case R.ATTRIB_VALUE_QUOTED:if(d!==b.q){"&"===d?b.state=R.ATTRIB_VALUE_ENTITY_Q:b.attribValue+=d;continue}w(b),b.q="",b.state=R.ATTRIB_VALUE_CLOSED;continue;case R.ATTRIB_VALUE_CLOSED:l(E,d)?b.state=R.ATTRIB:">"===d?x(b):"/"===d?b.state=R.OPEN_TAG_SLASH:l(P,d)?(t(b,"No whitespace between attributes"),b.attribName=d,b.attribValue="",b.state=R.ATTRIB_NAME):t(b,"Invalid attribute name");continue;case R.ATTRIB_VALUE_UNQUOTED:if(m(J,d)){"&"===d?b.state=R.ATTRIB_VALUE_ENTITY_U:b.attribValue+=d;continue}w(b),">"===d?x(b):b.state=R.ATTRIB;continue;case R.CLOSE_TAG:if(b.tagName)">"===d?y(b):l(Q,d)?b.tagName+=d:b.script?(b.script+="</"+b.tagName,b.tagName="",b.state=R.SCRIPT):(m(E,d)&&t(b,"Invalid tagname in closing tag"),b.state=R.CLOSE_TAG_SAW_WHITE);else{if(l(E,d))continue;m(P,d)?b.script?(b.script+="</"+d,b.state=R.SCRIPT):t(b,"Invalid tagname in closing tag."):b.tagName=d}continue;case R.CLOSE_TAG_SAW_WHITE:if(l(E,d))continue;">"===d?y(b):t(b,"Invalid characters in closing tag");continue;case R.TEXT_ENTITY:case R.ATTRIB_VALUE_ENTITY_Q:case R.ATTRIB_VALUE_ENTITY_U:switch(b.state){case R.TEXT_ENTITY:var h=R.TEXT,i="textNode";break;case R.ATTRIB_VALUE_ENTITY_Q:var h=R.ATTRIB_VALUE_QUOTED,i="attribValue";break;case R.ATTRIB_VALUE_ENTITY_U:var h=R.ATTRIB_VALUE_UNQUOTED,i="attribValue"}";"===d?(b[i]+=z(b),b.entity="",b.state=h):l(I,d)?b.entity+=d:(t(b,"Invalid character entity"),b[i]+="&"+b.entity+d,b.entity="",b.state=h);continue;default:throw new Error(b,"Unknown state: "+b.state)}return b.position>=b.bufferCheckPosition&&e(b),b}c.parser=function(a,b){return new d(a,b)},c.SAXParser=d,c.SAXStream=i,c.createStream=h,c.MAX_BUFFER_LENGTH=65536;var B=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];c.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(a){function b(){this.__proto__=a}return b.prototype=a,new b}),Object.getPrototypeOf||(Object.getPrototypeOf=function(a){return a.__proto__}),Object.keys||(Object.keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}),d.prototype={end:function(){s(this)},write:A,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){g(this)}};try{var C=a("stream").Stream}catch(S){var C=function(){}}var D=c.EVENTS.filter(function(a){return"error"!==a&&"end"!==a});i.prototype=Object.create(C.prototype,{constructor:{value:i}}),i.prototype.write=function(c){if("function"==typeof b&&"function"==typeof b.isBuffer&&b.isBuffer(c)){if(!this._decoder){var d=a("string_decoder").StringDecoder;this._decoder=new d("utf8")}c=this._decoder.write(c)}return this._parser.write(c.toString()),this.emit("data",c),!0},i.prototype.end=function(a){return a&&a.length&&this.write(a),this._parser.end(),!0},i.prototype.on=function(a,b){var c=this;return c._parser["on"+a]||-1===D.indexOf(a)||(c._parser["on"+a]=function(){var b=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);b.splice(0,0,a),c.emit.apply(c,b)}),C.prototype.on.call(c,a,b)};var E="\r\n\t ",F="0124356789",G="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",H="'\"",I=F+G+"#",J=E+">",K="[CDATA[",L="DOCTYPE",M="http://www.w3.org/XML/1998/namespace",N="http://www.w3.org/2000/xmlns/",O={xml:M,xmlns:N};E=j(E),F=j(F),G=j(G);var P=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Q=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;H=j(H),I=j(I),J=j(J);var R=0;c.STATE={BEGIN:R++,TEXT:R++,TEXT_ENTITY:R++,OPEN_WAKA:R++,SGML_DECL:R++,SGML_DECL_QUOTED:R++,DOCTYPE:R++,DOCTYPE_QUOTED:R++,DOCTYPE_DTD:R++,DOCTYPE_DTD_QUOTED:R++,COMMENT_STARTING:R++,COMMENT:R++,COMMENT_ENDING:R++,COMMENT_ENDED:R++,CDATA:R++,CDATA_ENDING:R++,CDATA_ENDING_2:R++,PROC_INST:R++,PROC_INST_BODY:R++,PROC_INST_ENDING:R++,OPEN_TAG:R++,OPEN_TAG_SLASH:R++,ATTRIB:R++,ATTRIB_NAME:R++,ATTRIB_NAME_SAW_WHITE:R++,ATTRIB_VALUE:R++,ATTRIB_VALUE_QUOTED:R++,ATTRIB_VALUE_CLOSED:R++,ATTRIB_VALUE_UNQUOTED:R++,ATTRIB_VALUE_ENTITY_Q:R++,ATTRIB_VALUE_ENTITY_U:R++,CLOSE_TAG:R++,CLOSE_TAG_SAW_WHITE:R++,SCRIPT:R++,SCRIPT_ENDING:R++},c.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(c.ENTITIES).forEach(function(a){var b=c.ENTITIES[a],d="number"==typeof b?String.fromCharCode(b):b;c.ENTITIES[a]=d});for(var R in c.STATE)c.STATE[c.STATE[R]]=R;R=c.STATE,String.fromCodePoint||function(){var a=String.fromCharCode,b=Math.floor,c=function(){var c,d,e=16384,f=[],g=-1,h=arguments.length;if(!h)return"";for(var i="";++g<h;){var j=Number(arguments[g]);if(!isFinite(j)||j<0||j>1114111||b(j)!=j)throw RangeError("Invalid code point: "+j);j<=65535?f.push(j):(j-=65536,c=55296+(j>>10),d=j%1024+56320,f.push(c,d)),(g+1==h||f.length>e)&&(i+=a.apply(null,f),f.length=0)}return i};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:c,configurable:!0,writable:!0}):String.fromCodePoint=c}()}(void 0===c?sax={}:c)}).call(this,a("buffer").Buffer)},{buffer:351,stream:378,string_decoder:379}],23:[function(b,c,d){!function(b){"use strict";function e(){this.data=[null],this.top=0}function f(){return new e}e.prototype.clear=function(){return this.data=[null],this.top=0,this},e.prototype.length=function(){return this.top},e.prototype.peek=function(){return this.data[this.top]},e.prototype.pop=function(){return this.top>0?(this.top--,this.data.pop()):void 0},e.prototype.push=function(a){return this.data[++this.top]=a,this},void 0!==d?c.exports=f:"function"==typeof a?a(function(){return f}):b.stack=f}(this)},{}],24:[function(a,b,c){b.exports=a("./lib/moddle")},{"./lib/moddle":28}],25:[function(a,b,c){"use strict";function d(){}d.prototype.get=function(a){return this.$model.properties.get(this,a)},d.prototype.set=function(a,b){this.$model.properties.set(this,a,b)},b.exports=d},{}],26:[function(a,b,c){"use strict";function d(a){this.ns=a,this.name=a.name,this.allTypes=[],this.properties=[],this.propertiesByName={}}var e=a("lodash/object/pick"),f=a("lodash/object/assign"),g=a("lodash/collection/forEach"),h=a("./ns").parseName;b.exports=d,d.prototype.build=function(){return e(this,["ns","name","allTypes","properties","propertiesByName","bodyProperty","idProperty"])},d.prototype.addProperty=function(a,b,c){"boolean"==typeof b&&(c=b,b=void 0),this.addNamedProperty(a,!1!==c);var d=this.properties;void 0!==b?d.splice(b,0,a):d.push(a)},d.prototype.replaceProperty=function(a,b,c){var d=a.ns,e=this.properties,f=this.propertiesByName,g=a.name!==b.name;if(a.isId){if(!b.isId)throw new Error("property <"+b.ns.name+"> must be id property to refine <"+a.ns.name+">");this.setIdProperty(b,!1)}if(a.isBody){if(!b.isBody)throw new Error("property <"+b.ns.name+"> must be body property to refine <"+a.ns.name+">");this.setBodyProperty(b,!1)}var h=e.indexOf(a);if(-1===h)throw new Error("property <"+d.name+"> not found in property list");e.splice(h,1),this.addProperty(b,c?void 0:h,g),f[d.name]=f[d.localName]=b},d.prototype.redefineProperty=function(a,b,c){var d=a.ns.prefix,e=b.split("#"),f=h(e[0],d),g=h(e[1],f.prefix).name,i=this.propertiesByName[g];if(!i)throw new Error("refined property <"+g+"> not found");this.replaceProperty(i,a,c),delete a.redefines},d.prototype.addNamedProperty=function(a,b){var c=a.ns,d=this.propertiesByName;b&&(this.assertNotDefined(a,c.name),this.assertNotDefined(a,c.localName)),d[c.name]=d[c.localName]=a},d.prototype.removeNamedProperty=function(a){var b=a.ns,c=this.propertiesByName;delete c[b.name],delete c[b.localName]},d.prototype.setBodyProperty=function(a,b){if(b&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+a.ns.name+">)");this.bodyProperty=a},d.prototype.setIdProperty=function(a,b){if(b&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+a.ns.name+">)");this.idProperty=a},d.prototype.assertNotDefined=function(a,b){var c=a.name,d=this.propertiesByName[c];if(d)throw new Error("property <"+c+"> already defined; override of <"+d.definedBy.ns.name+"#"+d.ns.name+"> by <"+a.definedBy.ns.name+"#"+a.ns.name+"> not allowed without redefines")},d.prototype.hasProperty=function(a){return this.propertiesByName[a]},d.prototype.addTrait=function(a,b){var c=this.allTypes;-1===c.indexOf(a)&&(g(a.properties,function(c){c=f({},c,{name:c.ns.localName,inherited:b}),Object.defineProperty(c,"definedBy",{value:a});var d=c.replaces,e=c.redefines;d||e?this.redefineProperty(c,d||e,d):(c.isBody&&this.setBodyProperty(c),c.isId&&this.setIdProperty(c),this.addProperty(c))},this),c.push(a))}},{"./ns":29,"lodash/collection/forEach":42,"lodash/object/assign":124,"lodash/object/pick":129}],27:[function(a,b,c){"use strict";function d(a,b){this.model=a,this.properties=b}var e=a("lodash/collection/forEach"),f=a("./base");b.exports=d,d.prototype.createType=function(a){function b(a){d.define(this,"$type",{value:h,enumerable:!0}),d.define(this,"$attrs",{value:{}}),d.define(this,"$parent",{writable:!0}),e(a,function(a,b){this.set(b,a)},this)}var c=this.model,d=this.properties,g=Object.create(f.prototype);e(a.properties,function(a){a.isMany||void 0===a.default||(g[a.name]=a.default)}),d.defineModel(g,c),d.defineDescriptor(g,a);var h=a.ns.name;return b.prototype=g,b.hasType=g.$instanceOf=this.model.hasType,d.defineModel(b,c),d.defineDescriptor(b,a),b}},{"./base":25,"lodash/collection/forEach":42}],28:[function(a,b,c){"use strict";function d(a){this.properties=new k(this),this.factory=new i(this,this.properties),this.registry=new j(a,this.properties),this.typeCache={}}var e=a("lodash/lang/isString"),f=a("lodash/lang/isObject"),g=a("lodash/collection/forEach"),h=a("lodash/collection/find"),i=a("./factory"),j=a("./registry"),k=a("./properties"),l=a("./ns").parseName;b.exports=d,d.prototype.create=function(a,b){var c=this.getType(a);if(!c)throw new Error("unknown type <"+a+">");return new c(b)},d.prototype.getType=function(a){var b=this.typeCache,c=e(a)?a:a.ns.name,d=b[c];return d||(a=this.registry.getEffectiveDescriptor(c),d=b[c]=this.factory.createType(a)),d},d.prototype.createAny=function(a,b,c){var d=l(a),e={$type:a},h={name:a,isGeneric:!0,ns:{prefix:d.prefix,localName:d.localName,uri:b}};return this.properties.defineDescriptor(e,h),this.properties.defineModel(e,this),this.properties.define(e,"$parent",{enumerable:!1,writable:!0}),g(c,function(a,b){f(a)&&void 0!==a.value?e[a.name]=a.value:e[b]=a}),e},d.prototype.getPackage=function(a){return this.registry.getPackage(a)},d.prototype.getPackages=function(){return this.registry.getPackages()},d.prototype.getElementDescriptor=function(a){return a.$descriptor},d.prototype.hasType=function(a,b){void 0===b&&(b=a,a=this);var c=a.$model.getElementDescriptor(a);return!!h(c.allTypes,function(a){return a.name===b})},d.prototype.getPropertyDescriptor=function(a,b){return this.getElementDescriptor(a).propertiesByName[b]}},{"./factory":27,"./ns":29,"./properties":30,"./registry":31,"lodash/collection/find":41,"lodash/collection/forEach":42,"lodash/lang/isObject":121,"lodash/lang/isString":122}],29:[function(a,b,c){"use strict";b.exports.parseName=function(a,b){var c,d,e=a.split(/:/);if(1===e.length)c=a,d=b;else{if(2!==e.length)throw new Error("expected <prefix:localName> or <localName>, got "+a);c=e[1],d=e[0]}return a=(d?d+":":"")+c,{name:a,prefix:d,localName:c}}},{}],30:[function(a,b,c){"use strict";function d(a){this.model=a}function e(a){return void 0===a}function f(a,b,c){Object.defineProperty(a,b.name,{enumerable:!b.isReference,writable:!0,value:c,configurable:!0})}b.exports=d,d.prototype.set=function(a,b,c){var d=this.model.getPropertyDescriptor(a,b),g=d&&d.name;e(c)?d?delete a[g]:delete a.$attrs[b]:d?g in a?a[g]=c:f(a,d,c):a.$attrs[b]=c},d.prototype.get=function(a,b){var c=this.model.getPropertyDescriptor(a,b);if(!c)return a.$attrs[b];var d=c.name;return!a[d]&&c.isMany&&f(a,c,[]),a[d]},d.prototype.define=function(a,b,c){Object.defineProperty(a,b,c)},d.prototype.defineDescriptor=function(a,b){this.define(a,"$descriptor",{value:b})},d.prototype.defineModel=function(a,b){this.define(a,"$model",{value:b})}},{}],31:[function(a,b,c){"use strict";function d(a,b){this.packageMap={},this.typeMap={},this.packages=[],this.properties=b,f(a,this.registerPackage,this)}var e=a("lodash/object/assign"),f=a("lodash/collection/forEach"),g=a("./types"),h=a("./descriptor-builder"),i=a("./ns").parseName,j=g.isBuiltIn;b.exports=d,d.prototype.getPackage=function(a){return this.packageMap[a]},d.prototype.getPackages=function(){return this.packages},d.prototype.registerPackage=function(a){a=e({},a),f(a.types,function(b){this.registerType(b,a)},this),this.packageMap[a.uri]=this.packageMap[a.prefix]=a,this.packages.push(a)},d.prototype.registerType=function(a,b){a=e({},a,{superClass:(a.superClass||[]).slice(),extends:(a.extends||[]).slice(),properties:(a.properties||[]).slice()});var c=i(a.name,b.prefix),d=c.name,g={};f(a.properties,function(a){var b=i(a.name,c.prefix),d=b.name;j(a.type)||(a.type=i(a.type,b.prefix).name),e(a,{ns:b,name:d}),g[d]=a}),e(a,{ns:c,name:d,propertiesByName:g}),f(a.extends,function(a){var b=this.typeMap[a];b.traits=b.traits||[],b.traits.push(d)},this),this.definePackage(a,b),this.typeMap[d]=a},d.prototype.mapTypes=function(a,b,c){function d(a){return e(a,!0)}function e(c,d){var e=i(c,j(c)?"":a.prefix);h.mapTypes(e,b,d)}var g=j(a.name)?{name:a.name}:this.typeMap[a.name],h=this;if(!g)throw new Error("unknown type <"+a.name+">");f(g.superClass,c?d:e),b(g,!c),f(g.traits,d)},d.prototype.getEffectiveDescriptor=function(a){var b=i(a),c=new h(b);this.mapTypes(b,function(a,b){c.addTrait(a,b)});var d=c.build();return this.definePackage(d,d.allTypes[d.allTypes.length-1].$pkg),d},d.prototype.definePackage=function(a,b){this.properties.define(a,"$pkg",{value:b})}},{"./descriptor-builder":26,"./ns":29,"./types":32,"lodash/collection/forEach":42,"lodash/object/assign":124}],32:[function(a,b,c){"use strict";var d={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},e={String:function(a){return a},Boolean:function(a){return"true"===a},Integer:function(a){return parseInt(a,10)},Real:function(a){return parseFloat(a,10)}};b.exports.coerceType=function(a,b){var c=e[a];return c?c(b):b},b.exports.isBuiltIn=function(a){return!!d[a]},b.exports.isSimple=function(a){return!!e[a]}},{}],33:[function(a,b,c){b.exports={name:"BPMN20",uri:"http://www.omg.org/spec/BPMN/20100524/MODEL",associations:[],types:[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",type:"String",isAttr:!0}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",type:"String",isAttr:!0}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",type:"LaneSet",isMany:!0,replaces:"FlowElementsContainer#laneSets"},{name:"flowElements",type:"FlowElement",isMany:!0,replaces:"FlowElementsContainer#flowElements"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{
name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean"},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isAttr:!0,isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"assignment",type:"Assignment",isMany:!0},{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isVirtual:!0,isMany:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isVirtual:!0,isMany:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isVirtual:!0,isMany:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isVirtual:!0,isMany:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isVirtual:!0,isMany:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isVirtual:!0,isMany:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRefs",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",type:"String",isBody:!0}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",type:"String",isAttr:!0},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isVirtual:!0,isMany:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isVirtual:!0,isMany:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isVirtual:!0,isMany:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRefs",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["FlowElementsContainer","Collaboration"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isVirtual:!0,isMany:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"CallActivity",superClass:["Activity"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],emumerations:[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],prefix:"bpmn",xml:{tagAlias:"lowerCase",typePrefix:"t"}}},{}],34:[function(a,b,c){b.exports={name:"BPMNDI",uri:"http://www.omg.org/spec/BPMN/20100524/DI",types:[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],emumerations:[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],associations:[],prefix:"bpmndi"}},{}],35:[function(a,b,c){b.exports={name:"DC",uri:"http://www.omg.org/spec/DD/20100524/DC",types:[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],prefix:"dc",associations:[]}},{}],36:[function(a,b,c){b.exports={name:"DI",uri:"http://www.omg.org/spec/DD/20100524/DI",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",type:"String",isAttr:!0,isId:!0},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isMany:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",type:"String",isAttr:!0,isId:!0},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isVirtual:!0,isMany:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isVirtual:!0,isMany:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isVirtual:!0,isMany:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",type:"String",isAttr:!0,isId:!0}]},{name:"Extension",properties:[{name:"values",type:"Element",isMany:!0}]}],associations:[],prefix:"di",xml:{tagAlias:"lowerCase"}}},{}],37:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],38:[function(a,b,c){function d(a){var b=a?a.length:0;return b?a[b-1]:void 0}b.exports=d},{}],39:[function(a,b,c){function d(a,b,c){var d=h(a)?e:g;return c&&i(a,b,c)&&(b=void 0),"function"==typeof b&&void 0===c||(b=f(b,c,3)),d(a,b)}var e=a("../internal/arrayEvery"),f=a("../internal/baseCallback"),g=a("../internal/baseEvery"),h=a("../lang/isArray"),i=a("../internal/isIterateeCall");b.exports=d},{"../internal/arrayEvery":51,"../internal/baseCallback":59,"../internal/baseEvery":64,"../internal/isIterateeCall":106,"../lang/isArray":117}],40:[function(a,b,c){function d(a,b,c){var d=h(a)?e:g;return b=f(b,c,3),d(a,b)}var e=a("../internal/arrayFilter"),f=a("../internal/baseCallback"),g=a("../internal/baseFilter"),h=a("../lang/isArray");b.exports=d},{"../internal/arrayFilter":52,"../internal/baseCallback":59,"../internal/baseFilter":65,"../lang/isArray":117}],41:[function(a,b,c){var d=a("../internal/baseEach"),e=a("../internal/createFind"),f=e(d);b.exports=f},{"../internal/baseEach":63,"../internal/createFind":94}],42:[function(a,b,c){var d=a("../internal/arrayEach"),e=a("../internal/baseEach"),f=a("../internal/createForEach"),g=f(d,e);b.exports=g},{
"../internal/arrayEach":50,"../internal/baseEach":63,"../internal/createForEach":95}],43:[function(a,b,c){function d(a,b,c,d){var m=a?f(a):0;return i(m)||(a=k(a),m=a.length),c="number"!=typeof c||d&&h(b,c,d)?0:c<0?l(m+c,0):c||0,"string"==typeof a||!g(a)&&j(a)?c<=m&&a.indexOf(b,c)>-1:!!m&&e(a,b,c)>-1}var e=a("../internal/baseIndexOf"),f=a("../internal/getLength"),g=a("../lang/isArray"),h=a("../internal/isIterateeCall"),i=a("../internal/isLength"),j=a("../lang/isString"),k=a("../object/values"),l=Math.max;b.exports=d},{"../internal/baseIndexOf":73,"../internal/getLength":100,"../internal/isIterateeCall":106,"../internal/isLength":108,"../lang/isArray":117,"../lang/isString":122,"../object/values":130}],44:[function(a,b,c){function d(a,b,c){var d=h(a)?e:g;return b=f(b,c,3),d(a,b)}var e=a("../internal/arrayMap"),f=a("../internal/baseCallback"),g=a("../internal/baseMap"),h=a("../lang/isArray");b.exports=d},{"../internal/arrayMap":53,"../internal/baseCallback":59,"../internal/baseMap":77,"../lang/isArray":117}],45:[function(a,b,c){var d=a("../internal/arrayReduce"),e=a("../internal/baseEach"),f=a("../internal/createReduce"),g=f(d,e);b.exports=g},{"../internal/arrayReduce":55,"../internal/baseEach":63,"../internal/createReduce":96}],46:[function(a,b,c){function d(a,b,c){var d=h(a)?e:g;return c&&i(a,b,c)&&(b=void 0),"function"==typeof b&&void 0===c||(b=f(b,c,3)),d(a,b)}var e=a("../internal/arraySome"),f=a("../internal/baseCallback"),g=a("../internal/baseSome"),h=a("../lang/isArray"),i=a("../internal/isIterateeCall");b.exports=d},{"../internal/arraySome":56,"../internal/baseCallback":59,"../internal/baseSome":84,"../internal/isIterateeCall":106,"../lang/isArray":117}],47:[function(a,b,c){var d=a("../internal/baseDelay"),e=a("./restParam"),f=e(function(a,b){return d(a,1,b)});b.exports=f},{"../internal/baseDelay":61,"./restParam":48}],48:[function(a,b,c){function d(a,b){if("function"!=typeof a)throw new TypeError(e);return b=f(void 0===b?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,e=f(c.length-b,0),g=Array(e);++d<e;)g[d]=c[b+d];switch(b){case 0:return a.call(this,g);case 1:return a.call(this,c[0],g);case 2:return a.call(this,c[0],c[1],g)}var h=Array(b+1);for(d=-1;++d<b;)h[d]=c[d];return h[b]=g,a.apply(this,h)}}var e="Expected a function",f=Math.max;b.exports=d},{}],49:[function(a,b,c){(function(c){function d(a){var b=a?a.length:0;for(this.data={hash:h(null),set:new g};b--;)this.push(a[b])}var e=a("./cachePush"),f=a("./getNative"),g=f(c,"Set"),h=f(Object,"create");d.prototype.push=e,b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cachePush":89,"./getNative":102}],50:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length;++c<d&&!1!==b(a[c],c,a););return a}b.exports=d},{}],51:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}b.exports=d},{}],52:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[++e]=g)}return f}b.exports=d},{}],53:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}b.exports=d},{}],54:[function(a,b,c){function d(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}b.exports=d},{}],55:[function(a,b,c){function d(a,b,c,d){var e=-1,f=a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}b.exports=d},{}],56:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}b.exports=d},{}],57:[function(a,b,c){function d(a,b,c){for(var d=-1,f=e(b),g=f.length;++d<g;){var h=f[d],i=a[h],j=c(i,b[h],h,a,b);(j===j?j===i:i!==i)&&(void 0!==i||h in a)||(a[h]=j)}return a}var e=a("../object/keys");b.exports=d},{"../object/keys":125}],58:[function(a,b,c){function d(a,b){return null==b?a:e(b,f(b),a)}var e=a("./baseCopy"),f=a("../object/keys");b.exports=d},{"../object/keys":125,"./baseCopy":60}],59:[function(a,b,c){function d(a,b,c){var d=typeof a;return"function"==d?void 0===b?a:g(a,b,c):null==a?h:"object"==d?e(a):void 0===b?i(a):f(a,b)}var e=a("./baseMatches"),f=a("./baseMatchesProperty"),g=a("./bindCallback"),h=a("../utility/identity"),i=a("../utility/property");b.exports=d},{"../utility/identity":131,"../utility/property":132,"./baseMatches":78,"./baseMatchesProperty":79,"./bindCallback":87}],60:[function(a,b,c){function d(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}b.exports=d},{}],61:[function(a,b,c){function d(a,b,c){if("function"!=typeof a)throw new TypeError(e);return setTimeout(function(){a.apply(void 0,c)},b)}var e="Expected a function";b.exports=d},{}],62:[function(a,b,c){function d(a,b){var c=a?a.length:0,d=[];if(!c)return d;var i=-1,j=e,k=!0,l=k&&b.length>=h?g(b):null,m=b.length;l&&(j=f,k=!1,b=l);a:for(;++i<c;){var n=a[i];if(k&&n===n){for(var o=m;o--;)if(b[o]===n)continue a;d.push(n)}else j(b,n,0)<0&&d.push(n)}return d}var e=a("./baseIndexOf"),f=a("./cacheIndexOf"),g=a("./createCache"),h=200;b.exports=d},{"./baseIndexOf":73,"./cacheIndexOf":88,"./createCache":93}],63:[function(a,b,c){var d=a("./baseForOwn"),e=a("./createBaseEach"),f=e(d);b.exports=f},{"./baseForOwn":71,"./createBaseEach":91}],64:[function(a,b,c){function d(a,b){var c=!0;return e(a,function(a,d,e){return c=!!b(a,d,e)}),c}var e=a("./baseEach");b.exports=d},{"./baseEach":63}],65:[function(a,b,c){function d(a,b){var c=[];return e(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}var e=a("./baseEach");b.exports=d},{"./baseEach":63}],66:[function(a,b,c){function d(a,b,c,d){var e;return c(a,function(a,c,f){if(b(a,c,f))return e=d?c:a,!1}),e}b.exports=d},{}],67:[function(a,b,c){function d(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;return-1}b.exports=d},{}],68:[function(a,b,c){function d(a,b,c,j){j||(j=[]);for(var k=-1,l=a.length;++k<l;){var m=a[k];i(m)&&h(m)&&(c||g(m)||f(m))?b?d(m,b,c,j):e(j,m):c||(j[j.length]=m)}return j}var e=a("./arrayPush"),f=a("../lang/isArguments"),g=a("../lang/isArray"),h=a("./isArrayLike"),i=a("./isObjectLike");b.exports=d},{"../lang/isArguments":116,"../lang/isArray":117,"./arrayPush":54,"./isArrayLike":104,"./isObjectLike":109}],69:[function(a,b,c){var d=a("./createBaseFor"),e=d();b.exports=e},{"./createBaseFor":92}],70:[function(a,b,c){function d(a,b){return e(a,b,f)}var e=a("./baseFor"),f=a("../object/keysIn");b.exports=d},{"../object/keysIn":126,"./baseFor":69}],71:[function(a,b,c){function d(a,b){return e(a,b,f)}var e=a("./baseFor"),f=a("../object/keys");b.exports=d},{"../object/keys":125,"./baseFor":69}],72:[function(a,b,c){function d(a,b,c){if(null!=a){void 0!==c&&c in e(a)&&(b=[c]);for(var d=0,f=b.length;null!=a&&d<f;)a=a[b[d++]];return d&&d==f?a:void 0}}var e=a("./toObject");b.exports=d},{"./toObject":114}],73:[function(a,b,c){function d(a,b,c){if(b!==b)return e(a,c);for(var d=c-1,f=a.length;++d<f;)if(a[d]===b)return d;return-1}var e=a("./indexOfNaN");b.exports=d},{"./indexOfNaN":103}],74:[function(a,b,c){function d(a,b,c,h,i,j){return a===b||(null==a||null==b||!f(a)&&!g(b)?a!==a&&b!==b:e(a,b,d,c,h,i,j))}var e=a("./baseIsEqualDeep"),f=a("../lang/isObject"),g=a("./isObjectLike");b.exports=d},{"../lang/isObject":121,"./baseIsEqualDeep":75,"./isObjectLike":109}],75:[function(a,b,c){function d(a,b,c,d,m,p,q){var r=h(a),s=h(b),t=k,u=k;r||(t=o.call(a),t==j?t=l:t!=l&&(r=i(a))),s||(u=o.call(b),u==j?u=l:u!=l&&(s=i(b)));var v=t==l,w=u==l,x=t==u;if(x&&!r&&!v)return f(a,b,t);if(!m){var y=v&&n.call(a,"__wrapped__"),z=w&&n.call(b,"__wrapped__");if(y||z)return c(y?a.value():a,z?b.value():b,d,m,p,q)}if(!x)return!1;p||(p=[]),q||(q=[]);for(var A=p.length;A--;)if(p[A]==a)return q[A]==b;p.push(a),q.push(b);var B=(r?e:g)(a,b,c,d,m,p,q);return p.pop(),q.pop(),B}var e=a("./equalArrays"),f=a("./equalByTag"),g=a("./equalObjects"),h=a("../lang/isArray"),i=a("../lang/isTypedArray"),j="[object Arguments]",k="[object Array]",l="[object Object]",m=Object.prototype,n=m.hasOwnProperty,o=m.toString;b.exports=d},{"../lang/isArray":117,"../lang/isTypedArray":123,"./equalArrays":97,"./equalByTag":98,"./equalObjects":99}],76:[function(a,b,c){function d(a,b,c){var d=b.length,g=d,h=!c;if(null==a)return!g;for(a=f(a);d--;){var i=b[d];if(h&&i[2]?i[1]!==a[i[0]]:!(i[0]in a))return!1}for(;++d<g;){i=b[d];var j=i[0],k=a[j],l=i[1];if(h&&i[2]){if(void 0===k&&!(j in a))return!1}else{var m=c?c(k,l,j):void 0;if(!(void 0===m?e(l,k,c,!0):m))return!1}}return!0}var e=a("./baseIsEqual"),f=a("./toObject");b.exports=d},{"./baseIsEqual":74,"./toObject":114}],77:[function(a,b,c){function d(a,b){var c=-1,d=f(a)?Array(a.length):[];return e(a,function(a,e,f){d[++c]=b(a,e,f)}),d}var e=a("./baseEach"),f=a("./isArrayLike");b.exports=d},{"./baseEach":63,"./isArrayLike":104}],78:[function(a,b,c){function d(a){var b=f(a);if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return function(a){return null!=a&&(a[c]===d&&(void 0!==d||c in g(a)))}}return function(a){return e(a,b)}}var e=a("./baseIsMatch"),f=a("./getMatchData"),g=a("./toObject");b.exports=d},{"./baseIsMatch":76,"./getMatchData":101,"./toObject":114}],79:[function(a,b,c){function d(a,b){var c=h(a),d=i(a)&&j(b),n=a+"";return a=m(a),function(h){if(null==h)return!1;var i=n;if(h=l(h),(c||!d)&&!(i in h)){if(null==(h=1==a.length?h:e(h,g(a,0,-1))))return!1;i=k(a),h=l(h)}return h[i]===b?void 0!==b||i in h:f(b,h[i],void 0,!0)}}var e=a("./baseGet"),f=a("./baseIsEqual"),g=a("./baseSlice"),h=a("../lang/isArray"),i=a("./isKey"),j=a("./isStrictComparable"),k=a("../array/last"),l=a("./toObject"),m=a("./toPath");b.exports=d},{"../array/last":38,"../lang/isArray":117,"./baseGet":72,"./baseIsEqual":74,"./baseSlice":83,"./isKey":107,"./isStrictComparable":110,"./toObject":114,"./toPath":115}],80:[function(a,b,c){function d(a){return function(b){return null==b?void 0:b[a]}}b.exports=d},{}],81:[function(a,b,c){function d(a){var b=a+"";return a=f(a),function(c){return e(c,a,b)}}var e=a("./baseGet"),f=a("./toPath");b.exports=d},{"./baseGet":72,"./toPath":115}],82:[function(a,b,c){function d(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}b.exports=d},{}],83:[function(a,b,c){function d(a,b,c){var d=-1,e=a.length;b=null==b?0:+b||0,b<0&&(b=-b>e?0:e+b),c=void 0===c||c>e?e:+c||0,c<0&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Array(e);++d<e;)f[d]=a[d+b];return f}b.exports=d},{}],84:[function(a,b,c){function d(a,b){var c;return e(a,function(a,d,e){return!(c=b(a,d,e))}),!!c}var e=a("./baseEach");b.exports=d},{"./baseEach":63}],85:[function(a,b,c){function d(a){return null==a?"":a+""}b.exports=d},{}],86:[function(a,b,c){function d(a,b){for(var c=-1,d=b.length,e=Array(d);++c<d;)e[c]=a[b[c]];return e}b.exports=d},{}],87:[function(a,b,c){function d(a,b,c){if("function"!=typeof a)return e;if(void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}var e=a("../utility/identity");b.exports=d},{"../utility/identity":131}],88:[function(a,b,c){function d(a,b){var c=a.data;return("string"==typeof b||e(b)?c.set.has(b):c.hash[b])?0:-1}var e=a("../lang/isObject");b.exports=d},{"../lang/isObject":121}],89:[function(a,b,c){function d(a){var b=this.data;"string"==typeof a||e(a)?b.set.add(a):b.hash[a]=!0}var e=a("../lang/isObject");b.exports=d},{"../lang/isObject":121}],90:[function(a,b,c){function d(a){return g(function(b,c){var d=-1,g=null==b?0:c.length,h=g>2?c[g-2]:void 0,i=g>2?c[2]:void 0,j=g>1?c[g-1]:void 0;for("function"==typeof h?(h=e(h,j,5),g-=2):(h="function"==typeof j?j:void 0,g-=h?1:0),i&&f(c[0],c[1],i)&&(h=g<3?void 0:h,g=1);++d<g;){var k=c[d];k&&a(b,k,h)}return b})}var e=a("./bindCallback"),f=a("./isIterateeCall"),g=a("../function/restParam");b.exports=d},{"../function/restParam":48,"./bindCallback":87,"./isIterateeCall":106}],91:[function(a,b,c){function d(a,b){return function(c,d){var h=c?e(c):0;if(!f(h))return a(c,d);for(var i=b?h:-1,j=g(c);(b?i--:++i<h)&&!1!==d(j[i],i,j););return c}}var e=a("./getLength"),f=a("./isLength"),g=a("./toObject");b.exports=d},{"./getLength":100,"./isLength":108,"./toObject":114}],92:[function(a,b,c){function d(a){return function(b,c,d){for(var f=e(b),g=d(b),h=g.length,i=a?h:-1;a?i--:++i<h;){var j=g[i];if(!1===c(f[j],j,f))break}return b}}var e=a("./toObject");b.exports=d},{"./toObject":114}],93:[function(a,b,c){(function(c){function d(a){return h&&g?new e(a):null}var e=a("./SetCache"),f=a("./getNative"),g=f(c,"Set"),h=f(Object,"create");b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./SetCache":49,"./getNative":102}],94:[function(a,b,c){function d(a,b){return function(c,d,i){if(d=e(d,i,3),h(c)){var j=g(c,d,b);return j>-1?c[j]:void 0}return f(c,d,a)}}var e=a("./baseCallback"),f=a("./baseFind"),g=a("./baseFindIndex"),h=a("../lang/isArray");b.exports=d},{"../lang/isArray":117,"./baseCallback":59,"./baseFind":66,"./baseFindIndex":67}],95:[function(a,b,c){function d(a,b){return function(c,d,g){return"function"==typeof d&&void 0===g&&f(c)?a(c,d):b(c,e(d,g,3))}}var e=a("./bindCallback"),f=a("../lang/isArray");b.exports=d},{"../lang/isArray":117,"./bindCallback":87}],96:[function(a,b,c){function d(a,b){return function(c,d,h,i){var j=arguments.length<3;return"function"==typeof d&&void 0===i&&g(c)?a(c,d,h,j):f(c,e(d,i,4),h,j,b)}}var e=a("./baseCallback"),f=a("./baseReduce"),g=a("../lang/isArray");b.exports=d},{"../lang/isArray":117,"./baseCallback":59,"./baseReduce":82}],97:[function(a,b,c){function d(a,b,c,d,f,g,h){var i=-1,j=a.length,k=b.length;if(j!=k&&!(f&&k>j))return!1;for(;++i<j;){var l=a[i],m=b[i],n=d?d(f?m:l,f?l:m,i):void 0;if(void 0!==n){if(n)continue;return!1}if(f){if(!e(b,function(a){return l===a||c(l,a,d,f,g,h)}))return!1}else if(l!==m&&!c(l,m,d,f,g,h))return!1}return!0}var e=a("./arraySome");b.exports=d},{"./arraySome":56}],98:[function(a,b,c){function d(a,b,c){switch(c){case e:case f:return+a==+b;case g:return a.name==b.name&&a.message==b.message;case h:return a!=+a?b!=+b:a==+b;case i:case j:return a==b+""}return!1}var e="[object Boolean]",f="[object Date]",g="[object Error]",h="[object Number]",i="[object RegExp]",j="[object String]";b.exports=d},{}],99:[function(a,b,c){function d(a,b,c,d,f,h,i){var j=e(a),k=j.length;if(k!=e(b).length&&!f)return!1;for(var l=k;l--;){var m=j[l];if(!(f?m in b:g.call(b,m)))return!1}for(var n=f;++l<k;){m=j[l];var o=a[m],p=b[m],q=d?d(f?p:o,f?o:p,m):void 0;if(!(void 0===q?c(o,p,d,f,h,i):q))return!1;n||(n="constructor"==m)}if(!n){var r=a.constructor,s=b.constructor;if(r!=s&&"constructor"in a&&"constructor"in b&&!("function"==typeof r&&r instanceof r&&"function"==typeof s&&s instanceof s))return!1}return!0}var e=a("../object/keys"),f=Object.prototype,g=f.hasOwnProperty;b.exports=d},{"../object/keys":125}],100:[function(a,b,c){var d=a("./baseProperty"),e=d("length");b.exports=e},{"./baseProperty":80}],101:[function(a,b,c){function d(a){for(var b=f(a),c=b.length;c--;)b[c][2]=e(b[c][1]);return b}var e=a("./isStrictComparable"),f=a("../object/pairs");b.exports=d},{"../object/pairs":128,"./isStrictComparable":110}],102:[function(a,b,c){function d(a,b){var c=null==a?void 0:a[b];return e(c)?c:void 0}var e=a("../lang/isNative");b.exports=d},{"../lang/isNative":119}],103:[function(a,b,c){function d(a,b,c){for(var d=a.length,e=b+(c?0:-1);c?e--:++e<d;){var f=a[e];if(f!==f)return e}return-1}b.exports=d},{}],104:[function(a,b,c){function d(a){return null!=a&&f(e(a))}var e=a("./getLength"),f=a("./isLength");b.exports=d},{"./getLength":100,"./isLength":108}],105:[function(a,b,c){function d(a,b){return a="number"==typeof a||e.test(a)?+a:-1,b=null==b?f:b,a>-1&&a%1==0&&a<b}var e=/^\d+$/,f=9007199254740991;b.exports=d},{}],106:[function(a,b,c){function d(a,b,c){if(!g(c))return!1;var d=typeof b;if("number"==d?e(c)&&f(b,c.length):"string"==d&&b in c){var h=c[b];return a===a?a===h:h!==h}return!1}var e=a("./isArrayLike"),f=a("./isIndex"),g=a("../lang/isObject");b.exports=d},{"../lang/isObject":121,"./isArrayLike":104,"./isIndex":105}],107:[function(a,b,c){function d(a,b){var c=typeof a;return!!("string"==c&&h.test(a)||"number"==c)||!e(a)&&(!g.test(a)||null!=b&&a in f(b))}var e=a("../lang/isArray"),f=a("./toObject"),g=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,h=/^\w*$/;b.exports=d},{"../lang/isArray":117,"./toObject":114}],108:[function(a,b,c){function d(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=e}var e=9007199254740991;b.exports=d},{}],109:[function(a,b,c){function d(a){return!!a&&"object"==typeof a}b.exports=d},{}],110:[function(a,b,c){function d(a){return a===a&&!e(a)}var e=a("../lang/isObject");b.exports=d},{"../lang/isObject":121}],111:[function(a,b,c){function d(a,b){a=e(a);for(var c=-1,d=b.length,f={};++c<d;){var g=b[c];g in a&&(f[g]=a[g])}return f}var e=a("./toObject");b.exports=d},{"./toObject":114}],112:[function(a,b,c){function d(a,b){var c={};return e(a,function(a,d,e){b(a,d,e)&&(c[d]=a)}),c}var e=a("./baseForIn");b.exports=d},{"./baseForIn":70}],113:[function(a,b,c){function d(a){for(var b=i(a),c=b.length,d=c&&a.length,j=!!d&&h(d)&&(f(a)||e(a)),l=-1,m=[];++l<c;){var n=b[l];(j&&g(n,d)||k.call(a,n))&&m.push(n)}return m}var e=a("../lang/isArguments"),f=a("../lang/isArray"),g=a("./isIndex"),h=a("./isLength"),i=a("../object/keysIn"),j=Object.prototype,k=j.hasOwnProperty;b.exports=d},{"../lang/isArguments":116,"../lang/isArray":117,"../object/keysIn":126,"./isIndex":105,"./isLength":108}],114:[function(a,b,c){function d(a){return e(a)?a:Object(a)}var e=a("../lang/isObject");b.exports=d},{"../lang/isObject":121}],115:[function(a,b,c){function d(a){if(f(a))return a;var b=[];return e(a).replace(g,function(a,c,d,e){b.push(d?e.replace(h,"$1"):c||a)}),b}var e=a("./baseToString"),f=a("../lang/isArray"),g=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,h=/\\(\\)?/g;b.exports=d},{"../lang/isArray":117,"./baseToString":85}],116:[function(a,b,c){function d(a){return f(a)&&e(a)&&h.call(a,"callee")&&!i.call(a,"callee")}var e=a("../internal/isArrayLike"),f=a("../internal/isObjectLike"),g=Object.prototype,h=g.hasOwnProperty,i=g.propertyIsEnumerable;b.exports=d},{"../internal/isArrayLike":104,"../internal/isObjectLike":109}],117:[function(a,b,c){var d=a("../internal/getNative"),e=a("../internal/isLength"),f=a("../internal/isObjectLike"),g="[object Array]",h=Object.prototype,i=h.toString,j=d(Array,"isArray"),k=j||function(a){return f(a)&&e(a.length)&&i.call(a)==g};b.exports=k},{"../internal/getNative":102,"../internal/isLength":108,"../internal/isObjectLike":109}],118:[function(a,b,c){function d(a){return e(a)&&h.call(a)==f}var e=a("./isObject"),f="[object Function]",g=Object.prototype,h=g.toString;b.exports=d},{"./isObject":121}],119:[function(a,b,c){function d(a){return null!=a&&(e(a)?k.test(i.call(a)):f(a)&&g.test(a))}var e=a("./isFunction"),f=a("../internal/isObjectLike"),g=/^\[object .+?Constructor\]$/,h=Object.prototype,i=Function.prototype.toString,j=h.hasOwnProperty,k=RegExp("^"+i.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");b.exports=d},{"../internal/isObjectLike":109,"./isFunction":118}],120:[function(a,b,c){function d(a){return"number"==typeof a||e(a)&&h.call(a)==f}var e=a("../internal/isObjectLike"),f="[object Number]",g=Object.prototype,h=g.toString;b.exports=d},{"../internal/isObjectLike":109}],121:[function(a,b,c){function d(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}b.exports=d},{}],122:[function(a,b,c){function d(a){return"string"==typeof a||e(a)&&h.call(a)==f}var e=a("../internal/isObjectLike"),f="[object String]",g=Object.prototype,h=g.toString;b.exports=d},{"../internal/isObjectLike":109}],123:[function(a,b,c){function d(a){return f(a)&&e(a.length)&&!!g[i.call(a)]}var e=a("../internal/isLength"),f=a("../internal/isObjectLike"),g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g["[object Arguments]"]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object Date]"]=g["[object Error]"]=g["[object Function]"]=g["[object Map]"]=g["[object Number]"]=g["[object Object]"]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1;var h=Object.prototype,i=h.toString;b.exports=d},{"../internal/isLength":108,"../internal/isObjectLike":109}],124:[function(a,b,c){var d=a("../internal/assignWith"),e=a("../internal/baseAssign"),f=a("../internal/createAssigner"),g=f(function(a,b,c){return c?d(a,b,c):e(a,b)});b.exports=g},{"../internal/assignWith":57,"../internal/baseAssign":58,"../internal/createAssigner":90}],125:[function(a,b,c){var d=a("../internal/getNative"),e=a("../internal/isArrayLike"),f=a("../lang/isObject"),g=a("../internal/shimKeys"),h=d(Object,"keys"),i=h?function(a){var b=null==a?void 0:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&e(a)?g(a):f(a)?h(a):[]}:g;b.exports=i},{"../internal/getNative":102,"../internal/isArrayLike":104,"../internal/shimKeys":113,"../lang/isObject":121}],126:[function(a,b,c){function d(a){if(null==a)return[];i(a)||(a=Object(a));var b=a.length;b=b&&h(b)&&(f(a)||e(a))&&b||0;for(var c=a.constructor,d=-1,j="function"==typeof c&&c.prototype===a,l=Array(b),m=b>0;++d<b;)l[d]=d+"";for(var n in a)m&&g(n,b)||"constructor"==n&&(j||!k.call(a,n))||l.push(n);return l}var e=a("../lang/isArguments"),f=a("../lang/isArray"),g=a("../internal/isIndex"),h=a("../internal/isLength"),i=a("../lang/isObject"),j=Object.prototype,k=j.hasOwnProperty;b.exports=d},{"../internal/isIndex":105,"../internal/isLength":108,"../lang/isArguments":116,"../lang/isArray":117,"../lang/isObject":121}],127:[function(a,b,c){var d=a("../internal/arrayMap"),e=a("../internal/baseDifference"),f=a("../internal/baseFlatten"),g=a("../internal/bindCallback"),h=a("./keysIn"),i=a("../internal/pickByArray"),j=a("../internal/pickByCallback"),k=a("../function/restParam"),l=k(function(a,b){if(null==a)return{};if("function"!=typeof b[0]){var b=d(f(b),String);return i(a,e(h(a),b))}var c=g(b[0],b[1],3);return j(a,function(a,b,d){return!c(a,b,d)})});b.exports=l},{"../function/restParam":48,"../internal/arrayMap":53,"../internal/baseDifference":62,"../internal/baseFlatten":68,"../internal/bindCallback":87,"../internal/pickByArray":111,"../internal/pickByCallback":112,"./keysIn":126}],128:[function(a,b,c){function d(a){a=f(a);for(var b=-1,c=e(a),d=c.length,g=Array(d);++b<d;){var h=c[b];g[b]=[h,a[h]]}return g}var e=a("./keys"),f=a("../internal/toObject");b.exports=d},{"../internal/toObject":114,"./keys":125}],129:[function(a,b,c){var d=a("../internal/baseFlatten"),e=a("../internal/bindCallback"),f=a("../internal/pickByArray"),g=a("../internal/pickByCallback"),h=a("../function/restParam"),i=h(function(a,b){return null==a?{}:"function"==typeof b[0]?g(a,e(b[0],b[1],3)):f(a,d(b))});b.exports=i},{"../function/restParam":48,"../internal/baseFlatten":68,"../internal/bindCallback":87,"../internal/pickByArray":111,"../internal/pickByCallback":112}],130:[function(a,b,c){function d(a){return e(a,f(a))}var e=a("../internal/baseValues"),f=a("./keys");b.exports=d},{"../internal/baseValues":86,"./keys":125}],131:[function(a,b,c){function d(a){return a}b.exports=d},{}],132:[function(a,b,c){function d(a){return g(a)?e(a):f(a)}var e=a("../internal/baseProperty"),f=a("../internal/basePropertyDeep"),g=a("../internal/isKey");b.exports=d},{"../internal/baseProperty":80,"../internal/basePropertyDeep":81,"../internal/isKey":107}],133:[function(a,b,c){b.exports=a("component-delegate")},{"component-delegate":139}],134:[function(a,b,c){b.exports=a("domify")},{domify:143}],135:[function(a,b,c){b.exports=a("component-event")},{"component-event":140}],136:[function(a,b,c){b.exports=a("component-query")},{"component-query":142}],137:[function(a,b,c){b.exports=function(a){a.parentNode&&a.parentNode.removeChild(a)}},{}],138:[function(a,b,c){var d=a("matches-selector");b.exports=function(a,b,c,e){for(a=c?{parentNode:a}:a,e=e||document;(a=a.parentNode)&&a!==document;){if(d(a,b))return a;if(a===e)return}}},{"matches-selector":141}],139:[function(a,b,c){try{var d=a("closest")}catch(f){var d=a("component-closest")}try{var e=a("event")}catch(f){var e=a("component-event")}c.bind=function(a,b,c,f,g){return e.bind(a,c,function(c){var e=c.target||c.srcElement;c.delegateTarget=d(e,b,!0,a),c.delegateTarget&&f.call(a,c)},g)},c.unbind=function(a,b,c,d){e.unbind(a,b,c,d)}},{closest:138,"component-closest":138,"component-event":140,event:140}],140:[function(a,b,c){var d=window.addEventListener?"addEventListener":"attachEvent",e=window.removeEventListener?"removeEventListener":"detachEvent",f="addEventListener"!==d?"on":"";c.bind=function(a,b,c,e){return a[d](f+b,c,e||!1),c},c.unbind=function(a,b,c,d){return a[e](f+b,c,d||!1),c}},{}],141:[function(a,b,c){function d(a,b){if(!a||1!==a.nodeType)return!1;if(g)return g.call(a,b);for(var c=e.all(b,a.parentNode),d=0;d<c.length;++d)if(c[d]==a)return!0;return!1}try{var e=a("query")}catch(h){var e=a("component-query")}var f=Element.prototype,g=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.msMatchesSelector||f.oMatchesSelector;b.exports=d},{"component-query":142,query:142}],142:[function(a,b,c){function d(a,b){return b.querySelector(a)}c=b.exports=function(a,b){return b=b||document,d(a,b)},c.all=function(a,b){return b=b||document,b.querySelectorAll(a)},c.engine=function(a){if(!a.one)throw new Error(".one callback required");if(!a.all)throw new Error(".all callback required");return d=a.one,c.all=a.all,c}},{}],143:[function(a,b,c){function d(a,b){if("string"!=typeof a)throw new TypeError("String expected");b||(b=document);var c=/<([\w:]+)/.exec(a);if(!c)return b.createTextNode(a);a=a.replace(/^\s+|\s+$/g,"");var d=c[1];if("body"==d){var e=b.createElement("html");return e.innerHTML=a,e.removeChild(e.lastChild)}var f=g[d]||g._default,h=f[0],i=f[1],j=f[2],e=b.createElement("div");for(e.innerHTML=i+a+j;h--;)e=e.lastChild;if(e.firstChild==e.lastChild)return e.removeChild(e.firstChild);for(var k=b.createDocumentFragment();e.firstChild;)k.appendChild(e.removeChild(e.firstChild));return k}b.exports=d;var e,f=!1;"undefined"!=typeof document&&(e=document.createElement("div"),e.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',f=!e.getElementsByTagName("link").length,e=void 0);var g={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:f?[1,"X<div>","</div>"]:[0,"",""]};g.td=g.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],g.option=g.optgroup=[1,'<select multiple="multiple">',"</select>"],g.thead=g.tbody=g.colgroup=g.caption=g.tfoot=[1,"<table>","</table>"],g.polyline=g.ellipse=g.polygon=g.circle=g.text=g.line=g.path=g.rect=g.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],144:[function(a,b,c){b.exports=a("./lib/refs"),b.exports.Collection=a("./lib/collection")},{"./lib/collection":145,"./lib/refs":146}],145:[function(a,b,c){"use strict";function d(a,b,c,d){var e=c.inverse;return Object.defineProperty(a,"remove",{value:function(a){var c=this.indexOf(a);return-1!==c&&(this.splice(c,1),b.unset(a,e,d)),a}}),Object.defineProperty(a,"contains",{value:function(a){return-1!==this.indexOf(a)}}),Object.defineProperty(a,"add",{value:function(a){this.contains(a)||(this.push(a),b.set(a,e,d))}}),Object.defineProperty(a,"__refs_collection",{value:!0}),a}function e(a){return!0===a.__refs_collection}b.exports.extend=d,b.exports.isExtended=e},{}],146:[function(a,b,c){"use strict";function d(a,b){return Object.prototype.hasOwnProperty.call(a,b.name||b)}function e(a,b,c){Object.defineProperty(c,b.name,{enumerable:b.enumerable,value:h.extend(c[b.name]||[],a,b,c)})}function f(a,b,c){var d=b.inverse,e=c[b.name];Object.defineProperty(c,b.name,{enumerable:b.enumerable,get:function(){return e},set:function(b){if(b!==e){var f=e;e=null,f&&a.unset(f,d,c),e=b,a.set(e,d,c)}}})}function g(a,b){if(!(this instanceof g))return new g(a,b);a.inverse=b,b.inverse=a,this.props={},this.props[a.name]=a,this.props[b.name]=b}var h=a("./collection");g.prototype.bind=function(a,b){if("string"==typeof b){if(!this.props[b])throw new Error("no property <"+b+"> in ref");b=this.props[b]}b.collection?e(this,b,a):f(this,b,a)},g.prototype.ensureRefsCollection=function(a,b){var c=a[b.name];return h.isExtended(c)||e(this,b,a),c},g.prototype.ensureBound=function(a,b){d(a,b)||this.bind(a,b)},g.prototype.unset=function(a,b,c){a&&(this.ensureBound(a,b),b.collection?this.ensureRefsCollection(a,b).remove(c):a[b.name]=void 0)},g.prototype.set=function(a,b,c){a&&(this.ensureBound(a,b),b.collection?this.ensureRefsCollection(a,b).add(c):a[b.name]=c)},b.exports=g},{"./collection":145}],147:[function(a,b,c){function d(a,b){return e(b,a),a}b.exports=d;var e=a("./appendTo")},{"./appendTo":148}],148:[function(a,b,c){function d(a,b){return b.appendChild(e(a,b)),a}b.exports=d;var e=a("./util/ensureImported")},{"./util/ensureImported":155}],149:[function(a,b,c){function d(a,b){return i[b]?a.style[b]:a.getAttributeNS(null,b)}function e(a,b,c){var d=b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e=i[d];e?(e===h&&"number"==typeof c&&(c=String(c)+"px"),a.style[d]=c):a.setAttributeNS(null,b,c)}function f(a,b){var c,d,f=Object.keys(b);for(c=0,d;d=f[c];c++)e(a,d,b[d])}function g(a,b,c){if("string"==typeof b){if(void 0===c)return d(a,b);e(a,b,c)}else f(a,b);return a}b.exports=g;var h=2,i={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":h,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":h,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1}},{}],150:[function(a,b,c){function d(a){return void 0!==a}function e(a){return new f(a)}function f(a){if(!a||!a.nodeType)throw new Error("A DOM element reference is required");this.el=a,this.list=a.classList}b.exports=e;var g=function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1},h=/\s+/,i=Object.prototype.toString;f.prototype.add=function(a){if(this.list)return this.list.add(a),this;var b=this.array();return~g(b,a)||b.push(a),d(this.el.className.baseVal)?this.el.className.baseVal=b.join(" "):this.el.className=b.join(" "),this},f.prototype.remove=function(a){if("[object RegExp]"===i.call(a))return this.removeMatching(a);if(this.list)return this.list.remove(a),this;var b=this.array(),c=g(b,a);return~c&&b.splice(c,1),this.el.className.baseVal=b.join(" "),this},f.prototype.removeMatching=function(a){for(var b=this.array(),c=0;c<b.length;c++)a.test(b[c])&&this.remove(b[c]);return this},f.prototype.toggle=function(a,b){return this.list?(d(b)?b!==this.list.toggle(a,b)&&this.list.toggle(a):this.list.toggle(a),this):(d(b)?b?this.add(a):this.remove(a):this.has(a)?this.remove(a):this.add(a),this)},f.prototype.array=function(){var a=this.el.getAttribute("class")||"",b=a.replace(/^\s+|\s+$/g,""),c=b.split(h);return""===c[0]&&c.shift(),c},
f.prototype.has=f.prototype.contains=function(a){return this.list?this.list.contains(a):!!~g(this.array(),a)}},{}],151:[function(a,b,c){function d(a){for(var b;b=a.firstChild;)e(b);return a}b.exports=d;var e=a("./remove")},{"./remove":154}],152:[function(a,b,c){function d(a,b){var c;return"<"===a.charAt(0)?(c=f(a).firstChild,c=document.importNode(c,!0)):c=document.createElementNS(g.svg,a),b&&e(c,b),c}b.exports=d;var e=a("./attr"),f=a("./util/parse"),g=a("./util/ns")},{"./attr":149,"./util/ns":156,"./util/parse":157}],153:[function(a,b,c){function d(a,b){var c,d=i(b).documentElement;if(g(a),b)for(c=d.firstChild;c;)h(c,a),c=c.nextSibling}function e(a){for(var b=a.firstChild,c=[];b;)j(b,c),b=b.nextSibling;return c.join("")}function f(a,b){if(void 0!==b){try{d(a,b)}catch(c){throw new Error("error parsing SVG: "+c.message)}return a}return e(a)}b.exports=f;var g=a("./clear"),h=a("./appendTo"),i=a("./util/parse"),j=a("./util/serialize")},{"./appendTo":148,"./clear":151,"./util/parse":157,"./util/serialize":158}],154:[function(a,b,c){function d(a){var b=a.parentNode;return b&&b.removeChild(a),a}b.exports=d},{}],155:[function(a,b,c){function d(a,b){if(a.ownerDocument!==b.ownerDocument)try{return b.ownerDocument.importNode(a,!0)}catch(c){}return a}b.exports=d},{}],156:[function(a,b,c){var d={svg:"http://www.w3.org/2000/svg"};b.exports=d},{}],157:[function(a,b,c){function d(a){return"<svg"===a.substring(0,4)?-1===a.indexOf(f.svg)&&(a=g+a.substring(4)):a=g+">"+a+"</svg>",e(a)}function e(a){var b;return b=new DOMParser,b.async=!1,b.parseFromString(a,"text/xml")}b.exports=d;var f=a("./ns"),g='<svg xmlns="'+f.svg+'"'},{"./ns":156}],158:[function(a,b,c){function d(a,b){function c(a,b){return h[b]||b}return a.replace(b,c)}function e(a,b){var c,h,i,j,k;switch(a.nodeType){case 3:b.push(d(a.textContent,f));break;case 1:if(b.push("<",a.tagName),a.hasAttributes())for(i=a.attributes,c=0,h=i.length;c<h;++c)j=i.item(c),b.push(" ",j.name,'="',d(j.value,g),'"');if(a.hasChildNodes()){for(b.push(">"),k=a.childNodes,c=0,h=k.length;c<h;++c)e(k.item(c),b);b.push("</",a.tagName,">")}else b.push("/>");break;case 8:b.push("\x3c!--",d(a.nodeValue,f),"--\x3e");break;case 4:b.push("<![CDATA[",a.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+a.nodeType)}return b}b.exports=e;var f=/([&<>]{1})/g,g=/([\n\r"]{1})/g,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"}},{}],159:[function(a,b,c){b.exports=a("./lib/Diagram")},{"./lib/Diagram":160}],160:[function(a,b,c){"use strict";function d(a){function b(a){return e.indexOf(a)>=0}function c(a){e.push(a)}function d(a){b(a)||((a.__depends__||[]).forEach(d),b(a)||(c(a),(a.__init__||[]).forEach(function(a){f.push(a)})))}var e=[],f=[];a.forEach(d);var h=new g.Injector(e);return f.forEach(function(a){try{h["string"==typeof a?"get":"invoke"](a)}catch(b){throw console.error("Failed to instantiate component"),console.error(b.stack),b}}),h}function e(b){return b=b||{},d([{config:["value",b]},a("./core")].concat(b.modules||[]))}function f(a,b){this.injector=b=b||e(a),this.get=b.get,this.invoke=b.invoke,this.get("eventBus").fire("diagram.init")}var g=a("didi");b.exports=f,f.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},f.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")}},{"./core":166,didi:203}],161:[function(a,b,c){"use strict";function d(a,b){return Math.round(a*b)/b}function e(a){return j(a)?a+"px":a}function f(a){a=k({},{width:"100%",height:"100%"},a);var b=a.container||document.body,c=document.createElement("div");return c.setAttribute("class","djs-container"),k(c.style,{position:"relative",overflow:"hidden",width:e(a.width),height:e(a.height)}),b.appendChild(c),c}function g(a,b){var c=t("g");return s(c).add(b),q(a,c),c}function h(a,b,c,d){this._eventBus=b,this._elementRegistry=d,this._graphicsFactory=c,this._init(a||{})}function i(a,b){var c="matrix("+b.a+","+b.b+","+b.c+","+b.d+","+b.e+","+b.f+")";a.setAttribute("transform",c)}var j=a("lodash/lang/isNumber"),k=a("lodash/object/assign"),l=a("lodash/collection/forEach"),m=a("lodash/collection/every"),n=a("lodash/function/debounce"),o=a("../util/Collections"),p=a("../util/Elements"),q=a("tiny-svg/lib/append"),r=a("tiny-svg/lib/attr"),s=a("tiny-svg/lib/classes"),t=a("tiny-svg/lib/create"),u=a("tiny-svg/lib/transform"),v=a("tiny-svg/lib/geometry").createMatrix,w={shape:["x","y","width","height"],connection:["waypoints"]};h.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],b.exports=h,h.prototype._init=function(a){var b=this._eventBus,c=this._container=f(a),d=this._svg=t("svg");r(d,{width:"100%",height:"100%"}),q(c,d);var e=this._viewport=g(d,"viewport");this._layers={},!1!==a.deferUpdate&&(this._viewboxChanged=n(this._viewboxChanged,300)),b.on("diagram.init",function(){b.fire("canvas.init",{svg:d,viewport:e}),this.resized()},this),b.on("diagram.destroy",500,this._destroy,this),b.on("diagram.clear",500,this._clear,this)},h.prototype._destroy=function(a){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var b=this._container.parentNode;b&&b.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},h.prototype._clear=function(){var a=this;this._elementRegistry.getAll().forEach(function(b){var c=p.getType(b);"root"===c?a.setRootElement(null,!0):a._removeElement(b,c)}),delete this._cachedViewbox},h.prototype.getDefaultLayer=function(){return this.getLayer("base")},h.prototype.getLayer=function(a){if(!a)throw new Error("must specify a name");var b=this._layers[a];return b||(b=this._layers[a]=g(this._viewport,"layer-"+a)),b},h.prototype.getContainer=function(){return this._container},h.prototype._updateMarker=function(a,b,c){var d;a.id||(a=this._elementRegistry.get(a)),(d=this._elementRegistry._elements[a.id])&&(l([d.gfx,d.secondaryGfx],function(a){a&&(c?s(a).add(b):s(a).remove(b))}),this._eventBus.fire("element.marker.update",{element:a,gfx:d.gfx,marker:b,add:!!c}))},h.prototype.addMarker=function(a,b){this._updateMarker(a,b,!0)},h.prototype.removeMarker=function(a,b){this._updateMarker(a,b,!1)},h.prototype.hasMarker=function(a,b){a.id||(a=this._elementRegistry.get(a));var c=this.getGraphics(a);return s(c).has(b)},h.prototype.toggleMarker=function(a,b){this.hasMarker(a,b)?this.removeMarker(a,b):this.addMarker(a,b)},h.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot",children:[]}),this._rootElement},h.prototype.setRootElement=function(a,b){a&&this._ensureValid("root",a);var c=this._rootElement,d=this._elementRegistry,e=this._eventBus;if(c){if(!b)throw new Error("rootElement already set, need to specify override");e.fire("root.remove",{element:c}),e.fire("root.removed",{element:c}),d.remove(c)}if(a){var f=this.getDefaultLayer();e.fire("root.add",{element:a}),d.add(a,f,this._svg),e.fire("root.added",{element:a,gfx:f})}return this._rootElement=a,a},h.prototype._ensureValid=function(a,b){if(!b.id)throw new Error("element must have an id");if(this._elementRegistry.get(b.id))throw new Error("element with id "+b.id+" already exists");var c=w[a];if(!m(c,function(a){return void 0!==b[a]}))throw new Error("must supply { "+c.join(", ")+" } with "+a)},h.prototype._setParent=function(a,b,c){o.add(b.children,a,c),a.parent=b},h.prototype._addElement=function(a,b,c,d){c=c||this.getRootElement();var e=this._eventBus,f=this._graphicsFactory;this._ensureValid(a,b),e.fire(a+".add",{element:b,parent:c}),this._setParent(b,c,d);var g=f.create(a,b);return this._elementRegistry.add(b,g),f.update(a,b,g),e.fire(a+".added",{element:b,gfx:g}),b},h.prototype.addShape=function(a,b,c){return this._addElement("shape",a,b,c)},h.prototype.addConnection=function(a,b,c){return this._addElement("connection",a,b,c)},h.prototype._removeElement=function(a,b){var c=this._elementRegistry,d=this._graphicsFactory,e=this._eventBus;if(a=c.get(a.id||a))return e.fire(b+".remove",{element:a}),d.remove(a),o.remove(a.parent&&a.parent.children,a),a.parent=null,e.fire(b+".removed",{element:a}),c.remove(a),a},h.prototype.removeShape=function(a){return this._removeElement(a,"shape")},h.prototype.removeConnection=function(a){return this._removeElement(a,"connection")},h.prototype.getGraphics=function(a,b){return this._elementRegistry.getGraphics(a,b)},h.prototype._changeViewbox=function(a){this._eventBus.fire("canvas.viewbox.changing"),a.apply(this),this._cachedViewbox=null,this._viewboxChanged()},h.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},h.prototype.viewbox=function(a){if(void 0===a&&this._cachedViewbox)return this._cachedViewbox;var b,c,e,f,g,h=this._viewport,i=this.getSize();if(!a){b=this.getDefaultLayer().getBBox();var j=u(h);return c=j?j.matrix:v(),e=d(c.a,1e3),f=d(-c.e||0,1e3),g=d(-c.f||0,1e3),a=this._cachedViewbox={x:f?f/e:0,y:g?g/e:0,width:i.width/e,height:i.height/e,scale:e,inner:{width:b.width,height:b.height,x:b.x,y:b.y},outer:i}}return this._changeViewbox(function(){e=Math.min(i.width/a.width,i.height/a.height);var b=this._svg.createSVGMatrix().scale(e).translate(-a.x,-a.y);u(h,b)}),a},h.prototype.scroll=function(a){var b=this._viewport,c=b.getCTM();return a&&this._changeViewbox(function(){a=k({dx:0,dy:0},a||{}),c=this._svg.createSVGMatrix().translate(a.dx,a.dy).multiply(c),i(b,c)}),{x:c.e,y:c.f}},h.prototype.zoom=function(a,b){if(!a)return this.viewbox(a).scale;if("fit-viewport"===a)return this._fitViewport(b);var c,e;return this._changeViewbox(function(){"object"!=typeof b&&(c=this.viewbox().outer,b={x:c.width/2,y:c.height/2}),e=this._setZoom(a,b)}),d(e.a,1e3)},h.prototype._fitViewport=function(a){var b,c,d=this.viewbox(),e=d.outer,f=d.inner;return f.x>=0&&f.y>=0&&f.x+f.width<=e.width&&f.y+f.height<=e.height&&!a?c={x:0,y:0,width:Math.max(f.width+f.x,e.width),height:Math.max(f.height+f.y,e.height)}:(b=Math.min(1,e.width/f.width,e.height/f.height),c={x:f.x+(a?f.width/2-e.width/b/2:0),y:f.y+(a?f.height/2-e.height/b/2:0),width:e.width/b,height:e.height/b}),this.viewbox(c),this.viewbox(!1).scale},h.prototype._setZoom=function(a,b){var c,d,e,f,g,h=this._svg,j=this._viewport,l=h.createSVGMatrix(),m=h.createSVGPoint();e=j.getCTM();var n=e.a;return b?(c=k(m,b),d=c.matrixTransform(e.inverse()),f=l.translate(d.x,d.y).scale(1/n*a).translate(-d.x,-d.y),g=e.multiply(f)):g=l.scale(a),i(this._viewport,g),g},h.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},h.prototype.getAbsoluteBBox=function(a){var b,c=this.viewbox();if(a.waypoints){var d=this.getGraphics(a),e=d.getBBox(!0);b=d.getBBox(),b.x-=e.x,b.y-=e.y,b.width+=2*e.x,b.height+=2*e.y}else b=a;return{x:b.x*c.scale-c.x*c.scale,y:b.y*c.scale-c.y*c.scale,width:b.width*c.scale,height:b.height*c.scale}},h.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")}},{"../util/Collections":190,"../util/Elements":192,"lodash/collection/every":209,"lodash/collection/forEach":212,"lodash/function/debounce":217,"lodash/lang/isNumber":304,"lodash/object/assign":310,"tiny-svg/lib/append":339,"tiny-svg/lib/attr":341,"tiny-svg/lib/classes":342,"tiny-svg/lib/create":343,"tiny-svg/lib/geometry":344,"tiny-svg/lib/transform":346}],162:[function(a,b,c){"use strict";function d(){this._uid=12}var e=a("../model"),f=a("lodash/object/assign");b.exports=d,d.prototype.createRoot=function(a){return this.create("root",a)},d.prototype.createLabel=function(a){return this.create("label",a)},d.prototype.createShape=function(a){return this.create("shape",a)},d.prototype.createConnection=function(a){return this.create("connection",a)},d.prototype.create=function(a,b){return b=f({},b||{}),b.id||(b.id=a+"_"+this._uid++),e.create(a,b)}},{"../model":183,"lodash/object/assign":310}],163:[function(a,b,c){"use strict";function d(){this._elements={}}var e="data-element-id",f=a("tiny-svg/lib/attr");b.exports=d,d.prototype.add=function(a,b,c){var d=a.id;this._validateId(d),f(b,e,d),c&&f(c,e,d),this._elements[d]={element:a,gfx:b,secondaryGfx:c}},d.prototype.remove=function(a){var b=this._elements,c=a.id||a,d=c&&b[c];d&&(f(d.gfx,e,""),d.secondaryGfx&&f(d.secondaryGfx,e,""),delete b[c])},d.prototype.updateId=function(a,b){this._validateId(b),"string"==typeof a&&(a=this.get(a));var c=this.getGraphics(a),d=this.getGraphics(a,!0);this.remove(a),a.id=b,this.add(a,c,d)},d.prototype.get=function(a){var b;b="string"==typeof a?a:a&&f(a,e);var c=this._elements[b];return c&&c.element},d.prototype.filter=function(a){var b=[];return this.forEach(function(c,d){a(c,d)&&b.push(c)}),b},d.prototype.getAll=function(){return this.filter(function(a){return a})},d.prototype.forEach=function(a){var b=this._elements;Object.keys(b).forEach(function(c){var d=b[c],e=d.element,f=d.gfx;return a(e,f)})},d.prototype.getGraphics=function(a,b){var c=a.id||a,d=this._elements[c];return d&&(b?d.secondaryGfx:d.gfx)},d.prototype._validateId=function(a){if(!a)throw new Error("element must have an id");if(this._elements[a])throw new Error("element with id "+a+" already added")}},{"tiny-svg/lib/attr":341}],164:[function(a,b,c){"use strict";function d(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function e(){}function f(a,b){return a.apply(null,b)}var g=a("lodash/lang/isFunction"),h=a("lodash/lang/isArray"),i=a("lodash/lang/isNumber"),j=a("lodash/function/bind"),k=a("lodash/object/assign"),l="__fn",m=1e3,n=Array.prototype.slice;b.exports=d,d.prototype.on=function(a,b,c,d){if(a=h(a)?a:[a],g(b)&&(d=c,c=b,b=m),!i(b))throw new Error("priority must be a number");var e=c;d&&(e=j(c,d),e[l]=c[l]||c);var f=this,k={priority:b,callback:e};a.forEach(function(a){f._addListener(a,k)})},d.prototype.once=function(a,b,c,d){function e(){return f.off(a,e),c.apply(d,arguments)}var f=this;if(g(b)&&(d=c,c=b,b=m),!i(b))throw new Error("priority must be a number");e[l]=c,this.on(a,b,e)},d.prototype.off=function(a,b){var c,d,e,f=this._getListeners(a);if(b)for(e=f.length-1;c=f[e];e--)(d=c.callback)!==b&&d[l]!==b||f.splice(e,1);else f.length=0},d.prototype.fire=function(a,b){var c,d,f,g;if(g=n.call(arguments),"object"==typeof a&&(c=a,a=c.type),!a)throw new Error("no event type specified");if(d=this._listeners[a]){b instanceof e?c=b:(c=new e,c.init(b)),g[0]=c;var h=c.type;a!==h&&(c.type=a);try{f=this._invokeListeners(c,g,d)}finally{a!==h&&(c.type=h)}return void 0===f&&c.defaultPrevented&&(f=!1),f}},d.prototype.handleError=function(a){return!1===this.fire("error",{error:a})},d.prototype._destroy=function(){this._listeners={}},d.prototype._invokeListeners=function(a,b,c){var d,e,f;for(d=0;(e=c[d])&&!a.cancelBubble;d++)f=this._invokeListener(a,b,e);return f},d.prototype._invokeListener=function(a,b,c){var d;try{d=f(c.callback,b),void 0!==d&&(a.returnValue=d,a.stopPropagation()),!1===d&&a.preventDefault()}catch(e){if(!this.handleError(e))throw console.error("unhandled error in event listener"),console.error(e.stack),e}return d},d.prototype._addListener=function(a,b){var c,d,e=this._getListeners(a);for(d=0;c=e[d];d++)if(c.priority<b.priority)return void e.splice(d,0,b);e.push(b)},d.prototype._getListeners=function(a){var b=this._listeners[a];return b||(this._listeners[a]=b=[]),b},b.exports.Event=e,e.prototype.stopPropagation=function(){this.cancelBubble=!0},e.prototype.preventDefault=function(){this.defaultPrevented=!0},e.prototype.init=function(a){k(this,a||{})}},{"lodash/function/bind":216,"lodash/lang/isArray":301,"lodash/lang/isFunction":302,"lodash/lang/isNumber":304,"lodash/object/assign":310}],165:[function(a,b,c){"use strict";function d(a,b){this._eventBus=a,this._elementRegistry=b}function e(a,b){b.insertBefore(a,b.firstChild)}var f=a("lodash/collection/forEach"),g=a("lodash/collection/reduce"),h=a("../util/GraphicsUtil"),i=a("../util/SvgTransformUtil").translate,j=a("min-dom/lib/clear"),k=a("tiny-svg/lib/append"),l=a("tiny-svg/lib/attr"),m=a("tiny-svg/lib/classes"),n=a("tiny-svg/lib/create"),o=a("tiny-svg/lib/remove");d.$inject=["eventBus","elementRegistry"],b.exports=d,d.prototype._getChildren=function(a){var b,c=this._elementRegistry.getGraphics(a);return a.parent?(b=h.getChildren(c))||(b=n("g"),m(b).add("djs-children"),k(c.parentNode,b)):b=c,b},d.prototype._clear=function(a){var b=h.getVisual(a);return j(b),b},d.prototype._createContainer=function(a,b){var c=n("g");m(c).add("djs-group"),k(b,c);var d=n("g");m(d).add("djs-element"),m(d).add("djs-"+a),k(c,d);var e=n("g");return m(e).add("djs-visual"),k(d,e),d},d.prototype.create=function(a,b){var c=this._getChildren(b.parent);return this._createContainer(a,c)},d.prototype.updateContainments=function(a){var b,c=this,d=this._elementRegistry;b=g(a,function(a,b){return b.parent&&(a[b.parent.id]=b.parent),a},{}),f(b,function(a){var b=c._getChildren(a),g=a.children;g&&f(g.slice().reverse(),function(a){e(d.getGraphics(a).parentNode,b)})})},d.prototype.drawShape=function(a,b){return this._eventBus.fire("render.shape",{gfx:a,element:b})},d.prototype.getShapePath=function(a){return this._eventBus.fire("render.getShapePath",a)},d.prototype.drawConnection=function(a,b){return this._eventBus.fire("render.connection",{gfx:a,element:b})},d.prototype.getConnectionPath=function(a){return this._eventBus.fire("render.getConnectionPath",a)},d.prototype.update=function(a,b,c){if(b.parent){var d=this._clear(c);if("shape"===a)this.drawShape(d,b),i(c,b.x,b.y);else{if("connection"!==a)throw new Error("unknown type: "+a);this.drawConnection(d,b)}b.hidden?l(c,"display","none"):l(c,"display","block")}},d.prototype.remove=function(a){var b=this._elementRegistry.getGraphics(a);o(b.parentNode)}},{"../util/GraphicsUtil":194,"../util/SvgTransformUtil":200,"lodash/collection/forEach":212,"lodash/collection/reduce":214,"min-dom/lib/clear":321,"tiny-svg/lib/append":339,"tiny-svg/lib/attr":341,"tiny-svg/lib/classes":342,"tiny-svg/lib/create":343,"tiny-svg/lib/remove":345}],166:[function(a,b,c){b.exports={__depends__:[a("../draw")],__init__:["canvas"],canvas:["type",a("./Canvas")],elementRegistry:["type",a("./ElementRegistry")],elementFactory:["type",a("./ElementFactory")],eventBus:["type",a("./EventBus")],graphicsFactory:["type",a("./GraphicsFactory")]}},{"../draw":170,"./Canvas":161,"./ElementFactory":162,"./ElementRegistry":163,"./EventBus":164,"./GraphicsFactory":165}],167:[function(a,b,c){"use strict";function d(a,b){var c=this;b=b||e,a.on(["render.shape","render.connection"],b,function(a,b){var d=a.type,e=b.element,f=b.gfx;if(c.canRender(e))return"render.shape"===d?c.drawShape(f,e):c.drawConnection(f,e)}),a.on(["render.getShapePath","render.getConnectionPath"],b,function(a,b){if(c.canRender(b))return"render.getShapePath"===a.type?c.getShapePath(b):c.getConnectionPath(b)})}var e=1e3;d.prototype.canRender=function(){},d.prototype.drawShape=function(){},d.prototype.drawConnection=function(){},d.prototype.getShapePath=function(){},d.prototype.getConnectionPath=function(){},b.exports=d},{}],168:[function(a,b,c){"use strict";function d(a,b){f.call(this,a,m),this.CONNECTION_STYLE=b.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=b.style({fill:"white",stroke:"fuchsia",strokeWidth:2})}var e=a("inherits"),f=a("./BaseRenderer"),g=a("../util/RenderUtil"),h=g.componentsToPath,i=g.createLine,j=a("tiny-svg/lib/append"),k=a("tiny-svg/lib/attr"),l=a("tiny-svg/lib/create"),m=1;e(d,f),d.prototype.canRender=function(){return!0},d.prototype.drawShape=function(a,b){var c=l("rect");return k(c,{x:0,y:0,width:b.width||0,height:b.height||0}),k(c,this.SHAPE_STYLE),j(a,c),c},d.prototype.drawConnection=function(a,b){var c=i(b.waypoints,this.CONNECTION_STYLE);return j(a,c),c},d.prototype.getShapePath=function(a){var b=a.x,c=a.y,d=a.width,e=a.height;return h([["M",b,c],["l",d,0],["l",0,e],["l",-d,0],["z"]])},d.prototype.getConnectionPath=function(a){var b,c,d=a.waypoints,e=[];for(b=0;c=d[b];b++)c=c.original||c,e.push([0===b?"M":"L",c.x,c.y]);return h(e)},d.$inject=["eventBus","styles"],b.exports=d},{"../util/RenderUtil":199,"./BaseRenderer":167,inherits:206,"tiny-svg/lib/append":339,"tiny-svg/lib/attr":341,"tiny-svg/lib/create":343}],169:[function(a,b,c){"use strict";function d(){var a={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},b=this;this.cls=function(a,b,c){var d=this.style(b,c);return f(d,{class:a})},this.style=function(b,c){e(b)||c||(c=b,b=[]);var d=g(b,function(b,c){return f(b,a[c]||{})},{});return c?f(d,c):d},this.computeStyle=function(a,c,d){return e(c)||(d=c,c=[]),b.style(c||[],f({},d,a||{}))}}var e=a("lodash/lang/isArray"),f=a("lodash/object/assign"),g=a("lodash/collection/reduce");b.exports=d},{"lodash/collection/reduce":214,"lodash/lang/isArray":301,"lodash/object/assign":310}],170:[function(a,b,c){b.exports={__init__:["defaultRenderer"],defaultRenderer:["type",a("./DefaultRenderer")],styles:["type",a("./Styles")]}},{"./DefaultRenderer":168,"./Styles":169}],171:[function(a,b,c){"use strict";function d(a,b,c){function d(c,d,e){if(g(d)){var f,h;e?h=b.getGraphics(e):(f=d.delegateTarget||d.target)&&(h=f,e=b.get(h)),h&&e&&!1===a.fire(c,{element:e,gfx:h,originalEvent:d})&&(d.stopPropagation(),d.preventDefault())}}function l(a){var b=v[a];return b||(b=v[a]=function(b){d(a,b)}),b}function p(a,b,c){var e=w[a];if(!e)throw new Error("unmapped DOM event name <"+a+">");return d(e,b,c)}function q(a,b,c){var d=l(c);d.$delegate=f.bind(a,x,b,d)}function r(a,b,c){f.unbind(a,b,l(c).$delegate)}function s(a){e(w,function(b,c){q(a,c,b)})}function t(a){e(w,function(b,c){r(a,c,b)})}var u=c.cls("djs-hit",["no-fill","no-border"],{stroke:"white",strokeWidth:15}),v={},w={mouseover:"element.hover",mouseout:"element.out",click:"element.click",dblclick:"element.dblclick",mousedown:"element.mousedown",mouseup:"element.mouseup"},x="svg, .djs-element";a.on("canvas.destroy",function(a){t(a.svg)}),a.on("canvas.init",function(a){s(a.svg)}),a.on(["shape.added","connection.added"],function(a){var b,c=a.element,d=a.gfx;c.waypoints?b=m(c.waypoints):(b=j("rect"),i(b,{x:0,y:0,width:c.width,height:c.height})),i(b,u),h(d,b)}),a.on("shape.changed",o,function(a){var b=a.element,c=a.gfx,d=k(".djs-hit",c);i(d,{width:b.width,height:b.height})}),a.on("connection.changed",function(a){var b=a.element,c=a.gfx,d=k(".djs-hit",c);n(d,b.waypoints)}),this.fire=d,this.triggerMouseEvent=p,this.mouseHandler=l,this.registerEvent=q,this.unregisterEvent=r}var e=a("lodash/collection/forEach"),f=a("min-dom/lib/delegate"),g=a("../../util/Mouse").isPrimaryButton,h=a("tiny-svg/lib/append"),i=a("tiny-svg/lib/attr"),j=a("tiny-svg/lib/create"),k=a("min-dom/lib/query"),l=a("../../util/RenderUtil"),m=l.createLine,n=l.updateLine,o=500;d.$inject=["eventBus","elementRegistry","styles"],b.exports=d},{"../../util/Mouse":197,"../../util/RenderUtil":199,"lodash/collection/forEach":212,"min-dom/lib/delegate":323,"min-dom/lib/query":326,"tiny-svg/lib/append":339,"tiny-svg/lib/attr":341,"tiny-svg/lib/create":343}],172:[function(a,b,c){b.exports={__init__:["interactionEvents"],interactionEvents:["type",a("./InteractionEvents")]}},{"./InteractionEvents":171}],173:[function(a,b,c){"use strict";function d(a,b,c){function d(a,b){var c=i("rect");return h(c,k({x:10,y:10,width:100,height:100},e)),g(a,c),c}this.offset=6;var e=b.cls("djs-outline",["no-fill"]),l=this;a.on(["shape.added","shape.changed"],f,function(a){var b=a.element,c=a.gfx,e=j(".djs-outline",c);e||(e=d(c,b)),l.updateShapeOutline(e,b)}),a.on(["connection.added","connection.changed"],function(a){var b=a.element,c=a.gfx,e=j(".djs-outline",c);e||(e=d(c,b)),l.updateConnectionOutline(e,b)})}var e=a("../../util/Elements").getBBox,f=500,g=a("tiny-svg/lib/append"),h=a("tiny-svg/lib/attr"),i=a("tiny-svg/lib/create"),j=a("min-dom/lib/query"),k=a("lodash/object/assign");d.prototype.updateShapeOutline=function(a,b){h(a,{x:-this.offset,y:-this.offset,width:b.width+2*this.offset,height:b.height+2*this.offset})},d.prototype.updateConnectionOutline=function(a,b){var c=e(b);h(a,{x:c.x-this.offset,y:c.y-this.offset,width:c.width+2*this.offset,height:c.height+2*this.offset})},d.$inject=["eventBus","styles","elementRegistry"],b.exports=d},{"../../util/Elements":192,"lodash/object/assign":310,"min-dom/lib/query":326,"tiny-svg/lib/append":339,"tiny-svg/lib/attr":341,"tiny-svg/lib/create":343}],174:[function(a,b,c){"use strict";b.exports={__init__:["outline"],outline:["type",a("./Outline")]}},{"./Outline":173}],175:[function(a,b,c){"use strict";function d(a){var b=o('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />');return a.insertBefore(b,a.firstChild),b}function e(a,b,c){k(a.style,{left:b+"px",top:c+"px"})}function f(a,b){a.style.display=!1===b?"none":""}function g(a,b,c){this._eventBus=a,this._canvas=b,this._elementRegistry=c,this._ids=u,this._overlayDefaults={show:{minZoom:.7,maxZoom:5}},this._overlays={},this._overlayContainers=[],this._overlayRoot=d(b.getContainer()),this._init()}var h=a("lodash/lang/isArray"),i=a("lodash/lang/isString"),j=a("lodash/lang/isObject"),k=a("lodash/object/assign"),l=a("lodash/collection/forEach"),m=a("lodash/collection/find"),n=a("lodash/collection/filter"),o=a("min-dom/lib/domify"),p=a("min-dom/lib/classes"),q=a("min-dom/lib/attr"),r=a("min-dom/lib/remove"),s=a("min-dom/lib/clear"),t=a("../../util/Elements").getBBox,u=new(a("../../util/IdGenerator"))("ov");g.$inject=["eventBus","canvas","elementRegistry"],b.exports=g,g.prototype.get=function(a){if(i(a)&&(a={id:a}),i(a.element)&&(a.element=this._elementRegistry.get(a.element)),a.element){var b=this._getOverlayContainer(a.element,!0);return b?a.type?n(b.overlays,{type:a.type}):b.overlays.slice():[]}return a.type?n(this._overlays,{type:a.type}):a.id?this._overlays[a.id]:null},g.prototype.add=function(a,b,c){if(j(b)&&(c=b,b=null),a.id||(a=this._elementRegistry.get(a)),!c.position)throw new Error("must specifiy overlay position");if(!c.html)throw new Error("must specifiy overlay html");if(!a)throw new Error("invalid element specified");var d=this._ids.next();return c=k({},this._overlayDefaults,c,{id:d,type:b,element:a,html:c.html}),this._addOverlay(c),d},g.prototype.remove=function(a){var b=this.get(a)||[];h(b)||(b=[b]);var c=this;l(b,function(a){var b=c._getOverlayContainer(a.element,!0);if(a&&(r(a.html),r(a.htmlContainer),delete a.htmlContainer,delete a.element,delete c._overlays[a.id]),b){var d=b.overlays.indexOf(a);-1!==d&&b.overlays.splice(d,1)}})},g.prototype.show=function(){f(this._overlayRoot)},g.prototype.hide=function(){f(this._overlayRoot,!1)},g.prototype.clear=function(){this._overlays={},this._overlayContainers=[],s(this._overlayRoot)},g.prototype._updateOverlayContainer=function(a){var b=a.element,c=a.html,d=b.x,f=b.y;if(b.waypoints){var g=t(b);d=g.x,f=g.y}e(c,d,f),q(a.html,"data-container-id",b.id)},g.prototype._updateOverlay=function(a){var b=a.position,c=a.htmlContainer,d=a.element,f=b.left,g=b.top;if(void 0!==b.right){var h;h=d.waypoints?t(d).width:d.width,f=-1*b.right+h}if(void 0!==b.bottom){var i;i=d.waypoints?t(d).height:d.height,g=-1*b.bottom+i}e(c,f||0,g||0)},g.prototype._createOverlayContainer=function(a){var b=o('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(b);var c={html:b,element:a,overlays:[]};return this._updateOverlayContainer(c),this._overlayContainers.push(c),c},g.prototype._updateRoot=function(a){var b=a.scale||1,c=a.scale||1,d="matrix("+b+",0,0,"+c+","+-1*a.x*b+","+-1*a.y*c+")";this._overlayRoot.style.transform=d,this._overlayRoot.style["-ms-transform"]=d,this._overlayRoot.style["-webkit-transform"]=d},g.prototype._getOverlayContainer=function(a,b){var c=m(this._overlayContainers,function(b){return b.element===a});return c||b?c:this._createOverlayContainer(a)},g.prototype._addOverlay=function(a){var b,c,d=a.id,e=a.element,f=a.html;f.get&&(f=f.get(0)),i(f)&&(f=o(f)),c=this._getOverlayContainer(e),b=o('<div class="djs-overlay" data-overlay-id="'+d+'" style="position: absolute">'),b.appendChild(f),a.type&&p(b).add("djs-overlay-"+a.type),a.htmlContainer=b,c.overlays.push(a),c.html.appendChild(b),this._overlays[d]=a,this._updateOverlay(a),this._updateOverlayVisibilty(a,this._canvas.viewbox())},g.prototype._updateOverlayVisibilty=function(a,b){var c=a.show,d=a.htmlContainer,e=!0;c&&((c.minZoom>b.scale||c.maxZoom<b.scale)&&(e=!1),f(d,e))},g.prototype._updateOverlaysVisibilty=function(a){var b=this;l(this._overlays,function(c){b._updateOverlayVisibilty(c,a)})},g.prototype._init=function(){function a(a){c._updateRoot(a),c._updateOverlaysVisibilty(a),c.show()}var b=this._eventBus,c=this;b.on("canvas.viewbox.changing",function(a){c.hide()}),b.on("canvas.viewbox.changed",function(b){a(b.viewbox)}),b.on(["shape.remove","connection.remove"],function(a){var b=a.element,d=c.get({element:b});l(d,function(a){c.remove(a.id)});var e=c._getOverlayContainer(b);if(e){r(e.html);var f=c._overlayContainers.indexOf(e);-1!==f&&c._overlayContainers.splice(f,1)}}),b.on("element.changed",500,function(a){var b=a.element,d=c._getOverlayContainer(b,!0);d&&(l(d.overlays,function(a){c._updateOverlay(a)}),c._updateOverlayContainer(d))}),b.on("element.marker.update",function(a){var b=c._getOverlayContainer(a.element,!0);b&&p(b.html)[a.add?"add":"remove"](a.marker)}),b.on("diagram.clear",this.clear,this)}},{"../../util/Elements":192,"../../util/IdGenerator":195,"lodash/collection/filter":210,"lodash/collection/find":211,"lodash/collection/forEach":212,"lodash/lang/isArray":301,"lodash/lang/isObject":305,"lodash/lang/isString":307,"lodash/object/assign":310,"min-dom/lib/attr":319,"min-dom/lib/classes":320,"min-dom/lib/clear":321,"min-dom/lib/domify":324,"min-dom/lib/remove":327}],176:[function(a,b,c){b.exports={__init__:["overlays"],overlays:["type",a("./Overlays")]}},{"./Overlays":175}],177:[function(a,b,c){"use strict";function d(a){this._eventBus=a,this._selectedElements=[];var b=this;a.on(["shape.remove","connection.remove"],function(a){var c=a.element;b.deselect(c)}),a.on(["diagram.clear"],function(a){b.select(null)})}var e=a("lodash/lang/isArray"),f=a("lodash/collection/forEach");d.$inject=["eventBus"],b.exports=d,d.prototype.deselect=function(a){var b=this._selectedElements,c=b.indexOf(a);if(-1!==c){var d=b.slice();b.splice(c,1),this._eventBus.fire("selection.changed",{oldSelection:d,newSelection:b})}},d.prototype.get=function(){return this._selectedElements},d.prototype.isSelected=function(a){return-1!==this._selectedElements.indexOf(a)},d.prototype.select=function(a,b){var c=this._selectedElements,d=c.slice();e(a)||(a=a?[a]:[]),b?f(a,function(a){-1===c.indexOf(a)&&c.push(a)}):this._selectedElements=c=a.slice(),this._eventBus.fire("selection.changed",{oldSelection:d,newSelection:c})}},{"lodash/collection/forEach":212,"lodash/lang/isArray":301}],178:[function(a,b,c){"use strict";function d(a,b,c,d){a.on("create.end",500,function(a){a.context.canExecute&&b.select(a.context.shape)}),a.on("connect.end",500,function(a){a.context.canExecute&&a.context.target&&b.select(a.context.target)}),a.on("shape.move.end",500,function(a){var c=a.previousSelection||[],e=d.get(a.context.shape.id);f(c,function(a){return e.id===a.id})||b.select(e)}),a.on("element.click",function(a){var d=a.element;d===c.getRootElement()&&(d=null);var f=b.isSelected(d),g=b.get().length>1,h=e(a);if(f&&g)return h?b.deselect(d):b.select(d);f?b.deselect(d):b.select(d,h)})}var e=a("../../util/Mouse").hasPrimaryModifier,f=a("lodash/collection/find");d.$inject=["eventBus","selection","canvas","elementRegistry"],b.exports=d},{"../../util/Mouse":197,"lodash/collection/find":211}],179:[function(a,b,c){"use strict";function d(a,b,c,d){function h(a,c){b.addMarker(a,c)}function i(a,c){b.removeMarker(a,c)}this._multiSelectionBox=null,a.on("element.hover",function(a){h(a.element,f)}),a.on("element.out",function(a){i(a.element,f)}),a.on("selection.changed",function(a){function b(a){i(a,g)}function c(a){h(a,g)}var d=a.oldSelection,f=a.newSelection;e(d,function(a){-1===f.indexOf(a)&&b(a)}),e(f,function(a){-1===d.indexOf(a)&&c(a)})})}var e=a("lodash/collection/forEach"),f="hover",g="selected"
;d.$inject=["eventBus","canvas","selection","styles"],b.exports=d},{"lodash/collection/forEach":212}],180:[function(a,b,c){b.exports={__init__:["selectionVisuals","selectionBehavior"],__depends__:[a("../interaction-events"),a("../outline")],selection:["type",a("./Selection")],selectionVisuals:["type",a("./SelectionVisuals")],selectionBehavior:["type",a("./SelectionBehavior")]}},{"../interaction-events":172,"../outline":174,"./Selection":177,"./SelectionBehavior":178,"./SelectionVisuals":179}],181:[function(a,b,c){b.exports={translate:["value",a("./translate")]}},{"./translate":182}],182:[function(a,b,c){"use strict";b.exports=function(a,b){return b=b||{},a.replace(/{([^}]+)}/g,function(a,c){return b[c]||"{"+c+"}"})}},{}],183:[function(a,b,c){"use strict";function d(){Object.defineProperty(this,"businessObject",{writable:!0}),l.bind(this,"parent"),m.bind(this,"label"),o.bind(this,"outgoing"),p.bind(this,"incoming")}function e(){d.call(this),l.bind(this,"children"),n.bind(this,"host"),n.bind(this,"attachers")}function f(){e.call(this)}function g(){e.call(this),m.bind(this,"labelTarget")}function h(){d.call(this),o.bind(this,"source"),p.bind(this,"target")}var i=a("lodash/object/assign"),j=a("inherits"),k=a("object-refs"),l=new k({name:"children",enumerable:!0,collection:!0},{name:"parent"}),m=new k({name:"label",enumerable:!0},{name:"labelTarget"}),n=new k({name:"attachers",collection:!0},{name:"host"}),o=new k({name:"outgoing",collection:!0},{name:"source"}),p=new k({name:"incoming",collection:!0},{name:"target"});j(e,d),j(f,e),j(g,e),j(h,d);var q={connection:h,shape:e,label:g,root:f};b.exports.create=function(a,b){var c=q[a];if(!c)throw new Error("unknown type: <"+a+">");return i(new c,b)},b.exports.Base=d,b.exports.Root=f,b.exports.Shape=e,b.exports.Connection=h,b.exports.Label=g},{inherits:206,"lodash/object/assign":310,"object-refs":336}],184:[function(a,b,c){"use strict";function d(a){return Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2))}function e(a,b){function c(a){var c=n.start,e=k.toPoint(a),i=h(e,c);if(!n.dragging&&d(i)>l&&(n.dragging=!0,g.install(),f.set("grab")),n.dragging){var j=n.last||n.start;i=h(e,j),b.scroll({dx:i.x,dy:i.y}),n.last=e}a.preventDefault()}function e(a){i.unbind(document,"mousemove",c),i.unbind(document,"mouseup",e),n=null,f.unset()}function m(a){j(a.target,".djs-draggable")||a.button||a.ctrlKey||a.shiftKey||a.altKey||(n={start:k.toPoint(a)},i.bind(document,"mousemove",c),i.bind(document,"mouseup",e))}var n,o=b._container;i.bind(o,"mousedown",m)}var f=a("../../util/Cursor"),g=a("../../util/ClickTrap"),h=a("../../util/Math").substract,i=a("min-dom/lib/event"),j=a("min-dom/lib/closest"),k=a("../../util/Event"),l=15;e.$inject=["eventBus","canvas"],b.exports=e},{"../../util/ClickTrap":189,"../../util/Cursor":191,"../../util/Event":193,"../../util/Math":196,"min-dom/lib/closest":322,"min-dom/lib/event":325}],185:[function(a,b,c){b.exports={__init__:["moveCanvas"],moveCanvas:["type",a("./MoveCanvas")]}},{"./MoveCanvas":184}],186:[function(a,b,c){"use strict";function d(a,b,c){this._enabled=!1,this._canvas=b,this._container=b._container,this._handleWheel=m(this._handleWheel,this);var d=!c||!1!==c.enabled,e=this;a.on("canvas.init",function(a){e._init(d)})}var e=a("min-dom/lib/event"),f=a("min-dom/lib/closest"),g=a("../../util/Mouse").hasPrimaryModifier,h=a("../../util/Mouse").hasSecondaryModifier,i=a("../../util/Platform").isMac,j=a("./ZoomUtil").getStepRange,k=a("./ZoomUtil").cap,l=a("../../util/Math").log10,m=a("lodash/function/bind"),n={min:.2,max:4};d.$inject=["eventBus","canvas","config.zoomScroll"],b.exports=d,d.prototype.scroll=function(a){this._canvas.scroll(a)},d.prototype.reset=function(){this._canvas.zoom("fit-viewport")},d.prototype.zoom=function(a,b){var c=this._canvas,d=c.zoom(!1),e=Math.pow(1+Math.abs(a),a>0?1:-1);c.zoom(k(n,d*e),b)},d.prototype._handleWheel=function(a){if(!f(a.target,".djs-scrollable",!0)){var b=this._container;a.preventDefault();var c,d=g(a),e=h(a);if(d||e){c=i?0===a.deltaMode?1.25:50:0===a.deltaMode?.025:.5;var j={};e?j.dx=c*(a.deltaX||a.deltaY):j.dy=c*a.deltaY,this.scroll(j)}else{c=0===a.deltaMode?.025:.5;var k=b.getBoundingClientRect(),l={x:a.clientX-k.left,y:a.clientY-k.top};this.zoom(a.deltaY*c/-5,l)}}},d.prototype.stepZoom=function(a,b){var c=this._canvas,d=j(n,10);a=a>0?1:-1;var e=l(c.zoom()),f=Math.round(e/d)*d;f+=d*a;var g=Math.pow(10,f);c.zoom(k(n,g),b)},d.prototype.toggle=function(a){var b=this._container,c=this._handleWheel,d=this._enabled;return void 0===a&&(a=!d),d!==a&&e[a?"bind":"unbind"](b,"wheel",c,!1),this._enabled=a,a},d.prototype._init=function(a){this.toggle(a)}},{"../../util/Math":196,"../../util/Mouse":197,"../../util/Platform":198,"./ZoomUtil":187,"lodash/function/bind":216,"min-dom/lib/closest":322,"min-dom/lib/event":325}],187:[function(a,b,c){"use strict";var d=a("../../util/Math").log10;b.exports.getStepRange=function(a,b){var c=d(a.min),e=d(a.max);return(Math.abs(c)+Math.abs(e))/b},b.exports.cap=function(a,b){return Math.max(a.min,Math.min(a.max,b))}},{"../../util/Math":196}],188:[function(a,b,c){b.exports={__init__:["zoomScroll"],zoomScroll:["type",a("./ZoomScroll")]}},{"./ZoomScroll":186}],189:[function(a,b,c){"use strict";function d(a){h(a),e(!1)}function e(a){g[a?"bind":"unbind"](document.body,"click",d,!0)}function f(){return e(!0),function(){e(!1)}}var g=a("min-dom/lib/event"),h=a("./Event").stopEvent;b.exports.install=f},{"./Event":193,"min-dom/lib/event":325}],190:[function(a,b,c){"use strict";b.exports.remove=function(a,b){if(!a||!b)return-1;var c=a.indexOf(b);return-1!==c&&a.splice(c,1),c},b.exports.add=function(a,b,c){if(a&&b){"number"!=typeof c&&(c=-1);var d=a.indexOf(b);if(-1!==d){if(d===c)return;if(-1===c)return;a.splice(d,1)}-1!==c?a.splice(c,0,b):a.push(b)}},b.exports.indexOf=function(a,b){return a&&b?a.indexOf(b):-1}},{}],191:[function(a,b,c){"use strict";var d=a("min-dom/lib/classes"),e=/^djs-cursor-.*$/;b.exports.set=function(a){var b=d(document.body);b.removeMatching(e),a&&b.add("djs-cursor-"+a)},b.exports.unset=function(){this.set(null)},b.exports.has=function(a){return d(document.body).has("djs-cursor-"+a)}},{"min-dom/lib/classes":320}],192:[function(a,b,c){"use strict";function d(a,b,c){var d=!c||-1===a.indexOf(b);return d&&a.push(b),d}function e(a,b,c){c=c||0,m(a)||(a=[a]),p(a,function(a,d){var f=b(a,d,c);m(f)&&f.length&&e(f,b,c+1)})}function f(a,b,c){var f=[],g=[];return e(a,function(a,e,h){d(f,a,b);var i=a.children;if((-1===c||h<c)&&i&&d(g,i,b))return i}),f}function g(a,b){return f(a,!b,1)}function h(a,b){return f(a,!b,-1)}function i(a){function b(a){d[a.source.id]&&d[a.target.id]&&(d[a.id]=a),f[a.source.id]&&f[a.target.id]&&(i[a.id]=h[a.id]=a),g[a.id]=a}function c(a){if(h[a.id]=a,!a.waypoints)return f[a.id]=a,p(a.incoming,b),p(a.outgoing,b),a.children;i[a.id]=g[a.id]=a}var d=o(a,function(a){return a.id}),f={},g={},h={},i={};return e(a,c),{allShapes:f,allConnections:g,topLevel:d,enclosedConnections:i,enclosedElements:h}}function j(a,b){b=!!b,m(a)||(a=[a]);var c,d,e,f;return p(a,function(a){var g=a;a.waypoints&&!b&&(g=j(a.waypoints,!0));var h=g.x,i=g.y,k=g.height||0,l=g.width||0;(h<c||void 0===c)&&(c=h),(i<d||void 0===d)&&(d=i),(h+l>e||void 0===e)&&(e=h+l),(i+k>f||void 0===f)&&(f=i+k)}),{x:c,y:d,height:f-d,width:e-c}}function k(a,b){var c={};return p(a,function(a){var d=a;d.waypoints&&(d=j(d)),!n(b.y)&&d.x>b.x&&(c[a.id]=a),!n(b.x)&&d.y>b.y&&(c[a.id]=a),d.x>b.x&&d.y>b.y&&(n(b.width)&&n(b.height)&&d.width+d.x<b.width+b.x&&d.height+d.y<b.height+b.y?c[a.id]=a:n(b.width)&&n(b.height)||(c[a.id]=a))}),c}function l(a){return"waypoints"in a?"connection":"x"in a?"shape":"root"}var m=a("lodash/lang/isArray"),n=a("lodash/lang/isNumber"),o=a("lodash/collection/groupBy"),p=a("lodash/collection/forEach");b.exports.add=d,b.exports.eachElement=e,b.exports.selfAndDirectChildren=g,b.exports.selfAndAllChildren=h,b.exports.getBBox=j,b.exports.getEnclosedElements=k,b.exports.getClosure=i,b.exports.getType=l},{"lodash/collection/forEach":212,"lodash/collection/groupBy":213,"lodash/lang/isArray":301,"lodash/lang/isNumber":304}],193:[function(a,b,c){"use strict";function d(a){return a&&a.preventDefault()}function e(a,b){a&&(a.stopPropagation&&a.stopPropagation(),b&&a.stopImmediatePropagation&&a.stopImmediatePropagation())}function f(a){return a.originalEvent||a.srcEvent}function g(a,b){i(a,b),h(a)}function h(a){d(a),d(f(a))}function i(a,b){e(a,b),e(f(a),b)}function j(a){return a.pointers&&a.pointers.length&&(a=a.pointers[0]),a.touches&&a.touches.length&&(a=a.touches[0]),a?{x:a.clientX,y:a.clientY}:null}b.exports.getOriginal=f,b.exports.stopEvent=g,b.exports.preventDefault=h,b.exports.stopPropagation=i,b.exports.toPoint=j},{}],194:[function(a,b,c){"use strict";function d(a){return f(".djs-visual",a)}function e(a){return a.parentNode.childNodes[1]}var f=a("min-dom/lib/query");b.exports.getVisual=d,b.exports.getChildren=e},{"min-dom/lib/query":326}],195:[function(a,b,c){"use strict";function d(a){this._counter=0,this._prefix=(a?a+"-":"")+Math.floor(1e9*Math.random())+"-"}b.exports=d,d.prototype.next=function(){return this._prefix+ ++this._counter}},{}],196:[function(a,b,c){"use strict";function d(a){return Math.log(a)/Math.log(10)}function e(a,b){return{x:a.x-b.x,y:a.y-b.y}}b.exports.log10=d,b.exports.substract=e},{}],197:[function(a,b,c){"use strict";function d(a){return!(e(a)||a).button}var e=a("./Event").getOriginal,f=a("./Platform").isMac;b.exports.isPrimaryButton=d,b.exports.isMac=f,b.exports.hasPrimaryModifier=function(a){var b=e(a)||a;return!!d(a)&&(f()?b.metaKey:b.ctrlKey)},b.exports.hasSecondaryModifier=function(a){var b=e(a)||a;return d(a)&&b.shiftKey}},{"./Event":193,"./Platform":198}],198:[function(a,b,c){"use strict";b.exports.isMac=function(){return/mac/i.test(navigator.platform)}},{}],199:[function(a,b,c){"use strict";function d(a){for(var b,c="",d=0;b=a[d];d++)c+=b.x+","+b.y+" ";return c}var e=a("tiny-svg/lib/attr"),f=a("tiny-svg/lib/create");b.exports.componentsToPath=function(a){return a.join(",").replace(/,?([A-z]),?/g,"$1")},b.exports.toSVGPoints=d,b.exports.createLine=function(a,b){var c=f("polyline");return e(c,{points:d(a)}),b&&e(c,b),c},b.exports.updateLine=function(a,b){return e(a,{points:d(b)}),a}},{"tiny-svg/lib/attr":341,"tiny-svg/lib/create":343}],200:[function(a,b,c){"use strict";var d=a("tiny-svg/lib/transform"),e=a("tiny-svg/lib/geometry").createTransform;b.exports.transform=function(a,b,c,f,g){var h=e();h.setTranslate(b,c);var i=e();i.setRotate(f,0,0);var j=e();j.setScale(g||1,g||1),d(a,[h,i,j])},b.exports.translate=function(a,b,c){var f=e();f.setTranslate(b,c),d(a,f)},b.exports.rotate=function(a,b){var c=e();c.setRotate(b,0,0),d(a,c)},b.exports.scale=function(a,b){var c=e();c.setScale(b,b),d(a,c)}},{"tiny-svg/lib/geometry":344,"tiny-svg/lib/transform":346}],201:[function(a,b,c){"use strict";function d(a){var b=a.split("-");return{horizontal:b[0]||"center",vertical:b[1]||"top"}}function e(a){return l(a)?m({top:0,left:0,right:0,bottom:0},a):{top:a,left:a,right:a,bottom:a}}function f(a,b){b.textContent=a;try{var c,d=""===a;return b.textContent=d?"dummy":a,c=n(b.getBBox(),["width","height"]),d&&(c.width=0),c}catch(e){return{width:0,height:0}}}function g(a,b,c){for(var d,e=a.shift(),g=e;;){if(d=f(g,c),d.width=g?d.width:0," "===g||""===g||d.width<Math.round(b)||g.length<4)return h(a,g,e,d);g=j(g,d.width,b)}}function h(a,b,c,d){if(b.length<c.length){var e=a[0]||"",f=c.slice(b.length).trim();e=/-\s*$/.test(f)?f+e.replace(/^\s+/,""):f+" "+e,a[0]=e}return{width:d.width,height:d.height,text:b}}function i(a,b){var c,d=a.split(/(\s|-)/g),e=[],f=0;if(d.length>1)for(;c=d.shift();){if(!(c.length+f<b)){"-"===c&&e.pop();break}e.push(c),f+=c.length}return e.join("")}function j(a,b,c){var d=Math.max(a.length*(c/b),1),e=i(a,d);return e||(e=a.slice(0,Math.max(Math.round(d-1),1))),e}function k(a){this._config=m({},{size:w,padding:v,style:{},align:"center-top"},a||{})}var l=a("lodash/lang/isObject"),m=a("lodash/object/assign"),n=a("lodash/object/pick"),o=a("lodash/collection/forEach"),p=a("lodash/collection/reduce"),q=a("lodash/object/merge"),r=a("tiny-svg/lib/append"),s=a("tiny-svg/lib/attr"),t=a("tiny-svg/lib/create"),u=a("tiny-svg/lib/remove"),v=0,w={width:150,height:50};k.prototype.createText=function(a,b,c){var f=q({},this._config.size,c.box||{}),h=q({},this._config.style,c.style||{}),i=d(c.align||this._config.align),j=e(void 0!==c.padding?c.padding:this._config.padding),k=b.split(/\r?\n/g),l=[],m=f.width-j.left-j.right,n=t("text");for(s(n,{x:0,y:0}),s(n,h),r(a,n);k.length;)l.push(g(k,m,n));var v,w,x=p(l,function(a,b,c){return a+b.height},0);switch(i.vertical){case"middle":v=(f.height-x)/2-l[0].height/4;break;default:v=j.top}var y=t("text");return s(y,h),r(a,y),o(l,function(a){switch(v+=a.height,i.horizontal){case"left":w=j.left;break;case"right":w=m-j.right-a.width;break;default:w=Math.max((m-a.width)/2+j.left,0)}var b=t("tspan");s(b,{x:w,y:v}),b.textContent=a.text,r(y,b)}),u(n),y},b.exports=k},{"lodash/collection/forEach":212,"lodash/collection/reduce":214,"lodash/lang/isObject":305,"lodash/object/assign":310,"lodash/object/merge":313,"lodash/object/pick":315,"tiny-svg/lib/append":339,"tiny-svg/lib/attr":341,"tiny-svg/lib/create":343,"tiny-svg/lib/remove":345}],202:[function(a,b,c){var d=function(a){return"[object Array]"===Object.prototype.toString.call(a)},e=function(){var a=Array.prototype.slice.call(arguments);1===a.length&&d(a[0])&&(a=a[0]);var b=a.pop();return b.$inject=a,b},f=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,g=/\/\*([^\*]*)\*\//m,h=function(a){if("function"!=typeof a)throw new Error('Cannot annotate "'+a+'". Expected a function!');var b=a.toString().match(f);return b[1]&&b[1].split(",").map(function(a){return b=a.match(g),b?b[1].trim():a.trim()})||[]};c.annotate=e,c.parse=h,c.isArray=d},{}],203:[function(a,b,c){b.exports={annotate:a("./annotation").annotate,Module:a("./module"),Injector:a("./injector")}},{"./annotation":202,"./injector":204,"./module":205}],204:[function(a,b,c){var d=a("./module"),e=a("./annotation").parse,f=a("./annotation").annotate,g=a("./annotation").isArray,h=function(a,b){b=b||{get:function(a,b){if(c.push(a),!1===b)return null;throw l('No provider for "'+a+'"!')}};var c=[],i=this._providers=Object.create(b._providers||null),j=this._instances=Object.create(null),k=j.injector=this,l=function(a){var b=c.join(" -> ");return c.length=0,new Error(b?a+" (Resolving: "+b+")":a)},m=function(a,d){if(!i[a]&&-1!==a.indexOf(".")){for(var e=a.split("."),f=m(e.shift());e.length;)f=f[e.shift()];return f}if(Object.hasOwnProperty.call(j,a))return j[a];if(Object.hasOwnProperty.call(i,a)){if(-1!==c.indexOf(a))throw c.push(a),l("Cannot resolve circular dependency!");return c.push(a),j[a]=i[a][0](i[a][1]),c.pop(),j[a]}return b.get(a,d)},n=function(a){var b=Object.create(a.prototype),c=o(a,b);return"object"==typeof c?c:b},o=function(a,b){if("function"!=typeof a){if(!g(a))throw new Error('Cannot invoke "'+a+'". Expected a function!');a=f(a.slice())}var c=a.$inject&&a.$inject||e(a),d=c.map(function(a){return m(a)});return a.apply(b,d)},p=function(a){return f(function(b){return a.get(b)})},q=function(a,b){if(b&&b.length){var c,d,e,f,g=Object.create(null),j=Object.create(null),l=[],m=[],n=[];for(var o in i)c=i[o],-1!==b.indexOf(o)&&("private"===c[2]?(d=l.indexOf(c[3]),-1===d?(e=c[3].createChild([],b),f=p(e),l.push(c[3]),m.push(e),n.push(f),g[o]=[f,o,"private",e]):g[o]=[n[d],o,"private",m[d]]):g[o]=[c[2],c[1]],j[o]=!0),"factory"!==c[2]&&"type"!==c[2]||!c[1].$scope||b.forEach(function(a){-1!==c[1].$scope.indexOf(a)&&(g[o]=[c[2],c[1]],j[a]=!0)});b.forEach(function(a){if(!j[a])throw new Error('No provider for "'+a+'". Cannot use provider from the parent!')}),a.unshift(g)}return new h(a,k)},r={factory:o,type:n,value:function(a){return a}};a.forEach(function(a){function b(a,b){return"value"!==a&&g(b)&&(b=f(b.slice())),b}if(a instanceof d)a.forEach(function(a){var c=a[0],d=a[1],e=a[2];i[c]=[r[d],b(d,e),d]});else if("object"==typeof a)if(a.__exports__){var c=Object.keys(a).reduce(function(b,c){return"__"!==c.substring(0,2)&&(b[c]=a[c]),b},Object.create(null)),e=new h((a.__modules__||[]).concat([c]),k),j=f(function(a){return e.get(a)});a.__exports__.forEach(function(a){i[a]=[j,a,"private",e]})}else Object.keys(a).forEach(function(c){if("private"===a[c][2])return void(i[c]=a[c]);var d=a[c][0],e=a[c][1];i[c]=[r[d],b(d,e),d]})}),this.get=m,this.invoke=o,this.instantiate=n,this.createChild=q};b.exports=h},{"./annotation":202,"./module":205}],205:[function(a,b,c){var d=function(){var a=[];this.factory=function(b,c){return a.push([b,"factory",c]),this},this.value=function(b,c){return a.push([b,"value",c]),this},this.type=function(b,c){return a.push([b,"type",c]),this},this.forEach=function(b){a.forEach(b)}};b.exports=d},{}],206:[function(a,b,c){arguments[4][37][0].apply(c,arguments)},{dup:37}],207:[function(a,b,c){arguments[4][38][0].apply(c,arguments)},{dup:38}],208:[function(a,b,c){function d(a){if(i(a)&&!h(a)&&!(a instanceof e)){if(a instanceof f)return a;if(l.call(a,"__chain__")&&l.call(a,"__wrapped__"))return j(a)}return new f(a)}var e=a("../internal/LazyWrapper"),f=a("../internal/LodashWrapper"),g=a("../internal/baseLodash"),h=a("../lang/isArray"),i=a("../internal/isObjectLike"),j=a("../internal/wrapperClone"),k=Object.prototype,l=k.hasOwnProperty;d.prototype=g.prototype,b.exports=d},{"../internal/LazyWrapper":219,"../internal/LodashWrapper":220,"../internal/baseLodash":246,"../internal/isObjectLike":286,"../internal/wrapperClone":299,"../lang/isArray":301}],209:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{"../internal/arrayEvery":223,"../internal/baseCallback":230,"../internal/baseEvery":234,"../internal/isIterateeCall":282,"../lang/isArray":301,dup:39}],210:[function(a,b,c){arguments[4][40][0].apply(c,arguments)},{"../internal/arrayFilter":224,"../internal/baseCallback":230,"../internal/baseFilter":235,"../lang/isArray":301,dup:40}],211:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{"../internal/baseEach":233,"../internal/createFind":266,dup:41}],212:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{"../internal/arrayEach":222,"../internal/baseEach":233,"../internal/createForEach":267,dup:42}],213:[function(a,b,c){var d=a("../internal/createAggregator"),e=Object.prototype,f=e.hasOwnProperty,g=d(function(a,b,c){f.call(a,c)?a[c].push(b):a[c]=[b]});b.exports=g},{"../internal/createAggregator":260}],214:[function(a,b,c){arguments[4][45][0].apply(c,arguments)},{"../internal/arrayReduce":226,"../internal/baseEach":233,"../internal/createReduce":270,dup:45}],215:[function(a,b,c){var d=a("../internal/getNative"),e=d(Date,"now"),f=e||function(){return(new Date).getTime()};b.exports=f},{"../internal/getNative":279}],216:[function(a,b,c){var d=a("../internal/createWrapper"),e=a("../internal/replaceHolders"),f=a("./restParam"),g=1,h=32,i=f(function(a,b,c){var f=g;if(c.length){var j=e(c,i.placeholder);f|=h}return d(a,f,b,c,j)});i.placeholder={},b.exports=i},{"../internal/createWrapper":271,"../internal/replaceHolders":294,"./restParam":218}],217:[function(a,b,c){function d(a,b,c){function d(){r&&clearTimeout(r),n&&clearTimeout(n),t=0,n=r=s=void 0}function i(b,c){c&&clearTimeout(c),n=r=s=void 0,b&&(t=f(),o=a.apply(q,m),r||n||(m=q=void 0))}function j(){var a=b-(f()-p);a<=0||a>b?i(s,n):r=setTimeout(j,a)}function k(){i(v,r)}function l(){if(m=arguments,p=f(),q=this,s=v&&(r||!w),!1===u)var c=w&&!r;else{n||w||(t=p);var d=u-(p-t),e=d<=0||d>u;e?(n&&(n=clearTimeout(n)),t=p,o=a.apply(q,m)):n||(n=setTimeout(k,d))}return e&&r?r=clearTimeout(r):r||b===u||(r=setTimeout(j,b)),c&&(e=!0,o=a.apply(q,m)),!e||r||n||(m=q=void 0),o}var m,n,o,p,q,r,s,t=0,u=!1,v=!0;if("function"!=typeof a)throw new TypeError(g);if(b=b<0?0:+b||0,!0===c){var w=!0;v=!1}else e(c)&&(w=!!c.leading,u="maxWait"in c&&h(+c.maxWait||0,b),v="trailing"in c?!!c.trailing:v);return l.cancel=d,l}var e=a("../lang/isObject"),f=a("../date/now"),g="Expected a function",h=Math.max;b.exports=d},{"../date/now":215,"../lang/isObject":305}],218:[function(a,b,c){arguments[4][48][0].apply(c,arguments)},{dup:48}],219:[function(a,b,c){function d(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}var e=a("./baseCreate"),f=a("./baseLodash"),g=Number.POSITIVE_INFINITY;d.prototype=e(f.prototype),d.prototype.constructor=d,b.exports=d},{"./baseCreate":232,"./baseLodash":246}],220:[function(a,b,c){function d(a,b,c){this.__wrapped__=a,this.__actions__=c||[],this.__chain__=!!b}var e=a("./baseCreate"),f=a("./baseLodash");d.prototype=e(f.prototype),d.prototype.constructor=d,b.exports=d},{"./baseCreate":232,"./baseLodash":246}],221:[function(a,b,c){function d(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}b.exports=d},{}],222:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{dup:50}],223:[function(a,b,c){arguments[4][51][0].apply(c,arguments)},{dup:51}],224:[function(a,b,c){arguments[4][52][0].apply(c,arguments)},{dup:52}],225:[function(a,b,c){arguments[4][54][0].apply(c,arguments)},{dup:54}],226:[function(a,b,c){arguments[4][55][0].apply(c,arguments)},{dup:55}],227:[function(a,b,c){arguments[4][56][0].apply(c,arguments)},{dup:56}],228:[function(a,b,c){arguments[4][57][0].apply(c,arguments)},{"../object/keys":311,dup:57}],229:[function(a,b,c){arguments[4][58][0].apply(c,arguments)},{"../object/keys":311,"./baseCopy":231,dup:58}],230:[function(a,b,c){arguments[4][59][0].apply(c,arguments)},{"../utility/identity":316,"../utility/property":318,"./baseMatches":247,"./baseMatchesProperty":248,"./bindCallback":257,dup:59}],231:[function(a,b,c){arguments[4][60][0].apply(c,arguments)},{dup:60}],232:[function(a,b,c){var d=a("../lang/isObject"),e=function(){function a(){}return function(b){if(d(b)){a.prototype=b;var c=new a;a.prototype=void 0}return c||{}}}();b.exports=e},{"../lang/isObject":305}],233:[function(a,b,c){arguments[4][63][0].apply(c,arguments)},{"./baseForOwn":241,"./createBaseEach":262,dup:63}],234:[function(a,b,c){arguments[4][64][0].apply(c,arguments)},{"./baseEach":233,dup:64}],235:[function(a,b,c){arguments[4][65][0].apply(c,arguments)},{"./baseEach":233,dup:65}],236:[function(a,b,c){arguments[4][66][0].apply(c,arguments)},{dup:66}],237:[function(a,b,c){arguments[4][67][0].apply(c,arguments)},{dup:67}],238:[function(a,b,c){arguments[4][68][0].apply(c,arguments)},{"../lang/isArguments":300,"../lang/isArray":301,"./arrayPush":225,"./isArrayLike":280,"./isObjectLike":286,dup:68}],239:[function(a,b,c){arguments[4][69][0].apply(c,arguments)},{"./createBaseFor":263,dup:69}],240:[function(a,b,c){arguments[4][70][0].apply(c,arguments)},{"../object/keysIn":312,"./baseFor":239,dup:70}],241:[function(a,b,c){arguments[4][71][0].apply(c,arguments)},{"../object/keys":311,"./baseFor":239,dup:71}],242:[function(a,b,c){arguments[4][72][0].apply(c,arguments)},{"./toObject":297,dup:72}],243:[function(a,b,c){arguments[4][74][0].apply(c,arguments)},{"../lang/isObject":305,"./baseIsEqualDeep":244,"./isObjectLike":286,dup:74}],244:[function(a,b,c){arguments[4][75][0].apply(c,arguments)},{"../lang/isArray":301,"../lang/isTypedArray":308,"./equalArrays":272,"./equalByTag":273,"./equalObjects":274,dup:75}],245:[function(a,b,c){arguments[4][76][0].apply(c,arguments)},{"./baseIsEqual":243,"./toObject":297,dup:76}],246:[function(a,b,c){function d(){}b.exports=d},{}],247:[function(a,b,c){arguments[4][78][0].apply(c,arguments)},{"./baseIsMatch":245,"./getMatchData":278,"./toObject":297,dup:78}],248:[function(a,b,c){arguments[4][79][0].apply(c,arguments)},{"../array/last":207,"../lang/isArray":301,"./baseGet":242,"./baseIsEqual":243,"./baseSlice":255,"./isKey":283,"./isStrictComparable":287,"./toObject":297,"./toPath":298,dup:79}],249:[function(a,b,c){function d(a,b,c,m,n){if(!i(a))return a;var o=h(b)&&(g(b)||k(b)),p=o?void 0:l(b);return e(p||b,function(e,g){if(p&&(g=e,e=b[g]),j(e))m||(m=[]),n||(n=[]),f(a,b,g,d,c,m,n);else{var h=a[g],i=c?c(h,e,g,a,b):void 0,k=void 0===i;k&&(i=e),void 0===i&&(!o||g in a)||!k&&(i===i?i===h:h!==h)||(a[g]=i)}}),a}var e=a("./arrayEach"),f=a("./baseMergeDeep"),g=a("../lang/isArray"),h=a("./isArrayLike"),i=a("../lang/isObject"),j=a("./isObjectLike"),k=a("../lang/isTypedArray"),l=a("../object/keys");b.exports=d},{"../lang/isArray":301,"../lang/isObject":305,"../lang/isTypedArray":308,"../object/keys":311,"./arrayEach":222,"./baseMergeDeep":250,"./isArrayLike":280,"./isObjectLike":286}],250:[function(a,b,c){function d(a,b,c,d,l,m,n){for(var o=m.length,p=b[c];o--;)if(m[o]==p)return void(a[c]=n[o]);var q=a[c],r=l?l(q,p,c,a,b):void 0,s=void 0===r;s&&(r=p,h(p)&&(g(p)||j(p))?r=g(q)?q:h(q)?e(q):[]:i(p)||f(p)?r=f(q)?k(q):i(q)?q:{}:s=!1),m.push(p),n.push(r),s?a[c]=d(r,p,l,m,n):(r===r?r!==q:q===q)&&(a[c]=r)}var e=a("./arrayCopy"),f=a("../lang/isArguments"),g=a("../lang/isArray"),h=a("./isArrayLike"),i=a("../lang/isPlainObject"),j=a("../lang/isTypedArray"),k=a("../lang/toPlainObject");b.exports=d},{"../lang/isArguments":300,"../lang/isArray":301,"../lang/isPlainObject":306,"../lang/isTypedArray":308,"../lang/toPlainObject":309,"./arrayCopy":221,"./isArrayLike":280}],251:[function(a,b,c){arguments[4][80][0].apply(c,arguments)},{dup:80}],252:[function(a,b,c){arguments[4][81][0].apply(c,arguments)},{"./baseGet":242,"./toPath":298,dup:81}],253:[function(a,b,c){arguments[4][82][0].apply(c,arguments)},{dup:82}],254:[function(a,b,c){var d=a("../utility/identity"),e=a("./metaMap"),f=e?function(a,b){return e.set(a,b),a}:d;b.exports=f},{"../utility/identity":316,"./metaMap":289}],255:[function(a,b,c){arguments[4][83][0].apply(c,arguments)},{dup:83}],256:[function(a,b,c){arguments[4][85][0].apply(c,arguments)},{dup:85}],257:[function(a,b,c){arguments[4][87][0].apply(c,arguments)},{"../utility/identity":316,dup:87}],258:[function(a,b,c){function d(a,b,c){for(var d=c.length,f=-1,g=e(a.length-d,0),h=-1,i=b.length,j=Array(i+g);++h<i;)j[h]=b[h];for(;++f<d;)j[c[f]]=a[f];for(;g--;)j[h++]=a[f++];return j}var e=Math.max;b.exports=d},{}],259:[function(a,b,c){function d(a,b,c){for(var d=-1,f=c.length,g=-1,h=e(a.length-f,0),i=-1,j=b.length,k=Array(h+j);++g<h;)k[g]=a[g];for(var l=g;++i<j;)k[l+i]=b[i];for(;++d<f;)k[l+c[d]]=a[g++];return k}var e=Math.max;b.exports=d},{}],260:[function(a,b,c){function d(a,b){return function(c,d,h){var i=b?b():{};if(d=e(d,h,3),g(c))for(var j=-1,k=c.length;++j<k;){var l=c[j];a(i,l,d(l,j,c),c)}else f(c,function(b,c,e){a(i,b,d(b,c,e),e)});return i}}var e=a("./baseCallback"),f=a("./baseEach"),g=a("../lang/isArray");b.exports=d},{"../lang/isArray":301,"./baseCallback":230,"./baseEach":233}],261:[function(a,b,c){arguments[4][90][0].apply(c,arguments)},{"../function/restParam":218,"./bindCallback":257,"./isIterateeCall":282,dup:90}],262:[function(a,b,c){arguments[4][91][0].apply(c,arguments)},{"./getLength":277,"./isLength":285,"./toObject":297,dup:91}],263:[function(a,b,c){arguments[4][92][0].apply(c,arguments)},{"./toObject":297,dup:92}],264:[function(a,b,c){(function(c){function d(a,b){function d(){return(this&&this!==c&&this instanceof d?f:a).apply(b,arguments)}var f=e(a);return d}var e=a("./createCtorWrapper");b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./createCtorWrapper":265}],265:[function(a,b,c){function d(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=e(a.prototype),d=a.apply(c,b);return f(d)?d:c}}var e=a("./baseCreate"),f=a("../lang/isObject");b.exports=d},{"../lang/isObject":305,"./baseCreate":232}],266:[function(a,b,c){arguments[4][94][0].apply(c,arguments)},{"../lang/isArray":301,"./baseCallback":230,"./baseFind":236,"./baseFindIndex":237,dup:94}],267:[function(a,b,c){arguments[4][95][0].apply(c,arguments)},{"../lang/isArray":301,"./bindCallback":257,dup:95}],268:[function(a,b,c){(function(c){function d(a,b,v,w,x,y,z,A,B,C){function D(){for(var o=arguments.length,p=o,q=Array(o);p--;)q[p]=arguments[p];if(w&&(q=f(q,w,x)),y&&(q=g(q,y,z)),H||J){var t=D.placeholder,L=k(q,t);if((o-=L.length)<C){var M=A?e(A):void 0,N=u(C-o,0),O=H?L:void 0,P=H?void 0:L,Q=H?q:void 0,R=H?void 0:q;b|=H?r:s,b&=~(H?s:r),I||(b&=~(m|n));var S=[a,b,v,Q,O,R,P,M,B,N],T=d.apply(void 0,S);return i(a)&&l(T,S),T.placeholder=t,T}}var U=F?v:this,V=G?U[a]:a;return A&&(q=j(q,A)),E&&B<q.length&&(q.length=B),this&&this!==c&&this instanceof D&&(V=K||h(a)),V.apply(U,q)}var E=b&t,F=b&m,G=b&n,H=b&p,I=b&o,J=b&q,K=G?void 0:h(a);return D}var e=a("./arrayCopy"),f=a("./composeArgs"),g=a("./composeArgsRight"),h=a("./createCtorWrapper"),i=a("./isLaziable"),j=a("./reorder"),k=a("./replaceHolders"),l=a("./setData"),m=1,n=2,o=4,p=8,q=16,r=32,s=64,t=128,u=Math.max;b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./arrayCopy":221,"./composeArgs":258,"./composeArgsRight":259,"./createCtorWrapper":265,"./isLaziable":284,"./reorder":293,"./replaceHolders":294,"./setData":295}],269:[function(a,b,c){(function(c){function d(a,b,d,g){function h(){for(var b=-1,e=arguments.length,f=-1,k=g.length,l=Array(k+e);++f<k;)l[f]=g[f];for(;e--;)l[f++]=arguments[++b];return(this&&this!==c&&this instanceof h?j:a).apply(i?d:this,l)}var i=b&f,j=e(a);return h}var e=a("./createCtorWrapper"),f=1;b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./createCtorWrapper":265}],270:[function(a,b,c){arguments[4][96][0].apply(c,arguments)},{"../lang/isArray":301,"./baseCallback":230,"./baseReduce":253,dup:96}],271:[function(a,b,c){function d(a,b,c,d,r,s,t,u){var v=b&m;if(!v&&"function"!=typeof a)throw new TypeError(p);var w=d?d.length:0;if(w||(b&=~(n|o),d=r=void 0),w-=r?r.length:0,b&o){var x=d,y=r;d=r=void 0}var z=v?void 0:i(a),A=[a,b,c,d,r,x,y,s,t,u];if(z&&(j(A,z),b=A[1],u=A[9]),A[9]=null==u?v?0:a.length:q(u-w,0)||0,b==l)var B=f(A[0],A[2]);else B=b!=n&&b!=(l|n)||A[4].length?g.apply(void 0,A):h.apply(void 0,A);return(z?e:k)(B,A)}var e=a("./baseSetData"),f=a("./createBindWrapper"),g=a("./createHybridWrapper"),h=a("./createPartialWrapper"),i=a("./getData"),j=a("./mergeData"),k=a("./setData"),l=1,m=2,n=32,o=64,p="Expected a function",q=Math.max;b.exports=d},{"./baseSetData":254,"./createBindWrapper":264,"./createHybridWrapper":268,"./createPartialWrapper":269,"./getData":275,"./mergeData":288,"./setData":295}],272:[function(a,b,c){arguments[4][97][0].apply(c,arguments)},{"./arraySome":227,dup:97}],273:[function(a,b,c){arguments[4][98][0].apply(c,arguments)},{dup:98}],274:[function(a,b,c){arguments[4][99][0].apply(c,arguments)},{"../object/keys":311,dup:99}],275:[function(a,b,c){var d=a("./metaMap"),e=a("../utility/noop"),f=d?function(a){return d.get(a)}:e;b.exports=f},{"../utility/noop":317,"./metaMap":289}],276:[function(a,b,c){function d(a){for(var b=a.name+"",c=e[b],d=c?c.length:0;d--;){var f=c[d],g=f.func;if(null==g||g==a)return f.name}return b}var e=a("./realNames");b.exports=d},{"./realNames":292}],277:[function(a,b,c){arguments[4][100][0].apply(c,arguments)},{"./baseProperty":251,dup:100}],278:[function(a,b,c){arguments[4][101][0].apply(c,arguments)},{"../object/pairs":314,"./isStrictComparable":287,dup:101}],279:[function(a,b,c){arguments[4][102][0].apply(c,arguments)},{"../lang/isNative":303,dup:102}],280:[function(a,b,c){arguments[4][104][0].apply(c,arguments)},{"./getLength":277,"./isLength":285,dup:104}],281:[function(a,b,c){arguments[4][105][0].apply(c,arguments)},{dup:105}],282:[function(a,b,c){arguments[4][106][0].apply(c,arguments)},{"../lang/isObject":305,"./isArrayLike":280,"./isIndex":281,dup:106}],283:[function(a,b,c){arguments[4][107][0].apply(c,arguments)},{"../lang/isArray":301,"./toObject":297,dup:107}],284:[function(a,b,c){function d(a){
var b=g(a),c=h[b];if("function"!=typeof c||!(b in e.prototype))return!1;if(a===c)return!0;var d=f(c);return!!d&&a===d[0]}var e=a("./LazyWrapper"),f=a("./getData"),g=a("./getFuncName"),h=a("../chain/lodash");b.exports=d},{"../chain/lodash":208,"./LazyWrapper":219,"./getData":275,"./getFuncName":276}],285:[function(a,b,c){arguments[4][108][0].apply(c,arguments)},{dup:108}],286:[function(a,b,c){arguments[4][109][0].apply(c,arguments)},{dup:109}],287:[function(a,b,c){arguments[4][110][0].apply(c,arguments)},{"../lang/isObject":305,dup:110}],288:[function(a,b,c){function d(a,b){var c=a[1],d=b[1],p=c|d,q=p<l,r=d==l&&c==k||d==l&&c==m&&a[7].length<=b[8]||d==(l|m)&&c==k;if(!q&&!r)return a;d&i&&(a[2]=b[2],p|=c&i?0:j);var s=b[3];if(s){var t=a[3];a[3]=t?f(t,s,b[4]):e(s),a[4]=t?h(a[3],n):e(b[4])}return s=b[5],s&&(t=a[5],a[5]=t?g(t,s,b[6]):e(s),a[6]=t?h(a[5],n):e(b[6])),s=b[7],s&&(a[7]=e(s)),d&l&&(a[8]=null==a[8]?b[8]:o(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=p,a}var e=a("./arrayCopy"),f=a("./composeArgs"),g=a("./composeArgsRight"),h=a("./replaceHolders"),i=1,j=4,k=8,l=128,m=256,n="__lodash_placeholder__",o=Math.min;b.exports=d},{"./arrayCopy":221,"./composeArgs":258,"./composeArgsRight":259,"./replaceHolders":294}],289:[function(a,b,c){(function(c){var d=a("./getNative"),e=d(c,"WeakMap"),f=e&&new e;b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./getNative":279}],290:[function(a,b,c){arguments[4][111][0].apply(c,arguments)},{"./toObject":297,dup:111}],291:[function(a,b,c){arguments[4][112][0].apply(c,arguments)},{"./baseForIn":240,dup:112}],292:[function(a,b,c){var d={};b.exports=d},{}],293:[function(a,b,c){function d(a,b){for(var c=a.length,d=g(b.length,c),h=e(a);d--;){var i=b[d];a[d]=f(i,c)?h[i]:void 0}return a}var e=a("./arrayCopy"),f=a("./isIndex"),g=Math.min;b.exports=d},{"./arrayCopy":221,"./isIndex":281}],294:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length,f=-1,g=[];++c<d;)a[c]===b&&(a[c]=e,g[++f]=c);return g}var e="__lodash_placeholder__";b.exports=d},{}],295:[function(a,b,c){var d=a("./baseSetData"),e=a("../date/now"),f=150,g=16,h=function(){var a=0,b=0;return function(c,h){var i=e(),j=g-(i-b);if(b=i,j>0){if(++a>=f)return c}else a=0;return d(c,h)}}();b.exports=h},{"../date/now":215,"./baseSetData":254}],296:[function(a,b,c){arguments[4][113][0].apply(c,arguments)},{"../lang/isArguments":300,"../lang/isArray":301,"../object/keysIn":312,"./isIndex":281,"./isLength":285,dup:113}],297:[function(a,b,c){arguments[4][114][0].apply(c,arguments)},{"../lang/isObject":305,dup:114}],298:[function(a,b,c){arguments[4][115][0].apply(c,arguments)},{"../lang/isArray":301,"./baseToString":256,dup:115}],299:[function(a,b,c){function d(a){return a instanceof e?a.clone():new f(a.__wrapped__,a.__chain__,g(a.__actions__))}var e=a("./LazyWrapper"),f=a("./LodashWrapper"),g=a("./arrayCopy");b.exports=d},{"./LazyWrapper":219,"./LodashWrapper":220,"./arrayCopy":221}],300:[function(a,b,c){arguments[4][116][0].apply(c,arguments)},{"../internal/isArrayLike":280,"../internal/isObjectLike":286,dup:116}],301:[function(a,b,c){arguments[4][117][0].apply(c,arguments)},{"../internal/getNative":279,"../internal/isLength":285,"../internal/isObjectLike":286,dup:117}],302:[function(a,b,c){arguments[4][118][0].apply(c,arguments)},{"./isObject":305,dup:118}],303:[function(a,b,c){arguments[4][119][0].apply(c,arguments)},{"../internal/isObjectLike":286,"./isFunction":302,dup:119}],304:[function(a,b,c){arguments[4][120][0].apply(c,arguments)},{"../internal/isObjectLike":286,dup:120}],305:[function(a,b,c){arguments[4][121][0].apply(c,arguments)},{dup:121}],306:[function(a,b,c){function d(a){var b;if(!g(a)||k.call(a)!=h||f(a)||!j.call(a,"constructor")&&"function"==typeof(b=a.constructor)&&!(b instanceof b))return!1;var c;return e(a,function(a,b){c=b}),void 0===c||j.call(a,c)}var e=a("../internal/baseForIn"),f=a("./isArguments"),g=a("../internal/isObjectLike"),h="[object Object]",i=Object.prototype,j=i.hasOwnProperty,k=i.toString;b.exports=d},{"../internal/baseForIn":240,"../internal/isObjectLike":286,"./isArguments":300}],307:[function(a,b,c){arguments[4][122][0].apply(c,arguments)},{"../internal/isObjectLike":286,dup:122}],308:[function(a,b,c){arguments[4][123][0].apply(c,arguments)},{"../internal/isLength":285,"../internal/isObjectLike":286,dup:123}],309:[function(a,b,c){function d(a){return e(a,f(a))}var e=a("../internal/baseCopy"),f=a("../object/keysIn");b.exports=d},{"../internal/baseCopy":231,"../object/keysIn":312}],310:[function(a,b,c){arguments[4][124][0].apply(c,arguments)},{"../internal/assignWith":228,"../internal/baseAssign":229,"../internal/createAssigner":261,dup:124}],311:[function(a,b,c){arguments[4][125][0].apply(c,arguments)},{"../internal/getNative":279,"../internal/isArrayLike":280,"../internal/shimKeys":296,"../lang/isObject":305,dup:125}],312:[function(a,b,c){arguments[4][126][0].apply(c,arguments)},{"../internal/isIndex":281,"../internal/isLength":285,"../lang/isArguments":300,"../lang/isArray":301,"../lang/isObject":305,dup:126}],313:[function(a,b,c){var d=a("../internal/baseMerge"),e=a("../internal/createAssigner"),f=e(d);b.exports=f},{"../internal/baseMerge":249,"../internal/createAssigner":261}],314:[function(a,b,c){arguments[4][128][0].apply(c,arguments)},{"../internal/toObject":297,"./keys":311,dup:128}],315:[function(a,b,c){arguments[4][129][0].apply(c,arguments)},{"../function/restParam":218,"../internal/baseFlatten":238,"../internal/bindCallback":257,"../internal/pickByArray":290,"../internal/pickByCallback":291,dup:129}],316:[function(a,b,c){arguments[4][131][0].apply(c,arguments)},{dup:131}],317:[function(a,b,c){function d(){}b.exports=d},{}],318:[function(a,b,c){arguments[4][132][0].apply(c,arguments)},{"../internal/baseProperty":251,"../internal/basePropertyDeep":252,"../internal/isKey":283,dup:132}],319:[function(a,b,c){b.exports=function(a,b,c){return 2==arguments.length?a.getAttribute(b):null===c?a.removeAttribute(b):(a.setAttribute(b,c),a)}},{}],320:[function(a,b,c){b.exports=a("component-classes")},{"component-classes":328}],321:[function(a,b,c){b.exports=function(a){for(var b;a.childNodes.length;)b=a.childNodes[0],a.removeChild(b);return a}},{}],322:[function(a,b,c){b.exports=a("component-closest")},{"component-closest":330}],323:[function(a,b,c){arguments[4][133][0].apply(c,arguments)},{"component-delegate":331,dup:133}],324:[function(a,b,c){arguments[4][134][0].apply(c,arguments)},{domify:335,dup:134}],325:[function(a,b,c){arguments[4][135][0].apply(c,arguments)},{"component-event":332,dup:135}],326:[function(a,b,c){arguments[4][136][0].apply(c,arguments)},{"component-query":334,dup:136}],327:[function(a,b,c){arguments[4][137][0].apply(c,arguments)},{dup:137}],328:[function(a,b,c){function d(a){if(!a||!a.nodeType)throw new Error("A DOM element reference is required");this.el=a,this.list=a.classList}try{var e=a("indexof")}catch(h){var e=a("component-indexof")}var f=/\s+/,g=Object.prototype.toString;b.exports=function(a){return new d(a)},d.prototype.add=function(a){if(this.list)return this.list.add(a),this;var b=this.array();return~e(b,a)||b.push(a),this.el.className=b.join(" "),this},d.prototype.remove=function(a){if("[object RegExp]"==g.call(a))return this.removeMatching(a);if(this.list)return this.list.remove(a),this;var b=this.array(),c=e(b,a);return~c&&b.splice(c,1),this.el.className=b.join(" "),this},d.prototype.removeMatching=function(a){for(var b=this.array(),c=0;c<b.length;c++)a.test(b[c])&&this.remove(b[c]);return this},d.prototype.toggle=function(a,b){return this.list?(void 0!==b?b!==this.list.toggle(a,b)&&this.list.toggle(a):this.list.toggle(a),this):(void 0!==b?b?this.add(a):this.remove(a):this.has(a)?this.remove(a):this.add(a),this)},d.prototype.array=function(){var a=this.el.getAttribute("class")||"",b=a.replace(/^\s+|\s+$/g,""),c=b.split(f);return""===c[0]&&c.shift(),c},d.prototype.has=d.prototype.contains=function(a){return this.list?this.list.contains(a):!!~e(this.array(),a)}},{"component-indexof":329,indexof:329}],329:[function(a,b,c){b.exports=function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}},{}],330:[function(a,b,c){arguments[4][138][0].apply(c,arguments)},{dup:138,"matches-selector":333}],331:[function(a,b,c){arguments[4][139][0].apply(c,arguments)},{closest:330,"component-closest":330,"component-event":332,dup:139,event:332}],332:[function(a,b,c){arguments[4][140][0].apply(c,arguments)},{dup:140}],333:[function(a,b,c){arguments[4][141][0].apply(c,arguments)},{"component-query":334,dup:141,query:334}],334:[function(a,b,c){arguments[4][142][0].apply(c,arguments)},{dup:142}],335:[function(a,b,c){arguments[4][143][0].apply(c,arguments)},{dup:143}],336:[function(a,b,c){arguments[4][144][0].apply(c,arguments)},{"./lib/collection":337,"./lib/refs":338,dup:144}],337:[function(a,b,c){arguments[4][145][0].apply(c,arguments)},{dup:145}],338:[function(a,b,c){arguments[4][146][0].apply(c,arguments)},{"./collection":337,dup:146}],339:[function(a,b,c){arguments[4][147][0].apply(c,arguments)},{"./appendTo":340,dup:147}],340:[function(a,b,c){arguments[4][148][0].apply(c,arguments)},{"./util/ensureImported":347,dup:148}],341:[function(a,b,c){arguments[4][149][0].apply(c,arguments)},{dup:149}],342:[function(a,b,c){arguments[4][150][0].apply(c,arguments)},{dup:150}],343:[function(a,b,c){arguments[4][152][0].apply(c,arguments)},{"./attr":341,"./util/ns":348,"./util/parse":349,dup:152}],344:[function(a,b,c){function d(a,b){var c,d,e=Object.keys(b);for(c=0;d=e[c];c++)a[d]=b[d];return a}function e(a,b){var c=i.createSVGPoint();switch(arguments.length){case 0:return c;case 2:a={x:a,y:b}}return d(c,a)}function f(a,b,c,e,f,g){var h=i.createSVGMatrix();switch(arguments.length){case 0:return h;case 6:a={a:a,b:b,c:c,d:e,e:f,f:g}}return d(h,a)}function g(a){return a?i.createSVGTransformFromMatrix(a):i.createSVGTransform()}var h=a("./create"),i=h("svg");b.exports.createTransform=g,b.exports.createMatrix=f,b.exports.createPoint=e},{"./create":343}],345:[function(a,b,c){arguments[4][154][0].apply(c,arguments)},{dup:154}],346:[function(a,b,c){function d(a,b){return b instanceof SVGMatrix?a.createSVGTransformFromMatrix(b):b}function e(a,b){var c,e;for(a.clear(),c=0;e=b[c];c++)a.appendItem(d(a,e));a.consolidate()}function f(a,b){var c=a.transform.baseVal;if(1===arguments.length)return c.consolidate();b.length?e(c,b):c.initialize(d(c,b))}b.exports=f},{}],347:[function(a,b,c){arguments[4][155][0].apply(c,arguments)},{dup:155}],348:[function(a,b,c){arguments[4][156][0].apply(c,arguments)},{dup:156}],349:[function(a,b,c){arguments[4][157][0].apply(c,arguments)},{"./ns":348,dup:157}],350:[function(a,b,c){},{}],351:[function(a,b,c){(function(b){"use strict";function d(){function a(){}try{var b=new Uint8Array(1);return b.foo=function(){return 42},b.constructor=a,42===b.foo()&&b.constructor===a&&"function"==typeof b.subarray&&0===b.subarray(1,1).byteLength}catch(c){return!1}}function e(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(a){return this instanceof f?(f.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof a?g(this,a):"string"==typeof a?h(this,a,arguments.length>1?arguments[1]:"utf8"):i(this,a)):arguments.length>1?new f(a,arguments[1]):new f(a)}function g(a,b){if(a=p(a,b<0?0:0|q(b)),!f.TYPED_ARRAY_SUPPORT)for(var c=0;c<b;c++)a[c]=0;return a}function h(a,b,c){return"string"==typeof c&&""!==c||(c="utf8"),a=p(a,0|s(b,c)),a.write(b,c),a}function i(a,b){if(f.isBuffer(b))return j(a,b);if(Y(b))return k(a,b);if(null==b)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(b.buffer instanceof ArrayBuffer)return l(a,b);if(b instanceof ArrayBuffer)return m(a,b)}return b.length?n(a,b):o(a,b)}function j(a,b){var c=0|q(b.length);return a=p(a,c),b.copy(a,0,0,c),a}function k(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function l(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function m(a,b){return f.TYPED_ARRAY_SUPPORT?(b.byteLength,a=f._augment(new Uint8Array(b))):a=l(a,new Uint8Array(b)),a}function n(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function o(a,b){var c,d=0;"Buffer"===b.type&&Y(b.data)&&(c=b.data,d=0|q(c.length)),a=p(a,d);for(var e=0;e<d;e+=1)a[e]=255&c[e];return a}function p(a,b){return f.TYPED_ARRAY_SUPPORT?(a=f._augment(new Uint8Array(b)),a.__proto__=f.prototype):(a.length=b,a._isBuffer=!0),0!==b&&b<=f.poolSize>>>1&&(a.parent=Z),a}function q(a){if(a>=e())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e().toString(16)+" bytes");return 0|a}function r(a,b){if(!(this instanceof r))return new r(a,b);var c=new f(a,b);return delete c.parent,c}function s(a,b){"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"binary":case"raw":case"raws":return c;case"utf8":case"utf-8":return R(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return U(a).length;default:if(d)return R(a).length;b=(""+b).toLowerCase(),d=!0}}function t(a,b,c){var d=!1;if(b|=0,c=void 0===c||c===1/0?this.length:0|c,a||(a="utf8"),b<0&&(b=0),c>this.length&&(c=this.length),c<=b)return"";for(;;)switch(a){case"hex":return F(this,b,c);case"utf8":case"utf-8":return B(this,b,c);case"ascii":return D(this,b,c);case"binary":return E(this,b,c);case"base64":return A(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function u(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d))>e&&(d=e):d=e;var f=b.length;if(f%2!=0)throw new Error("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;g<d;g++){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))throw new Error("Invalid hex string");a[c+g]=h}return g}function v(a,b,c,d){return V(R(b,a.length-c),a,c,d)}function w(a,b,c,d){return V(S(b),a,c,d)}function x(a,b,c,d){return w(a,b,c,d)}function y(a,b,c,d){return V(U(b),a,c,d)}function z(a,b,c,d){return V(T(b,a.length-c),a,c,d)}function A(a,b,c){return 0===b&&c===a.length?W.fromByteArray(a):W.fromByteArray(a.slice(b,c))}function B(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;e<c;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(e+h<=c){var i,j,k,l;switch(h){case 1:f<128&&(g=f);break;case 2:i=a[e+1],128==(192&i)&&(l=(31&f)<<6|63&i)>127&&(g=l);break;case 3:i=a[e+1],j=a[e+2],128==(192&i)&&128==(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j)>2047&&(l<55296||l>57343)&&(g=l);break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128==(192&i)&&128==(192&j)&&128==(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k)>65535&&l<1114112&&(g=l)}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return C(d)}function C(a){var b=a.length;if(b<=$)return String.fromCharCode.apply(String,a);for(var c="",d=0;d<b;)c+=String.fromCharCode.apply(String,a.slice(d,d+=$));return c}function D(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;e++)d+=String.fromCharCode(127&a[e]);return d}function E(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;e++)d+=String.fromCharCode(a[e]);return d}function F(a,b,c){var d=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>d)&&(c=d);for(var e="",f=b;f<c;f++)e+=Q(a[f]);return e}function G(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function H(a,b,c){if(a%1!=0||a<0)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function I(a,b,c,d,e,g){if(!f.isBuffer(a))throw new TypeError("buffer must be a Buffer instance");if(b>e||b<g)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range")}function J(a,b,c,d){b<0&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);e<f;e++)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function K(a,b,c,d){b<0&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);e<f;e++)a[c+e]=b>>>8*(d?e:3-e)&255}function L(a,b,c,d,e,f){if(b>e||b<f)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range");if(c<0)throw new RangeError("index out of range")}function M(a,b,c,d,e){return e||L(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(a,b,c,d,23,4),c+4}function N(a,b,c,d,e){return e||L(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(a,b,c,d,52,8),c+8}function O(a){if(a=P(a).replace(aa,""),a.length<2)return"";for(;a.length%4!=0;)a+="=";return a}function P(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function Q(a){return a<16?"0"+a.toString(16):a.toString(16)}function R(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;g<d;g++){if((c=a.charCodeAt(g))>55295&&c<57344){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=65536+(e-55296<<10|c-56320)}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function S(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function T(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);g++)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function U(a){return W.toByteArray(O(a))}function V(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);e++)b[e+c]=a[e];return e}var W=a("base64-js"),X=a("ieee754"),Y=a("isarray");c.Buffer=f,c.SlowBuffer=r,c.INSPECT_MAX_BYTES=50,f.poolSize=8192;var Z={};f.TYPED_ARRAY_SUPPORT=void 0!==b.TYPED_ARRAY_SUPPORT?b.TYPED_ARRAY_SUPPORT:d(),f.TYPED_ARRAY_SUPPORT?(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array):(f.prototype.length=void 0,f.prototype.parent=void 0),f.isBuffer=function(a){return!(null==a||!a._isBuffer)},f.compare=function(a,b){if(!f.isBuffer(a)||!f.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,e=0,g=Math.min(c,d);e<g&&a[e]===b[e];)++e;return e!==g&&(c=a[e],d=b[e]),c<d?-1:d<c?1:0},f.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(a,b){if(!Y(a))throw new TypeError("list argument must be an Array of Buffers.");if(0===a.length)return new f(0);var c;if(void 0===b)for(b=0,c=0;c<a.length;c++)b+=a[c].length;var d=new f(b),e=0;for(c=0;c<a.length;c++){var g=a[c];g.copy(d,e),e+=g.length}return d},f.byteLength=s,f.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?B(this,0,a):t.apply(this,arguments)},f.prototype.equals=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||0===f.compare(this,a)},f.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... ")),"<Buffer "+a+">"},f.prototype.compare=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?0:f.compare(this,a)},f.prototype.indexOf=function(a,b){function c(a,b,c){for(var d=-1,e=0;c+e<a.length;e++)if(a[c+e]===b[-1===d?0:e-d]){if(-1===d&&(d=e),e-d+1===b.length)return c+d}else d=-1;return-1}if(b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b>>=0,0===this.length)return-1;if(b>=this.length)return-1;if(b<0&&(b=Math.max(this.length+b,0)),"string"==typeof a)return 0===a.length?-1:String.prototype.indexOf.call(this,a,b);if(f.isBuffer(a))return c(this,a,b);if("number"==typeof a)return f.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,a,b):c(this,[a],b);throw new TypeError("val must be string, number or Buffer")},f.prototype.get=function(a){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(a)},f.prototype.set=function(a,b){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(a,b)},f.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else if(isFinite(b))b|=0,isFinite(c)?(c|=0,void 0===d&&(d="utf8")):(d=c,c=void 0);else{var e=d;d=b,b=0|c,c=e}var f=this.length-b;if((void 0===c||c>f)&&(c=f),a.length>0&&(c<0||b<0)||b>this.length)throw new RangeError("attempt to write outside buffer bounds");d||(d="utf8");for(var g=!1;;)switch(d){case"hex":return u(this,a,b,c);case"utf8":case"utf-8":return v(this,a,b,c);case"ascii":return w(this,a,b,c);case"binary":return x(this,a,b,c);case"base64":return y(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,a,b,c);default:if(g)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),g=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;f.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,a<0?(a+=c)<0&&(a=0):a>c&&(a=c),b<0?(b+=c)<0&&(b=0):b>c&&(b=c),b<a&&(b=a);var d;if(f.TYPED_ARRAY_SUPPORT)d=f._augment(this.subarray(a,b));else{var e=b-a;d=new f(e,void 0);for(var g=0;g<e;g++)d[g]=this[g+a]}return d.length&&(d.parent=this.parent||this),d},f.prototype.readUIntLE=function(a,b,c){a|=0,b|=0,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},f.prototype.readUIntBE=function(a,b,c){a|=0,b|=0,c||H(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},f.prototype.readUInt8=function(a,b){return b||H(a,1,this.length),this[a]},f.prototype.readUInt16LE=function(a,b){return b||H(a,2,this.length),this[a]|this[a+1]<<8},f.prototype.readUInt16BE=function(a,b){return b||H(a,2,this.length),this[a]<<8|this[a+1]},f.prototype.readUInt32LE=function(a,b){return b||H(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},f.prototype.readUInt32BE=function(a,b){return b||H(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},f.prototype.readIntLE=function(a,b,c){a|=0,b|=0,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},f.prototype.readIntBE=function(a,b,c){a|=0,b|=0,c||H(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},f.prototype.readInt8=function(a,b){return b||H(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},f.prototype.readInt16LE=function(a,b){b||H(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt16BE=function(a,b){b||H(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt32LE=function(a,b){return b||H(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},f.prototype.readInt32BE=function(a,b){return b||H(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},f.prototype.readFloatLE=function(a,b){return b||H(a,4,this.length),X.read(this,a,!0,23,4)},f.prototype.readFloatBE=function(a,b){return b||H(a,4,this.length),X.read(this,a,!1,23,4)},f.prototype.readDoubleLE=function(a,b){return b||H(a,8,this.length),X.read(this,a,!0,52,8)},f.prototype.readDoubleBE=function(a,b){return b||H(a,8,this.length),X.read(this,a,!1,52,8)},f.prototype.writeUIntLE=function(a,b,c,d){a=+a,b|=0,c|=0,d||I(this,a,b,c,Math.pow(2,8*c),0);var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},f.prototype.writeUIntBE=function(a,b,c,d){a=+a,b|=0,c|=0,d||I(this,a,b,c,Math.pow(2,8*c),0);var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},f.prototype.writeUInt8=function(a,b,c){return a=+a,b|=0,c||I(this,a,b,1,255,0),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1},f.prototype.writeUInt16LE=function(a,b,c){return a=+a,b|=0,c||I(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):J(this,a,b,!0),b+2},f.prototype.writeUInt16BE=function(a,b,c){return a=+a,b|=0,c||I(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):J(this,a,b,!1),b+2},f.prototype.writeUInt32LE=function(a,b,c){return a=+a,b|=0,c||I(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):K(this,a,b,!0),b+4},f.prototype.writeUInt32BE=function(a,b,c){return a=+a,b|=0,c||I(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):K(this,a,b,!1),b+4},f.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b|=0,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=0,g=1,h=a<0?1:0;for(this[b]=255&a;++f<c&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b|=0,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=a<0?1:0;for(this[b+f]=255&a;--f>=0&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeInt8=function(a,b,c){return a=+a,b|=0,c||I(this,a,b,1,127,-128),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),a<0&&(a=255+a+1),this[b]=255&a,b+1},f.prototype.writeInt16LE=function(a,b,c){return a=+a,b|=0,c||I(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):J(this,a,b,!0),b+2},f.prototype.writeInt16BE=function(a,b,c){return a=+a,b|=0,c||I(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):J(this,a,b,!1),b+2},f.prototype.writeInt32LE=function(a,b,c){return a=+a,b|=0,c||I(this,a,b,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):K(this,a,b,!0),b+4},f.prototype.writeInt32BE=function(a,b,c){return a=+a,b|=0,c||I(this,a,b,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):K(this,a,b,!1),b+4},f.prototype.writeFloatLE=function(a,b,c){return M(this,a,b,!0,c)},f.prototype.writeFloatBE=function(a,b,c){return M(this,a,b,!1,c)},f.prototype.writeDoubleLE=function(a,b,c){return N(this,a,b,!0,c)},f.prototype.writeDoubleBE=function(a,b,c){return N(this,a,b,!1,c)},f.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&d<c&&(d=c),d===c)return 0;if(0===a.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("sourceStart out of bounds");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var e,g=d-c;if(this===a&&c<b&&b<d)for(e=g-1;e>=0;e--)a[e+b]=this[e+c];else if(g<1e3||!f.TYPED_ARRAY_SUPPORT)for(e=0;e<g;e++)a[e+b]=this[e+c];else a._set(this.subarray(c,c+g),b);return g},f.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),c<b)throw new RangeError("end < start");if(c!==b&&0!==this.length){if(b<0||b>=this.length)throw new RangeError("start out of bounds");if(c<0||c>this.length)throw new RangeError("end out of bounds");var d;if("number"==typeof a)for(d=b;d<c;d++)this[d]=a;else{var e=R(a.toString()),f=e.length;for(d=b;d<c;d++)this[d]=e[d%f]}return this}},f.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(f.TYPED_ARRAY_SUPPORT)return new f(this).buffer;for(var a=new Uint8Array(this.length),b=0,c=a.length;b<c;b+=1)a[b]=this[b];return a.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var _=f.prototype;f._augment=function(a){return a.constructor=f,a._isBuffer=!0,a._set=a.set,a.get=_.get,a.set=_.set,a.write=_.write,a.toString=_.toString,a.toLocaleString=_.toString,a.toJSON=_.toJSON,a.equals=_.equals,a.compare=_.compare,a.indexOf=_.indexOf,a.copy=_.copy,a.slice=_.slice,a.readUIntLE=_.readUIntLE,a.readUIntBE=_.readUIntBE,a.readUInt8=_.readUInt8,a.readUInt16LE=_.readUInt16LE,a.readUInt16BE=_.readUInt16BE,a.readUInt32LE=_.readUInt32LE,a.readUInt32BE=_.readUInt32BE,a.readIntLE=_.readIntLE,a.readIntBE=_.readIntBE,a.readInt8=_.readInt8,a.readInt16LE=_.readInt16LE,a.readInt16BE=_.readInt16BE,a.readInt32LE=_.readInt32LE,a.readInt32BE=_.readInt32BE,a.readFloatLE=_.readFloatLE,a.readFloatBE=_.readFloatBE,a.readDoubleLE=_.readDoubleLE,a.readDoubleBE=_.readDoubleBE,a.writeUInt8=_.writeUInt8,a.writeUIntLE=_.writeUIntLE,a.writeUIntBE=_.writeUIntBE,a.writeUInt16LE=_.writeUInt16LE,a.writeUInt16BE=_.writeUInt16BE,a.writeUInt32LE=_.writeUInt32LE,a.writeUInt32BE=_.writeUInt32BE,a.writeIntLE=_.writeIntLE,a.writeIntBE=_.writeIntBE,a.writeInt8=_.writeInt8,a.writeInt16LE=_.writeInt16LE,a.writeInt16BE=_.writeInt16BE,a.writeInt32LE=_.writeInt32LE,a.writeInt32BE=_.writeInt32BE,a.writeFloatLE=_.writeFloatLE,a.writeFloatBE=_.writeFloatBE,a.writeDoubleLE=_.writeDoubleLE,a.writeDoubleBE=_.writeDoubleBE,a.fill=_.fill,a.inspect=_.inspect,a.toArrayBuffer=_.toArrayBuffer,a};var aa=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":352,ieee754:353,isarray:354}],352:[function(a,b,c){!function(a){"use strict";function b(a){var b=a.charCodeAt(0);return b===f||b===k?62:b===g||b===l?63:b<h?-1:b<h+10?b-h+26+26:b<j+26?b-j:b<i+26?b-i+26:void 0}function c(a){function c(a){j[l++]=a}var d,f,g,h,i,j;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=a.length;i="="===a.charAt(k-2)?2:"="===a.charAt(k-1)?1:0,j=new e(3*a.length/4-i),g=i>0?a.length-4:a.length;var l=0;for(d=0,f=0;d<g;d+=4,f+=3)h=b(a.charAt(d))<<18|b(a.charAt(d+1))<<12|b(a.charAt(d+2))<<6|b(a.charAt(d+3)),c((16711680&h)>>16),c((65280&h)>>8),c(255&h);return 2===i?(h=b(a.charAt(d))<<2|b(a.charAt(d+1))>>4,c(255&h)):1===i&&(h=b(a.charAt(d))<<10|b(a.charAt(d+1))<<4|b(a.charAt(d+2))>>2,c(h>>8&255),c(255&h)),j}function d(a){function b(a){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a)}function c(a){return b(a>>18&63)+b(a>>12&63)+b(a>>6&63)+b(63&a)}var d,e,f,g=a.length%3,h="";for(d=0,f=a.length-g;d<f;d+=3)e=(a[d]<<16)+(a[d+1]<<8)+a[d+2],h+=c(e);switch(g){case 1:e=a[a.length-1],h+=b(e>>2),h+=b(e<<4&63),h+="==";break;case 2:e=(a[a.length-2]<<8)+a[a.length-1],h+=b(e>>10),h+=b(e>>4&63),h+=b(e<<2&63),h+="="}return h}var e="undefined"!=typeof Uint8Array?Uint8Array:Array,f="+".charCodeAt(0),g="/".charCodeAt(0),h="0".charCodeAt(0),i="a".charCodeAt(0),j="A".charCodeAt(0),k="-".charCodeAt(0),l="_".charCodeAt(0);a.toByteArray=c,a.fromByteArray=d}(void 0===c?this.base64js={}:c)},{}],353:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],354:[function(a,b,c){var d={}.toString;b.exports=Array.isArray||function(a){return"[object Array]"==d.call(a)}},{}],355:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){
return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if((b=arguments[1])instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.')}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(d=arguments.length,f=new Array(d-1),i=1;i<d;i++)f[i-1]=arguments[i];c.apply(this,f)}else if(g(c)){for(d=arguments.length,f=new Array(d-1),i=1;i<d;i++)f[i-1]=arguments[i];for(j=c.slice(),d=j.length,i=0;i<d;i++)j[i].apply(this,f)}return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned){var c;c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())}return this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-- >0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(d<0)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){return this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.listenerCount=function(a,b){return a._events&&a._events[b]?e(a._events[b])?1:a._events[b].length:0}},{}],356:[function(a,b,c){arguments[4][37][0].apply(c,arguments)},{dup:37}],357:[function(a,b,c){function d(a){return!!a.constructor&&"function"==typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)}function e(a){return"function"==typeof a.readFloatLE&&"function"==typeof a.slice&&d(a.slice(0,0))}b.exports=function(a){return null!=a&&(d(a)||e(a)||!!a._isBuffer)}},{}],358:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.prependListener=k,n.prependOnceListener=k,n.listeners=function(a){return[]},n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],359:[function(a,b,c){b.exports=a("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":360}],360:[function(a,b,c){"use strict";function d(a){if(!(this instanceof d))return new d(a);j.call(this,a),k.call(this,a),a&&!1===a.readable&&(this.readable=!1),a&&!1===a.writable&&(this.writable=!1),this.allowHalfOpen=!0,a&&!1===a.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",e)}function e(){this.allowHalfOpen||this._writableState.ended||g(f,this)}function f(a){a.end()}var g=a("process-nextick-args"),h=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b};b.exports=d;var i=a("core-util-is");i.inherits=a("inherits");var j=a("./_stream_readable"),k=a("./_stream_writable");i.inherits(d,j);for(var l=h(k.prototype),m=0;m<l.length;m++){var n=l[m];d.prototype[n]||(d.prototype[n]=k.prototype[n])}Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(a){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=a,this._writableState.destroyed=a)}}),d.prototype._destroy=function(a,b){this.push(null),this.end(),g(b,a)}},{"./_stream_readable":362,"./_stream_writable":364,"core-util-is":368,inherits:356,"process-nextick-args":370}],361:[function(a,b,c){"use strict";function d(a){if(!(this instanceof d))return new d(a);e.call(this,a)}b.exports=d;var e=a("./_stream_transform"),f=a("core-util-is");f.inherits=a("inherits"),f.inherits(d,e),d.prototype._transform=function(a,b,c){c(null,a)}},{"./_stream_transform":363,"core-util-is":368,inherits:356}],362:[function(a,b,c){(function(c,d){"use strict";function e(a){return L.from(a)}function f(a){return L.isBuffer(a)||a instanceof M}function g(a,b,c){if("function"==typeof a.prependListener)return a.prependListener(b,c);a._events&&a._events[b]?I(a._events[b])?a._events[b].unshift(c):a._events[b]=[c,a._events[b]]:a.on(b,c)}function h(b,c){H=H||a("./_stream_duplex"),b=b||{},this.objectMode=!!b.objectMode,c instanceof H&&(this.objectMode=this.objectMode||!!b.readableObjectMode);var d=b.highWaterMark,e=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:e,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new R,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=b.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,b.encoding&&(Q||(Q=a("string_decoder/").StringDecoder),this.decoder=new Q(b.encoding),this.encoding=b.encoding)}function i(b){if(H=H||a("./_stream_duplex"),!(this instanceof i))return new i(b);this._readableState=new h(b,this),this.readable=!0,b&&("function"==typeof b.read&&(this._read=b.read),"function"==typeof b.destroy&&(this._destroy=b.destroy)),K.call(this)}function j(a,b,c,d,f){var g=a._readableState;if(null===b)g.reading=!1,p(a,g);else{var h;f||(h=l(g,b)),h?a.emit("error",h):g.objectMode||b&&b.length>0?("string"==typeof b||g.objectMode||Object.getPrototypeOf(b)===L.prototype||(b=e(b)),d?g.endEmitted?a.emit("error",new Error("stream.unshift() after end event")):k(a,g,b,!0):g.ended?a.emit("error",new Error("stream.push() after EOF")):(g.reading=!1,g.decoder&&!c?(b=g.decoder.write(b),g.objectMode||0!==b.length?k(a,g,b,!1):s(a,g)):k(a,g,b,!1))):d||(g.reading=!1)}return m(g)}function k(a,b,c,d){b.flowing&&0===b.length&&!b.sync?(a.emit("data",c),a.read(0)):(b.length+=b.objectMode?1:c.length,d?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&q(a)),s(a,b)}function l(a,b){var c;return f(b)||"string"==typeof b||void 0===b||a.objectMode||(c=new TypeError("Invalid non-string/buffer chunk")),c}function m(a){return!a.ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}function n(a){return a>=U?a=U:(a--,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a++),a}function o(a,b){return a<=0||0===b.length&&b.ended?0:b.objectMode?1:a!==a?b.flowing&&b.length?b.buffer.head.data.length:b.length:(a>b.highWaterMark&&(b.highWaterMark=n(a)),a<=b.length?a:b.ended?b.length:(b.needReadable=!0,0))}function p(a,b){if(!b.ended){if(b.decoder){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0,q(a)}}function q(a){var b=a._readableState;b.needReadable=!1,b.emittedReadable||(P("emitReadable",b.flowing),b.emittedReadable=!0,b.sync?G(r,a):r(a))}function r(a){P("emit readable"),a.emit("readable"),y(a)}function s(a,b){b.readingMore||(b.readingMore=!0,G(t,a,b))}function t(a,b){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(P("maybeReadMore read 0"),a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}function u(a){return function(){var b=a._readableState;P("pipeOnDrain",b.awaitDrain),b.awaitDrain&&b.awaitDrain--,0===b.awaitDrain&&J(a,"data")&&(b.flowing=!0,y(a))}}function v(a){P("readable nexttick read 0"),a.read(0)}function w(a,b){b.resumeScheduled||(b.resumeScheduled=!0,G(x,a,b))}function x(a,b){b.reading||(P("resume read 0"),a.read(0)),b.resumeScheduled=!1,b.awaitDrain=0,a.emit("resume"),y(a),b.flowing&&!b.reading&&a.read(0)}function y(a){var b=a._readableState;for(P("flow",b.flowing);b.flowing&&null!==a.read(););}function z(a,b){if(0===b.length)return null;var c;return b.objectMode?c=b.buffer.shift():!a||a>=b.length?(c=b.decoder?b.buffer.join(""):1===b.buffer.length?b.buffer.head.data:b.buffer.concat(b.length),b.buffer.clear()):c=A(a,b.buffer,b.decoder),c}function A(a,b,c){var d;return a<b.head.data.length?(d=b.head.data.slice(0,a),b.head.data=b.head.data.slice(a)):d=a===b.head.data.length?b.shift():c?B(a,b):C(a,b),d}function B(a,b){var c=b.head,d=1,e=c.data;for(a-=e.length;c=c.next;){var f=c.data,g=a>f.length?f.length:a;if(g===f.length?e+=f:e+=f.slice(0,a),0===(a-=g)){g===f.length?(++d,c.next?b.head=c.next:b.head=b.tail=null):(b.head=c,c.data=f.slice(g));break}++d}return b.length-=d,e}function C(a,b){var c=L.allocUnsafe(a),d=b.head,e=1;for(d.data.copy(c),a-=d.data.length;d=d.next;){var f=d.data,g=a>f.length?f.length:a;if(f.copy(c,c.length-a,0,g),0===(a-=g)){g===f.length?(++e,d.next?b.head=d.next:b.head=b.tail=null):(b.head=d,d.data=f.slice(g));break}++e}return b.length-=e,c}function D(a){var b=a._readableState;if(b.length>0)throw new Error('"endReadable()" called on non-empty stream');b.endEmitted||(b.ended=!0,G(E,b,a))}function E(a,b){a.endEmitted||0!==a.length||(a.endEmitted=!0,b.readable=!1,b.emit("end"))}function F(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}var G=a("process-nextick-args");b.exports=i;var H,I=a("isarray");i.ReadableState=h;var J=(a("events").EventEmitter,function(a,b){return a.listeners(b).length}),K=a("./internal/streams/stream"),L=a("safe-buffer").Buffer,M=d.Uint8Array||function(){},N=a("core-util-is");N.inherits=a("inherits");var O=a("util"),P=void 0;P=O&&O.debuglog?O.debuglog("stream"):function(){};var Q,R=a("./internal/streams/BufferList"),S=a("./internal/streams/destroy");N.inherits(i,K);var T=["error","close","destroy","pause","resume"];Object.defineProperty(i.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(a){this._readableState&&(this._readableState.destroyed=a)}}),i.prototype.destroy=S.destroy,i.prototype._undestroy=S.undestroy,i.prototype._destroy=function(a,b){this.push(null),b(a)},i.prototype.push=function(a,b){var c,d=this._readableState;return d.objectMode?c=!0:"string"==typeof a&&(b=b||d.defaultEncoding,b!==d.encoding&&(a=L.from(a,b),b=""),c=!0),j(this,a,b,!1,c)},i.prototype.unshift=function(a){return j(this,a,null,!0,!1)},i.prototype.isPaused=function(){return!1===this._readableState.flowing},i.prototype.setEncoding=function(b){return Q||(Q=a("string_decoder/").StringDecoder),this._readableState.decoder=new Q(b),this._readableState.encoding=b,this};var U=8388608;i.prototype.read=function(a){P("read",a),a=parseInt(a,10);var b=this._readableState,c=a;if(0!==a&&(b.emittedReadable=!1),0===a&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return P("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?D(this):q(this),null;if(0===(a=o(a,b))&&b.ended)return 0===b.length&&D(this),null;var d=b.needReadable;P("need readable",d),(0===b.length||b.length-a<b.highWaterMark)&&(d=!0,P("length less than watermark",d)),b.ended||b.reading?(d=!1,P("reading or ended",d)):d&&(P("do read"),b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(a=o(c,b)));var e;return e=a>0?z(a,b):null,null===e?(b.needReadable=!0,a=0):b.length-=a,0===b.length&&(b.ended||(b.needReadable=!0),c!==a&&b.ended&&D(this)),null!==e&&this.emit("data",e),e},i.prototype._read=function(a){this.emit("error",new Error("_read() is not implemented"))},i.prototype.pipe=function(a,b){function d(a,b){P("onunpipe"),a===m&&b&&!1===b.hasUnpiped&&(b.hasUnpiped=!0,f())}function e(){P("onend"),a.end()}function f(){P("cleanup"),a.removeListener("close",j),a.removeListener("finish",k),a.removeListener("drain",q),a.removeListener("error",i),a.removeListener("unpipe",d),m.removeListener("end",e),m.removeListener("end",l),m.removeListener("data",h),r=!0,!n.awaitDrain||a._writableState&&!a._writableState.needDrain||q()}function h(b){P("ondata"),s=!1,!1!==a.write(b)||s||((1===n.pipesCount&&n.pipes===a||n.pipesCount>1&&-1!==F(n.pipes,a))&&!r&&(P("false write response, pause",m._readableState.awaitDrain),m._readableState.awaitDrain++,s=!0),m.pause())}function i(b){P("onerror",b),l(),a.removeListener("error",i),0===J(a,"error")&&a.emit("error",b)}function j(){a.removeListener("finish",k),l()}function k(){P("onfinish"),a.removeListener("close",j),l()}function l(){P("unpipe"),m.unpipe(a)}var m=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=a;break;case 1:n.pipes=[n.pipes,a];break;default:n.pipes.push(a)}n.pipesCount+=1,P("pipe count=%d opts=%j",n.pipesCount,b);var o=(!b||!1!==b.end)&&a!==c.stdout&&a!==c.stderr,p=o?e:l;n.endEmitted?G(p):m.once("end",p),a.on("unpipe",d);var q=u(m);a.on("drain",q);var r=!1,s=!1;return m.on("data",h),g(a,"error",i),a.once("close",j),a.once("finish",k),a.emit("pipe",m),n.flowing||(P("pipe resume"),m.resume()),a},i.prototype.unpipe=function(a){var b=this._readableState,c={hasUnpiped:!1};if(0===b.pipesCount)return this;if(1===b.pipesCount)return a&&a!==b.pipes?this:(a||(a=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,a&&a.emit("unpipe",this,c),this);if(!a){var d=b.pipes,e=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var f=0;f<e;f++)d[f].emit("unpipe",this,c);return this}var g=F(b.pipes,a);return-1===g?this:(b.pipes.splice(g,1),b.pipesCount-=1,1===b.pipesCount&&(b.pipes=b.pipes[0]),a.emit("unpipe",this,c),this)},i.prototype.on=function(a,b){var c=K.prototype.on.call(this,a,b);if("data"===a)!1!==this._readableState.flowing&&this.resume();else if("readable"===a){var d=this._readableState;d.endEmitted||d.readableListening||(d.readableListening=d.needReadable=!0,d.emittedReadable=!1,d.reading?d.length&&q(this):G(v,this))}return c},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var a=this._readableState;return a.flowing||(P("resume"),a.flowing=!0,w(this,a)),this},i.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(a){var b=this._readableState,c=!1,d=this;a.on("end",function(){if(P("wrapped end"),b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&d.push(a)}d.push(null)}),a.on("data",function(e){if(P("wrapped data"),b.decoder&&(e=b.decoder.write(e)),(!b.objectMode||null!==e&&void 0!==e)&&(b.objectMode||e&&e.length)){d.push(e)||(c=!0,a.pause())}});for(var e in a)void 0===this[e]&&"function"==typeof a[e]&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));for(var f=0;f<T.length;f++)a.on(T[f],d.emit.bind(d,T[f]));return d._read=function(b){P("wrapped _read",b),c&&(c=!1,a.resume())},d},i._fromList=z}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":360,"./internal/streams/BufferList":365,"./internal/streams/destroy":366,"./internal/streams/stream":367,_process:358,"core-util-is":368,events:355,inherits:356,isarray:369,"process-nextick-args":370,"safe-buffer":371,"string_decoder/":372,util:350}],363:[function(a,b,c){"use strict";function d(a){this.afterTransform=function(b,c){return e(a,b,c)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function e(a,b,c){var d=a._transformState;d.transforming=!1;var e=d.writecb;if(!e)return a.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,null!==c&&void 0!==c&&a.push(c),e(b);var f=a._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&a._read(f.highWaterMark)}function f(a){if(!(this instanceof f))return new f(a);h.call(this,a),this._transformState=new d(this);var b=this;this._readableState.needReadable=!0,this._readableState.sync=!1,a&&("function"==typeof a.transform&&(this._transform=a.transform),"function"==typeof a.flush&&(this._flush=a.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(a,c){g(b,a,c)}):g(b)})}function g(a,b,c){if(b)return a.emit("error",b);null!==c&&void 0!==c&&a.push(c);var d=a._writableState,e=a._transformState;if(d.length)throw new Error("Calling transform done when ws.length != 0");if(e.transforming)throw new Error("Calling transform done when still transforming");return a.push(null)}b.exports=f;var h=a("./_stream_duplex"),i=a("core-util-is");i.inherits=a("inherits"),i.inherits(f,h),f.prototype.push=function(a,b){return this._transformState.needTransform=!1,h.prototype.push.call(this,a,b)},f.prototype._transform=function(a,b,c){throw new Error("_transform() is not implemented")},f.prototype._write=function(a,b,c){var d=this._transformState;if(d.writecb=c,d.writechunk=a,d.writeencoding=b,!d.transforming){var e=this._readableState;(d.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}},f.prototype._read=function(a){var b=this._transformState;null!==b.writechunk&&b.writecb&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0},f.prototype._destroy=function(a,b){var c=this;h.prototype._destroy.call(this,a,function(a){b(a),c.emit("close")})}},{"./_stream_duplex":360,"core-util-is":368,inherits:356}],364:[function(a,b,c){(function(c,d){"use strict";function e(a){var b=this;this.next=null,this.entry=null,this.finish=function(){A(b,a)}}function f(a){return H.from(a)}function g(a){return H.isBuffer(a)||a instanceof I}function h(){}function i(b,c){C=C||a("./_stream_duplex"),b=b||{},this.objectMode=!!b.objectMode,c instanceof C&&(this.objectMode=this.objectMode||!!b.writableObjectMode);var d=b.highWaterMark,f=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var g=!1===b.decodeStrings;this.decodeStrings=!g,this.defaultEncoding=b.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){r(c,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function j(b){if(C=C||a("./_stream_duplex"),!(K.call(j,this)||this instanceof C))return new j(b);this._writableState=new i(b,this),this.writable=!0,b&&("function"==typeof b.write&&(this._write=b.write),"function"==typeof b.writev&&(this._writev=b.writev),"function"==typeof b.destroy&&(this._destroy=b.destroy),"function"==typeof b.final&&(this._final=b.final)),G.call(this)}function k(a,b){var c=new Error("write after end");a.emit("error",c),B(b,c)}function l(a,b,c,d){var e=!0,f=!1;return null===c?f=new TypeError("May not write null values to stream"):"string"==typeof c||void 0===c||b.objectMode||(f=new TypeError("Invalid non-string/buffer chunk")),f&&(a.emit("error",f),B(d,f),e=!1),e}function m(a,b,c){return a.objectMode||!1===a.decodeStrings||"string"!=typeof b||(b=H.from(b,c)),b}function n(a,b,c,d,e,f){if(!c){var g=m(b,d,e);d!==g&&(c=!0,e="buffer",d=g)}var h=b.objectMode?1:d.length;b.length+=h;var i=b.length<b.highWaterMark;if(i||(b.needDrain=!0),b.writing||b.corked){var j=b.lastBufferedRequest;b.lastBufferedRequest={chunk:d,encoding:e,isBuf:c,callback:f,next:null},j?j.next=b.lastBufferedRequest:b.bufferedRequest=b.lastBufferedRequest,b.bufferedRequestCount+=1}else o(a,b,!1,h,d,e,f);return i}function o(a,b,c,d,e,f,g){b.writelen=d,b.writecb=g,b.writing=!0,b.sync=!0,c?a._writev(e,b.onwrite):a._write(e,f,b.onwrite),b.sync=!1}function p(a,b,c,d,e){--b.pendingcb,c?(B(e,d),B(y,a,b),a._writableState.errorEmitted=!0,a.emit("error",d)):(e(d),a._writableState.errorEmitted=!0,a.emit("error",d),y(a,b))}function q(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function r(a,b){var c=a._writableState,d=c.sync,e=c.writecb;if(q(c),b)p(a,c,d,b,e);else{var f=v(c);f||c.corked||c.bufferProcessing||!c.bufferedRequest||u(a,c),d?D(s,a,c,f,e):s(a,c,f,e)}}function s(a,b,c,d){c||t(a,b),b.pendingcb--,d(),y(a,b)}function t(a,b){0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"))}function u(a,b){b.bufferProcessing=!0;var c=b.bufferedRequest;if(a._writev&&c&&c.next){var d=b.bufferedRequestCount,f=new Array(d),g=b.corkedRequestsFree;g.entry=c;for(var h=0,i=!0;c;)f[h]=c,c.isBuf||(i=!1),c=c.next,h+=1;f.allBuffers=i,o(a,b,!0,b.length,f,"",g.finish),b.pendingcb++,b.lastBufferedRequest=null,g.next?(b.corkedRequestsFree=g.next,g.next=null):b.corkedRequestsFree=new e(b)}else{for(;c;){var j=c.chunk,k=c.encoding,l=c.callback;if(o(a,b,!1,b.objectMode?1:j.length,j,k,l),c=c.next,b.writing)break}null===c&&(b.lastBufferedRequest=null)}b.bufferedRequestCount=0,b.bufferedRequest=c,b.bufferProcessing=!1}function v(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function w(a,b){a._final(function(c){b.pendingcb--,c&&a.emit("error",c),b.prefinished=!0,a.emit("prefinish"),y(a,b)})}function x(a,b){b.prefinished||b.finalCalled||("function"==typeof a._final?(b.pendingcb++,b.finalCalled=!0,B(w,a,b)):(b.prefinished=!0,a.emit("prefinish")))}function y(a,b){var c=v(b);return c&&(x(a,b),0===b.pendingcb&&(b.finished=!0,a.emit("finish"))),c}function z(a,b,c){b.ending=!0,y(a,b),c&&(b.finished?B(c):a.once("finish",c)),b.ended=!0,a.writable=!1}function A(a,b,c){var d=a.entry;for(a.entry=null;d;){var e=d.callback;b.pendingcb--,e(c),d=d.next}b.corkedRequestsFree?b.corkedRequestsFree.next=a:b.corkedRequestsFree=a}var B=a("process-nextick-args");b.exports=j;var C,D=!c.browser&&["v0.10","v0.9."].indexOf(c.version.slice(0,5))>-1?setImmediate:B;j.WritableState=i;var E=a("core-util-is");E.inherits=a("inherits");var F={deprecate:a("util-deprecate")},G=a("./internal/streams/stream"),H=a("safe-buffer").Buffer,I=d.Uint8Array||function(){},J=a("./internal/streams/destroy");E.inherits(j,G),i.prototype.getBuffer=function(){for(var a=this.bufferedRequest,b=[];a;)b.push(a),a=a.next;return b},function(){try{Object.defineProperty(i.prototype,"buffer",{get:F.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(a){}}();var K;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(K=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(a){return!!K.call(this,a)||a&&a._writableState instanceof i}})):K=function(a){return a instanceof this},j.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},j.prototype.write=function(a,b,c){var d=this._writableState,e=!1,i=g(a)&&!d.objectMode;return i&&!H.isBuffer(a)&&(a=f(a)),"function"==typeof b&&(c=b,b=null),i?b="buffer":b||(b=d.defaultEncoding),"function"!=typeof c&&(c=h),d.ended?k(this,c):(i||l(this,d,a,c))&&(d.pendingcb++,e=n(this,d,i,a,b,c)),e},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,a.writing||a.corked||a.finished||a.bufferProcessing||!a.bufferedRequest||u(this,a))},j.prototype.setDefaultEncoding=function(a){if("string"==typeof a&&(a=a.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((a+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+a);return this._writableState.defaultEncoding=a,this},j.prototype._write=function(a,b,c){c(new Error("_write() is not implemented"))},j.prototype._writev=null,j.prototype.end=function(a,b,c){var d=this._writableState;"function"==typeof a?(c=a,a=null,b=null):"function"==typeof b&&(c=b,b=null),null!==a&&void 0!==a&&this.write(a,b),d.corked&&(d.corked=1,this.uncork()),d.ending||d.finished||z(this,d,c)},Object.defineProperty(j.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(a){this._writableState&&(this._writableState.destroyed=a)}}),j.prototype.destroy=J.destroy,j.prototype._undestroy=J.undestroy,j.prototype._destroy=function(a,b){this.end(),b(a)}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":360,"./internal/streams/destroy":366,"./internal/streams/stream":367,_process:358,"core-util-is":368,inherits:356,"process-nextick-args":370,"safe-buffer":371,"util-deprecate":373}],365:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b,c){a.copy(b,c)}var f=a("safe-buffer").Buffer;b.exports=function(){function a(){d(this,a),this.head=null,this.tail=null,this.length=0}return a.prototype.push=function(a){var b={data:a,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length},a.prototype.unshift=function(a){var b={data:a,next:this.head};0===this.length&&(this.tail=b),this.head=b,++this.length},a.prototype.shift=function(){if(0!==this.length){var a=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},a.prototype.clear=function(){this.head=this.tail=null,this.length=0},a.prototype.join=function(a){if(0===this.length)return"";for(var b=this.head,c=""+b.data;b=b.next;)c+=a+b.data;return c},a.prototype.concat=function(a){if(0===this.length)return f.alloc(0);if(1===this.length)return this.head.data;for(var b=f.allocUnsafe(a>>>0),c=this.head,d=0;c;)e(c.data,b,d),d+=c.data.length,c=c.next;return b},a}()},{"safe-buffer":371}],366:[function(a,b,c){"use strict";function d(a,b){var c=this,d=this._readableState&&this._readableState.destroyed,e=this._writableState&&this._writableState.destroyed;if(d||e)return void(b?b(a):!a||this._writableState&&this._writableState.errorEmitted||g(f,this,a));this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(a){!b&&a?(g(f,c,a),c._writableState&&(c._writableState.errorEmitted=!0)):b&&b(a)})}function e(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function f(a,b){a.emit("error",b)}var g=a("process-nextick-args");b.exports={destroy:d,undestroy:e}},{"process-nextick-args":370}],367:[function(a,b,c){b.exports=a("events").EventEmitter},{events:355}],368:[function(a,b,c){(function(a){function b(a){return Array.isArray?Array.isArray(a):"[object Array]"===q(a)}function d(a){return"boolean"==typeof a}function e(a){return null===a}function f(a){return null==a}function g(a){return"number"==typeof a}function h(a){return"string"==typeof a}function i(a){return"symbol"==typeof a}function j(a){return void 0===a}function k(a){return"[object RegExp]"===q(a)}function l(a){return"object"==typeof a&&null!==a}function m(a){return"[object Date]"===q(a)}function n(a){return"[object Error]"===q(a)||a instanceof Error}function o(a){return"function"==typeof a}function p(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||void 0===a}function q(a){return Object.prototype.toString.call(a)}c.isArray=b,c.isBoolean=d,c.isNull=e,c.isNullOrUndefined=f,c.isNumber=g,c.isString=h,c.isSymbol=i,c.isUndefined=j,c.isRegExp=k,c.isObject=l,c.isDate=m,c.isError=n,c.isFunction=o,c.isPrimitive=p,c.isBuffer=a.isBuffer}).call(this,{isBuffer:a("../../../../insert-module-globals/node_modules/is-buffer/index.js")})},{"../../../../insert-module-globals/node_modules/is-buffer/index.js":357}],369:[function(a,b,c){arguments[4][354][0].apply(c,arguments)},{dup:354}],370:[function(a,b,c){(function(a){"use strict";function c(b,c,d,e){if("function"!=typeof b)throw new TypeError('"callback" argument must be a function');var f,g,h=arguments.length;switch(h){case 0:case 1:return a.nextTick(b);case 2:return a.nextTick(function(){b.call(null,c)});case 3:return a.nextTick(function(){b.call(null,c,d)});case 4:return a.nextTick(function(){b.call(null,c,d,e)});default:for(f=new Array(h-1),g=0;g<f.length;)f[g++]=arguments[g];return a.nextTick(function(){b.apply(null,f)})}}!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?b.exports=c:b.exports=a.nextTick}).call(this,a("_process"))},{_process:358}],371:[function(a,b,c){function d(a,b){for(var c in a)b[c]=a[c]}function e(a,b,c){return g(a,b,c)}var f=a("buffer"),g=f.Buffer;g.from&&g.alloc&&g.allocUnsafe&&g.allocUnsafeSlow?b.exports=f:(d(f,c),c.Buffer=e),d(g,e),e.from=function(a,b,c){if("number"==typeof a)throw new TypeError("Argument must not be a number");return g(a,b,c)},e.alloc=function(a,b,c){if("number"!=typeof a)throw new TypeError("Argument must be a number");var d=g(a)
;return void 0!==b?"string"==typeof c?d.fill(b,c):d.fill(b):d.fill(0),d},e.allocUnsafe=function(a){if("number"!=typeof a)throw new TypeError("Argument must be a number");return g(a)},e.allocUnsafeSlow=function(a){if("number"!=typeof a)throw new TypeError("Argument must be a number");return f.SlowBuffer(a)}},{buffer:351}],372:[function(a,b,c){"use strict";function d(a){if(!a)return"utf8";for(var b;;)switch(a){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return a;default:if(b)return;a=(""+a).toLowerCase(),b=!0}}function e(a){var b=d(a);if("string"!=typeof b&&(s.isEncoding===t||!t(a)))throw new Error("Unknown encoding: "+a);return b||a}function f(a){this.encoding=e(a);var b;switch(this.encoding){case"utf16le":this.text=m,this.end=n,b=4;break;case"utf8":this.fillLast=j,b=4;break;case"base64":this.text=o,this.end=p,b=3;break;default:return this.write=q,void(this.end=r)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(b)}function g(a){return a<=127?0:a>>5==6?2:a>>4==14?3:a>>3==30?4:-1}function h(a,b,c){var d=b.length-1;if(d<c)return 0;var e=g(b[d]);return e>=0?(e>0&&(a.lastNeed=e-1),e):--d<c?0:(e=g(b[d]))>=0?(e>0&&(a.lastNeed=e-2),e):--d<c?0:(e=g(b[d]),e>=0?(e>0&&(2===e?e=0:a.lastNeed=e-3),e):0)}function i(a,b,c){if(128!=(192&b[0]))return a.lastNeed=0,"".repeat(c);if(a.lastNeed>1&&b.length>1){if(128!=(192&b[1]))return a.lastNeed=1,"".repeat(c+1);if(a.lastNeed>2&&b.length>2&&128!=(192&b[2]))return a.lastNeed=2,"".repeat(c+2)}}function j(a){var b=this.lastTotal-this.lastNeed,c=i(this,a,b);return void 0!==c?c:this.lastNeed<=a.length?(a.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(a.copy(this.lastChar,b,0,a.length),void(this.lastNeed-=a.length))}function k(a,b){var c=h(this,a,b);if(!this.lastNeed)return a.toString("utf8",b);this.lastTotal=c;var d=a.length-(c-this.lastNeed);return a.copy(this.lastChar,0,d),a.toString("utf8",b,d)}function l(a){var b=a&&a.length?this.write(a):"";return this.lastNeed?b+"".repeat(this.lastTotal-this.lastNeed):b}function m(a,b){if((a.length-b)%2==0){var c=a.toString("utf16le",b);if(c){var d=c.charCodeAt(c.length-1);if(d>=55296&&d<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1],c.slice(0,-1)}return c}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=a[a.length-1],a.toString("utf16le",b,a.length-1)}function n(a){var b=a&&a.length?this.write(a):"";if(this.lastNeed){var c=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,c)}return b}function o(a,b){var c=(a.length-b)%3;return 0===c?a.toString("base64",b):(this.lastNeed=3-c,this.lastTotal=3,1===c?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]),a.toString("base64",b,a.length-c))}function p(a){var b=a&&a.length?this.write(a):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function q(a){return a.toString(this.encoding)}function r(a){return a&&a.length?this.write(a):""}var s=a("safe-buffer").Buffer,t=s.isEncoding||function(a){switch((a=""+a)&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};c.StringDecoder=f,f.prototype.write=function(a){if(0===a.length)return"";var b,c;if(this.lastNeed){if(void 0===(b=this.fillLast(a)))return"";c=this.lastNeed,this.lastNeed=0}else c=0;return c<a.length?b?b+this.text(a,c):this.text(a,c):b||""},f.prototype.end=l,f.prototype.text=k,f.prototype.fillLast=function(a){if(this.lastNeed<=a.length)return a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length),this.lastNeed-=a.length}},{"safe-buffer":371}],373:[function(a,b,c){(function(a){function c(a,b){function c(){if(!e){if(d("throwDeprecation"))throw new Error(b);d("traceDeprecation")?console.trace(b):console.warn(b),e=!0}return a.apply(this,arguments)}if(d("noDeprecation"))return a;var e=!1;return c}function d(b){try{if(!a.localStorage)return!1}catch(d){return!1}var c=a.localStorage[b];return null!=c&&"true"===String(c).toLowerCase()}b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],374:[function(a,b,c){b.exports=a("./readable").PassThrough},{"./readable":375}],375:[function(a,b,c){c=b.exports=a("./lib/_stream_readable.js"),c.Stream=c,c.Readable=c,c.Writable=a("./lib/_stream_writable.js"),c.Duplex=a("./lib/_stream_duplex.js"),c.Transform=a("./lib/_stream_transform.js"),c.PassThrough=a("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":360,"./lib/_stream_passthrough.js":361,"./lib/_stream_readable.js":362,"./lib/_stream_transform.js":363,"./lib/_stream_writable.js":364}],376:[function(a,b,c){b.exports=a("./readable").Transform},{"./readable":375}],377:[function(a,b,c){b.exports=a("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":364}],378:[function(a,b,c){function d(){e.call(this)}b.exports=d;var e=a("events").EventEmitter;a("inherits")(d,e),d.Readable=a("readable-stream/readable.js"),d.Writable=a("readable-stream/writable.js"),d.Duplex=a("readable-stream/duplex.js"),d.Transform=a("readable-stream/transform.js"),d.PassThrough=a("readable-stream/passthrough.js"),d.Stream=d,d.prototype.pipe=function(a,b){function c(b){a.writable&&!1===a.write(b)&&j.pause&&j.pause()}function d(){j.readable&&j.resume&&j.resume()}function f(){k||(k=!0,a.end())}function g(){k||(k=!0,"function"==typeof a.destroy&&a.destroy())}function h(a){if(i(),0===e.listenerCount(this,"error"))throw a}function i(){j.removeListener("data",c),a.removeListener("drain",d),j.removeListener("end",f),j.removeListener("close",g),j.removeListener("error",h),a.removeListener("error",h),j.removeListener("end",i),j.removeListener("close",i),a.removeListener("close",i)}var j=this;j.on("data",c),a.on("drain",d),a._isStdio||b&&!1===b.end||(j.on("end",f),j.on("close",g));var k=!1;return j.on("error",h),a.on("error",h),j.on("end",i),j.on("close",i),a.on("close",i),a.emit("pipe",j),a}},{events:355,inherits:356,"readable-stream/duplex.js":359,"readable-stream/passthrough.js":374,"readable-stream/readable.js":375,"readable-stream/transform.js":376,"readable-stream/writable.js":377}],379:[function(a,b,c){function d(a){if(a&&!i(a))throw new Error("Unknown encoding: "+a)}function e(a){return a.toString(this.encoding)}function f(a){this.charReceived=a.length%2,this.charLength=this.charReceived?2:0}function g(a){this.charReceived=a.length%3,this.charLength=this.charReceived?3:0}var h=a("buffer").Buffer,i=h.isEncoding||function(a){switch(a&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},j=c.StringDecoder=function(a){switch(this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,""),d(a),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=f;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=g;break;default:return void(this.write=e)}this.charBuffer=new h(6),this.charReceived=0,this.charLength=0};j.prototype.write=function(a){for(var b="";this.charLength;){var c=a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;if(a.copy(this.charBuffer,this.charReceived,0,c),this.charReceived+=c,this.charReceived<this.charLength)return"";a=a.slice(c,a.length),b=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var d=b.charCodeAt(b.length-1);if(!(d>=55296&&d<=56319)){if(this.charReceived=this.charLength=0,0===a.length)return b;break}this.charLength+=this.surrogateSize,b=""}this.detectIncompleteChar(a);var e=a.length;this.charLength&&(a.copy(this.charBuffer,0,a.length-this.charReceived,e),e-=this.charReceived),b+=a.toString(this.encoding,0,e);var e=b.length-1,d=b.charCodeAt(e);if(d>=55296&&d<=56319){var f=this.surrogateSize;return this.charLength+=f,this.charReceived+=f,this.charBuffer.copy(this.charBuffer,f,0,f),a.copy(this.charBuffer,0,0,f),b.substring(0,e)}return b},j.prototype.detectIncompleteChar=function(a){for(var b=a.length>=3?3:a.length;b>0;b--){var c=a[a.length-b];if(1==b&&c>>5==6){this.charLength=2;break}if(b<=2&&c>>4==14){this.charLength=3;break}if(b<=3&&c>>3==30){this.charLength=4;break}}this.charReceived=b},j.prototype.end=function(a){var b="";if(a&&a.length&&(b=this.write(a)),this.charReceived){var c=this.charReceived,d=this.charBuffer,e=this.encoding;b+=d.slice(0,c).toString(e)}return b}},{buffer:351}]},{},[1])(1)});